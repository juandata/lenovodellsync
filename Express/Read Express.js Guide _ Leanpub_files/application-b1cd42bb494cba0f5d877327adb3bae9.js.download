/*!
 * jQuery JavaScript Library v1.7.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Mon Nov 21 21:11:03 2011 -0500
 */
!function(e,t){function n(e){var t,n,i=O[e]={};for(e=e.split(/\s+/),t=0,n=e.length;n>t;t++)i[e[t]]=!0;return i}function i(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(H,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:R.isNumeric(i)?parseFloat(i):B.test(i)?R.parseJSON(i):i}catch(o){}R.data(e,n,i)}else i=t}return i}function r(e){for(var t in e)if(("data"!==t||!R.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(e,t,n){var i=t+"defer",r=t+"queue",o=t+"mark",s=R._data(e,i);!s||"queue"!==n&&R._data(e,r)||"mark"!==n&&R._data(e,o)||setTimeout(function(){R._data(e,r)||R._data(e,o)||(R.removeData(e,i,!0),s.fire())},0)}function s(){return!1}function a(){return!0}function l(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function c(e,t,n){if(t=t||0,R.isFunction(t))return R.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return R.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=R.grep(e,function(e){return 1===e.nodeType});if(dt.test(t))return R.filter(t,i,!n);t=R.filter(t,i)}return R.grep(e,function(e){return R.inArray(e,t)>=0===n})}function u(e){var t=mt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e){return R.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function h(e,t){if(1===t.nodeType&&R.hasData(e)){var n,i,r,o=R._data(e),s=R._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)R.event.add(t,n+(a[n][i].namespace?".":"")+a[n][i].namespace,a[n][i],a[n][i].data)}s.data&&(s.data=R.extend({},s.data))}}function f(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?t.outerHTML=e.outerHTML:"input"!==n||"checkbox"!==e.type&&"radio"!==e.type?"option"===n?t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(R.expando))}function p(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function m(e){("checkbox"===e.type||"radio"===e.type)&&(e.defaultChecked=e.checked)}function g(e){var t=(e.nodeName||"").toLowerCase();"input"===t?m(e):"script"!==t&&"undefined"!=typeof e.getElementsByTagName&&R.grep(e.getElementsByTagName("input"),m)}function v(e){var t=I.createElement("div");return At.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function y(e,t){t.src?R.ajax({url:t.src,async:!1,dataType:"script"}):R.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)}function b(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,r="width"===t?Ht:jt,o=0,s=r.length;if(i>0){if("border"!==n)for(;s>o;o++)n||(i-=parseFloat(R.css(e,"padding"+r[o]))||0),"margin"===n?i+=parseFloat(R.css(e,n+r[o]))||0:i-=parseFloat(R.css(e,"border"+r[o]+"Width"))||0;return i+"px"}if(i=Mt(e,t,t),(0>i||null==i)&&(i=e.style[t]||0),i=parseFloat(i)||0,n)for(;s>o;o++)i+=parseFloat(R.css(e,"padding"+r[o]))||0,"padding"!==n&&(i+=parseFloat(R.css(e,"border"+r[o]+"Width"))||0),"margin"===n&&(i+=parseFloat(R.css(e,n+r[o]))||0);return i+"px"}function _(e){return function(t,n){if("string"!=typeof t&&(n=t,t="*"),R.isFunction(n))for(var i,r,o,s=t.toLowerCase().split(nn),a=0,l=s.length;l>a;a++)i=s[a],o=/^\+/.test(i),o&&(i=i.substr(1)||"*"),r=e[i]=e[i]||[],r[o?"unshift":"push"](n)}}function w(e,n,i,r,o,s){o=o||n.dataTypes[0],s=s||{},s[o]=!0;for(var a,l=e[o],c=0,u=l?l.length:0,d=e===an;u>c&&(d||!a);c++)a=l[c](n,i,r),"string"==typeof a&&(!d||s[a]?a=t:(n.dataTypes.unshift(a),a=w(e,n,i,r,a,s)));return!d&&a||s["*"]||(a=w(e,n,i,r,"*",s)),a}function x(e,n){var i,r,o=R.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);r&&R.extend(!0,e,r)}function C(e,t,n,i){if(R.isArray(t))R.each(t,function(t,r){n||Wt.test(e)?i(e,r):C(e+"["+("object"==typeof r||R.isArray(r)?t:"")+"]",r,n,i)});else if(n||null==t||"object"!=typeof t)i(e,t);else for(var r in t)C(e+"["+r+"]",t[r],n,i)}function k(e,n,i){var r,o,s,a,l=e.contents,c=e.dataTypes,u=e.responseFields;for(o in u)o in i&&(n[u[o]]=i[o]);for(;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("content-type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){c.unshift(o);break}if(c[0]in i)s=c[0];else{for(o in i){if(!c[0]||e.converters[o+" "+c[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function S(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var i,r,o,s,a,l,c,u,d=e.dataTypes,h={},f=d.length,p=d[0];for(i=1;f>i;i++){if(1===i)for(r in e.converters)"string"==typeof r&&(h[r.toLowerCase()]=e.converters[r]);if(s=p,p=d[i],"*"===p)p=s;else if("*"!==s&&s!==p){if(a=s+" "+p,l=h[a]||h["* "+p],!l){u=t;for(c in h)if(o=c.split(" "),(o[0]===s||"*"===o[0])&&(u=h[o[1]+" "+p])){c=h[c],c===!0?l=u:u===!0&&(l=c);break}}l||u||R.error("No conversion from "+a.replace(" "," to ")),l!==!0&&(n=l?l(n):u(c(n)))}}return n}function E(){try{return new e.XMLHttpRequest}catch(t){}}function T(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function N(){return setTimeout(A,0),bn=R.now()}function A(){bn=t}function M(e,t){var n={};return R.each(Cn.concat.apply([],Cn.slice(0,t)),function(){n[this]=e}),n}function D(e){if(!_n[e]){var t=I.body,n=R("<"+e+">").appendTo(t),i=n.css("display");n.remove(),("none"===i||""===i)&&(gn||(gn=I.createElement("iframe"),gn.frameBorder=gn.width=gn.height=0),t.appendChild(gn),vn&&gn.createElement||(vn=(gn.contentWindow||gn.contentDocument).document,vn.write(("CSS1Compat"===I.compatMode?"<!doctype html>":"")+"<html><body>"),vn.close()),n=vn.createElement(e),vn.body.appendChild(n),i=R.css(n,"display"),t.removeChild(gn)),_n[e]=i}return _n[e]}function L(e){return R.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var I=e.document,F=e.navigator,P=e.location,R=function(){function n(){if(!a.isReady){try{I.documentElement.doScroll("left")}catch(e){return setTimeout(n,1),void 0}a.ready()}}var i,r,o,s,a=function(e,t){return new a.fn.init(e,t,i)},l=e.jQuery,c=e.$,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,d=/\S/,h=/^\s+/,f=/\s+$/,p=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,_=/(opera)(?:.*version)?[ \/]([\w.]+)/,w=/(msie) ([\w.]+)/,x=/(mozilla)(?:.*? rv:([\w.]+))?/,C=/-([a-z]|[0-9])/gi,k=/^-ms-/,S=function(e,t){return(t+"").toUpperCase()},E=F.userAgent,T=Object.prototype.toString,N=Object.prototype.hasOwnProperty,A=Array.prototype.push,M=Array.prototype.slice,D=String.prototype.trim,L=Array.prototype.indexOf,P={};return a.fn=a.prototype={constructor:a,init:function(e,n,i){var r,o,s,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!n&&I.body)return this.context=I,this[0]=I.body,this.selector=e,this.length=1,this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:u.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1])return n=n instanceof a?n[0]:n,l=n?n.ownerDocument||n:I,s=p.exec(e),s?a.isPlainObject(n)?(e=[I.createElement(s[1])],a.fn.attr.call(e,n,!0)):e=[l.createElement(s[1])]:(s=a.buildFragment([r[1]],[l]),e=(s.cacheable?a.clone(s.fragment):s.fragment).childNodes),a.merge(this,e);if(o=I.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=I,this.selector=e,this}return a.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),a.makeArray(e,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return M.call(this,0)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=this.constructor();return a.isArray(e)?A.apply(i,e):a.merge(i,e),i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return a.each(this,e,t)},ready:function(e){return a.bindReady(),o.add(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(M.apply(this,arguments),"slice",M.call(arguments).join(","))},map:function(e){return this.pushStack(a.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:A,sort:[].sort,splice:[].splice},a.fn.init.prototype=a.fn,a.extend=a.fn.extend=function(){var e,n,i,r,o,s,l=arguments[0]||{},c=1,u=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},c=2),"object"==typeof l||a.isFunction(l)||(l={}),u===c&&(l=this,--c);u>c;c++)if(null!=(e=arguments[c]))for(n in e)i=l[n],r=e[n],l!==r&&(d&&r&&(a.isPlainObject(r)||(o=a.isArray(r)))?(o?(o=!1,s=i&&a.isArray(i)?i:[]):s=i&&a.isPlainObject(i)?i:{},l[n]=a.extend(d,s,r)):r!==t&&(l[n]=r));return l},a.extend({noConflict:function(t){return e.$===a&&(e.$=c),t&&e.jQuery===a&&(e.jQuery=l),a},isReady:!1,readyWait:1,holdReady:function(e){e?a.readyWait++:a.ready(!0)},ready:function(e){if(e===!0&&!--a.readyWait||e!==!0&&!a.isReady){if(!I.body)return setTimeout(a.ready,1);if(a.isReady=!0,e!==!0&&--a.readyWait>0)return;o.fireWith(I,[a]),a.fn.trigger&&a(I).trigger("ready").off("ready")}},bindReady:function(){if(!o){if(o=a.Callbacks("once memory"),"complete"===I.readyState)return setTimeout(a.ready,1);if(I.addEventListener)I.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",a.ready,!1);else if(I.attachEvent){I.attachEvent("onreadystatechange",s),e.attachEvent("onload",a.ready);var t=!1;try{t=null==e.frameElement}catch(i){}I.documentElement.doScroll&&t&&n()}}},isFunction:function(e){return"function"===a.type(e)},isArray:Array.isArray||function(e){return"array"===a.type(e)},isWindow:function(e){return e&&"object"==typeof e&&"setInterval"in e},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):P[T.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==a.type(e)||e.nodeType||a.isWindow(e))return!1;try{if(e.constructor&&!N.call(e,"constructor")&&!N.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||N.call(e,i)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){return"string"==typeof t&&t?(t=a.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):m.test(t.replace(g,"@").replace(v,"]").replace(y,""))?new Function("return "+t)():(a.error("Invalid JSON: "+t),void 0)):null},parseXML:function(n){var i,r;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||a.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&d.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(k,"ms-").replace(C,S)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,i){var r,o=0,s=e.length,l=s===t||a.isFunction(e);if(i)if(l){for(r in e)if(n.apply(e[r],i)===!1)break}else for(;s>o&&n.apply(e[o++],i)!==!1;);else if(l){for(r in e)if(n.call(e[r],r,e[r])===!1)break}else for(;s>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:D?function(e){return null==e?"":D.call(e)}:function(e){return null==e?"":e.toString().replace(h,"").replace(f,"")},makeArray:function(e,t){var n=t||[];if(null!=e){var i=a.type(e);null==e.length||"string"===i||"function"===i||"regexp"===i||a.isWindow(e)?A.call(n,e):a.merge(n,e)}return n},inArray:function(e,t,n){var i;if(t){if(L)return L.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=e.length,r=0;if("number"==typeof n.length)for(var o=n.length;o>r;r++)e[i++]=n[r];else for(;n[r]!==t;)e[i++]=n[r++];return e.length=i,e},grep:function(e,t,n){var i,r=[];n=!!n;for(var o=0,s=e.length;s>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,n,i){var r,o,s=[],l=0,c=e.length,u=e instanceof a||c!==t&&"number"==typeof c&&(c>0&&e[0]&&e[c-1]||0===c||a.isArray(e));if(u)for(;c>l;l++)r=n(e[l],l,i),null!=r&&(s[s.length]=r);else for(o in e)r=n(e[o],o,i),null!=r&&(s[s.length]=r);return s.concat.apply([],s)},guid:1,proxy:function(e,n){if("string"==typeof n){var i=e[n];n=e,e=i}if(!a.isFunction(e))return t;var r=M.call(arguments,2),o=function(){return e.apply(n,r.concat(M.call(arguments)))};return o.guid=e.guid=e.guid||o.guid||a.guid++,o},access:function(e,n,i,r,o,s){var l=e.length;if("object"==typeof n){for(var c in n)a.access(e,c,n[c],r,o,i);return e}if(i!==t){r=!s&&r&&a.isFunction(i);for(var u=0;l>u;u++)o(e[u],n,r?i.call(e[u],u,o(e[u],n)):i,s);return e}return l?o(e[0],n):t},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=b.exec(e)||_.exec(e)||w.exec(e)||e.indexOf("compatible")<0&&x.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}a.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof a&&!(i instanceof e)&&(i=e(i)),a.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(I);return e},browser:{}}),a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){P["[object "+t+"]"]=t.toLowerCase()}),r=a.uaMatch(E),r.browser&&(a.browser[r.browser]=!0,a.browser.version=r.version),a.browser.webkit&&(a.browser.safari=!0),d.test(" ")&&(h=/^[\s\xA0]+/,f=/[\s\xA0]+$/),i=a(I),I.addEventListener?s=function(){I.removeEventListener("DOMContentLoaded",s,!1),a.ready()}:I.attachEvent&&(s=function(){"complete"===I.readyState&&(I.detachEvent("onreadystatechange",s),a.ready())}),a}(),O={};R.Callbacks=function(e){e=e?O[e]||n(e):{};var i,r,o,s,a,l=[],c=[],u=function(t){var n,i,r,o;for(n=0,i=t.length;i>n;n++)r=t[n],o=R.type(r),"array"===o?u(r):"function"===o&&(e.unique&&h.has(r)||l.push(r))},d=function(t,n){for(n=n||[],i=!e.memory||[t,n],r=!0,a=o||0,o=0,s=l.length;l&&s>a;a++)if(l[a].apply(t,n)===!1&&e.stopOnFalse){i=!0;break}r=!1,l&&(e.once?i===!0?h.disable():l=[]:c&&c.length&&(i=c.shift(),h.fireWith(i[0],i[1])))},h={add:function(){if(l){var e=l.length;u(arguments),r?s=l.length:i&&i!==!0&&(o=e,d(i[0],i[1]))}return this},remove:function(){if(l)for(var t=arguments,n=0,i=t.length;i>n;n++)for(var o=0;o<l.length&&(t[n]!==l[o]||(r&&s>=o&&(s--,a>=o&&a--),l.splice(o--,1),!e.unique));o++);return this},has:function(e){if(l)for(var t=0,n=l.length;n>t;t++)if(e===l[t])return!0;return!1},empty:function(){return l=[],this},disable:function(){return l=c=i=t,this},disabled:function(){return!l},lock:function(){return c=t,i&&i!==!0||h.disable(),this},locked:function(){return!c},fireWith:function(t,n){return c&&(r?e.once||c.push([t,n]):e.once&&i||d(t,n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h};var $=[].slice;R.extend({Deferred:function(e){var t,n=R.Callbacks("once memory"),i=R.Callbacks("once memory"),r=R.Callbacks("memory"),o="pending",s={resolve:n,reject:i,notify:r},a={done:n.add,fail:i.add,progress:r.add,state:function(){return o},isResolved:n.fired,isRejected:i.fired,then:function(e,t,n){return l.done(e).fail(t).progress(n),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(e,t,n){return R.Deferred(function(i){R.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n,r=t[0],o=t[1];R.isFunction(r)?l[e](function(){n=r.apply(this,arguments),n&&R.isFunction(n.promise)?n.promise().then(i.resolve,i.reject,i.notify):i[o+"With"](this===l?i:this,[n])}):l[e](i[o])})}).promise()},promise:function(e){if(null==e)e=a;else for(var t in a)e[t]=a[t];return e}},l=a.promise({});for(t in s)l[t]=s[t].fire,l[t+"With"]=s[t].fireWith;return l.done(function(){o="resolved"},i.disable,r.lock).fail(function(){o="rejected"},n.disable,r.lock),e&&e.call(l,l),l},when:function(e){function t(e){return function(t){i[e]=arguments.length>1?$.call(arguments,0):t,--a||l.resolveWith(l,i)}}function n(e){return function(t){s[e]=arguments.length>1?$.call(arguments,0):t,l.notifyWith(c,s)}}var i=$.call(arguments,0),r=0,o=i.length,s=new Array(o),a=o,l=1>=o&&e&&R.isFunction(e.promise)?e:R.Deferred(),c=l.promise();if(o>1){for(;o>r;r++)i[r]&&i[r].promise&&R.isFunction(i[r].promise)?i[r].promise().then(t(r),l.reject,n(r)):--a;a||l.resolveWith(l,i)}else l!==e&&l.resolveWith(l,o?[e]:[]);return c}}),R.support=function(){var t,n,i,r,o,s,a,l,c,u,d,h,f=I.createElement("div");if(I.documentElement,f.setAttribute("className","t"),f.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",n=f.getElementsByTagName("*"),i=f.getElementsByTagName("a")[0],!n||!n.length||!i)return{};r=I.createElement("select"),o=r.appendChild(I.createElement("option")),s=f.getElementsByTagName("input")[0],t={leadingWhitespace:3===f.firstChild.nodeType,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.55/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===s.value,optSelected:o.selected,getSetAttribute:"t"!==f.className,enctype:!!I.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==I.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled;try{delete f.test}catch(p){t.deleteExpando=!1}if(!f.addEventListener&&f.attachEvent&&f.fireEvent&&(f.attachEvent("onclick",function(){t.noCloneEvent=!1}),f.cloneNode(!0).fireEvent("onclick")),s=I.createElement("input"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","checked"),f.appendChild(s),l=I.createDocumentFragment(),l.appendChild(f.lastChild),t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=s.checked,l.removeChild(s),l.appendChild(f),f.innerHTML="",e.getComputedStyle&&(a=I.createElement("div"),a.style.width="0",a.style.marginRight="0",f.style.width="2px",f.appendChild(a),t.reliableMarginRight=0===(parseInt((e.getComputedStyle(a,null)||{marginRight:0}).marginRight,10)||0)),f.attachEvent)for(d in{submit:1,change:1,focusin:1})u="on"+d,h=u in f,h||(f.setAttribute(u,"return;"),h="function"==typeof f[u]),t[d+"Bubbles"]=h;return l.removeChild(f),l=r=o=a=f=s=null,R(function(){var e,n,i,r,o,s,a,l,u,d,p=I.getElementsByTagName("body")[0];p&&(s=1,a="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",l="visibility:hidden;border:0;",u="style='"+a+"border:5px solid #000;padding:0;'",d="<div "+u+"><div></div></div>"+"<table "+u+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",e=I.createElement("div"),e.style.cssText=l+"width:0;height:0;position:static;top:0;margin-top:"+s+"px",p.insertBefore(e,p.firstChild),f=I.createElement("div"),e.appendChild(f),f.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",c=f.getElementsByTagName("td"),h=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",t.reliableHiddenOffsets=h&&0===c[0].offsetHeight,f.innerHTML="",f.style.width=f.style.paddingLeft="1px",R.boxModel=t.boxModel=2===f.offsetWidth,"undefined"!=typeof f.style.zoom&&(f.style.display="inline",f.style.zoom=1,t.inlineBlockNeedsLayout=2===f.offsetWidth,f.style.display="",f.innerHTML="<div style='width:4px;'></div>",t.shrinkWrapBlocks=2!==f.offsetWidth),f.style.cssText=a+l,f.innerHTML=d,n=f.firstChild,i=n.firstChild,r=n.nextSibling.firstChild.firstChild,o={doesNotAddBorder:5!==i.offsetTop,doesAddBorderForTableAndCells:5===r.offsetTop},i.style.position="fixed",i.style.top="20px",o.fixedPosition=20===i.offsetTop||15===i.offsetTop,i.style.position=i.style.top="",n.style.overflow="hidden",n.style.position="relative",o.subtractsBorderForOverflowNotVisible=-5===i.offsetTop,o.doesNotIncludeMarginInBodyOffset=p.offsetTop!==s,p.removeChild(e),f=e=null,R.extend(t,o))}),t}();var B=/^(?:\{.*\}|\[.*\])$/,H=/([A-Z])/g;R.extend({cache:{},uuid:0,expando:"jQuery"+(R.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?R.cache[e[R.expando]]:e[R.expando],!!e&&!r(e)},data:function(e,n,i,r){if(R.acceptData(e)){var o,s,a,l=R.expando,c="string"==typeof n,u=e.nodeType,d=u?R.cache:e,h=u?e[l]:e[l]&&l,f="events"===n;if(h&&d[h]&&(f||r||d[h].data)||!c||i!==t)return h||(u?e[l]=h=++R.uuid:h=l),d[h]||(d[h]={},u||(d[h].toJSON=R.noop)),("object"==typeof n||"function"==typeof n)&&(r?d[h]=R.extend(d[h],n):d[h].data=R.extend(d[h].data,n)),o=s=d[h],r||(s.data||(s.data={}),s=s.data),i!==t&&(s[R.camelCase(n)]=i),f&&!s[n]?o.events:(c?(a=s[n],null==a&&(a=s[R.camelCase(n)])):a=s,a)}},removeData:function(e,t,n){if(R.acceptData(e)){var i,o,s,a=R.expando,l=e.nodeType,c=l?R.cache:e,u=l?e[a]:a;if(c[u]){if(t&&(i=n?c[u]:c[u].data)){R.isArray(t)||(t in i?t=[t]:(t=R.camelCase(t),t=t in i?[t]:t.split(" ")));for(o=0,s=t.length;s>o;o++)delete i[t[o]];if(!(n?r:R.isEmptyObject)(i))return}(n||(delete c[u].data,r(c[u])))&&(R.support.deleteExpando||!c.setInterval?delete c[u]:c[u]=null,l&&(R.support.deleteExpando?delete e[a]:e.removeAttribute?e.removeAttribute(a):e[a]=null))}}},_data:function(e,t,n){return R.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=R.noData[e.nodeName.toLowerCase()];if(t)return!(t===!0||e.getAttribute("classid")!==t)}return!0}}),R.fn.extend({data:function(e,n){var r,o,s,a=null;if("undefined"==typeof e){if(this.length&&(a=R.data(this[0]),1===this[0].nodeType&&!R._data(this[0],"parsedAttrs"))){o=this[0].attributes;for(var l=0,c=o.length;c>l;l++)s=o[l].name,0===s.indexOf("data-")&&(s=R.camelCase(s.substring(5)),i(this[0],s,a[s]));R._data(this[0],"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){R.data(this,e)}):(r=e.split("."),r[1]=r[1]?"."+r[1]:"",n===t?(a=this.triggerHandler("getData"+r[1]+"!",[r[0]]),a===t&&this.length&&(a=R.data(this[0],e),a=i(this[0],e,a)),a===t&&r[1]?this.data(r[0]):a):this.each(function(){var t=R(this),i=[r[0],n];t.triggerHandler("setData"+r[1]+"!",i),R.data(this,e,n),t.triggerHandler("changeData"+r[1]+"!",i)}))},removeData:function(e){return this.each(function(){R.removeData(this,e)})}}),R.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",R._data(e,t,(R._data(e,t)||0)+1))},_unmark:function(e,t,n){if(e!==!0&&(n=t,t=e,e=!1),t){n=n||"fx";var i=n+"mark",r=e?0:(R._data(t,i)||1)-1;r?R._data(t,i,r):(R.removeData(t,i,!0),o(t,n,"mark"))}},queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=R._data(e,t),n&&(!i||R.isArray(n)?i=R._data(e,t,R.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=R.queue(e,t),i=n.shift(),r={};"inprogress"===i&&(i=n.shift()),i&&("fx"===t&&n.unshift("inprogress"),R._data(e,t+".run",r),i.call(e,function(){R.dequeue(e,t)},r)),n.length||(R.removeData(e,t+"queue "+t+".run",!0),o(e,t,"queue"))}}),R.fn.extend({queue:function(e,n){return"string"!=typeof e&&(n=e,e="fx"),n===t?R.queue(this[0],e):this.each(function(){var t=R.queue(this,e,n);"fx"===e&&"inprogress"!==t[0]&&R.dequeue(this,e)})},dequeue:function(e){return this.each(function(){R.dequeue(this,e)})},delay:function(e,t){return e=R.fx?R.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function i(){--l||o.resolveWith(s,[s])}"string"!=typeof e&&(n=e,e=t),e=e||"fx";for(var r,o=R.Deferred(),s=this,a=s.length,l=1,c=e+"defer",u=e+"queue",d=e+"mark";a--;)(r=R.data(s[a],c,t,!0)||(R.data(s[a],u,t,!0)||R.data(s[a],d,t,!0))&&R.data(s[a],c,R.Callbacks("once memory"),!0))&&(l++,r.add(i));return i(),o.promise()}});var j,z,U,q=/[\n\t\r]/g,W=/\s+/,V=/\r/g,X=/^(?:button|input)$/i,K=/^(?:button|input|object|select|textarea)$/i,Q=/^a(?:rea)?$/i,G=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Y=R.support.getSetAttribute;R.fn.extend({attr:function(e,t){return R.access(this,e,t,!0,R.attr)},removeAttr:function(e){return this.each(function(){R.removeAttr(this,e)})},prop:function(e,t){return R.access(this,e,t,!0,R.prop)},removeProp:function(e){return e=R.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,s,a;if(R.isFunction(e))return this.each(function(t){R(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(W),n=0,i=this.length;i>n;n++)if(r=this[n],1===r.nodeType)if(r.className||1!==t.length){for(o=" "+r.className+" ",s=0,a=t.length;a>s;s++)~o.indexOf(" "+t[s]+" ")||(o+=t[s]+" ");r.className=R.trim(o)}else r.className=e;return this},removeClass:function(e){var n,i,r,o,s,a,l;if(R.isFunction(e))return this.each(function(t){R(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(W),i=0,r=this.length;r>i;i++)if(o=this[i],1===o.nodeType&&o.className)if(e){for(s=(" "+o.className+" ").replace(q," "),a=0,l=n.length;l>a;a++)s=s.replace(" "+n[a]+" "," ");o.className=R.trim(s)}else o.className="";return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return R.isFunction(e)?this.each(function(n){R(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,o=0,s=R(this),a=t,l=e.split(W);r=l[o++];)a=i?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&R._data(this,"__className__",this.className),this.className=this.className||e===!1?"":R._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=R.isFunction(e),this.each(function(i){var o,s=R(this);1===this.nodeType&&(o=r?e.call(this,i,s.val()):e,null==o?o="":"number"==typeof o?o+="":R.isArray(o)&&(o=R.map(o,function(e){return null==e?"":e+""})),n=R.valHooks[this.nodeName.toLowerCase()]||R.valHooks[this.type],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=R.valHooks[o.nodeName.toLowerCase()]||R.valHooks[o.type],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(V,""):null==i?"":i)}}}),R.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,i,r,o=e.selectedIndex,s=[],a=e.options,l="select-one"===e.type;if(0>o)return null;for(n=l?o:0,i=l?o+1:a.length;i>n;n++)if(r=a[n],!(!r.selected||(R.support.optDisabled?r.disabled:null!==r.getAttribute("disabled"))||r.parentNode.disabled&&R.nodeName(r.parentNode,"optgroup"))){if(t=R(r).val(),l)return t;s.push(t)}return l&&!s.length&&a.length?R(a[o]).val():s},set:function(e,t){var n=R.makeArray(t);return R(e).find("option").each(function(){this.selected=R.inArray(R(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,i,r){var o,s,a,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&n in R.attrFn?R(e)[n](i):"undefined"==typeof e.getAttribute?R.prop(e,n,i):(a=1!==l||!R.isXMLDoc(e),a&&(n=n.toLowerCase(),s=R.attrHooks[n]||(G.test(n)?z:j)),i!==t?null===i?(R.removeAttr(e,n),void 0):s&&"set"in s&&a&&(o=s.set(e,i,n))!==t?o:(e.setAttribute(n,""+i),i):s&&"get"in s&&a&&null!==(o=s.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,i,r,o,s=0;if(t&&1===e.nodeType)for(i=t.toLowerCase().split(W),o=i.length;o>s;s++)r=i[s],r&&(n=R.propFix[r]||r,R.attr(e,r,""),e.removeAttribute(Y?r:n),G.test(r)&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(X.test(e.nodeName)&&e.parentNode)R.error("type property can't be changed");else if(!R.support.radioValue&&"radio"===t&&R.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&R.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){return j&&R.nodeName(e,"button")?j.set(e,t,n):(e.value=t,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!R.isXMLDoc(e),s&&(n=R.propFix[n]||n,o=R.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):K.test(e.nodeName)||Q.test(e.nodeName)&&e.href?0:t}}}}),R.attrHooks.tabindex=R.propHooks.tabIndex,z={get:function(e,n){var i,r=R.prop(e,n);return r===!0||"boolean"!=typeof r&&(i=e.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var i;return t===!1?R.removeAttr(e,n):(i=R.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},Y||(U={name:!0,id:!0},j=R.valHooks.button={get:function(e,n){var i;return i=e.getAttributeNode(n),i&&(U[n]?""!==i.nodeValue:i.specified)?i.nodeValue:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=I.createAttribute(n),e.setAttributeNode(i)),i.nodeValue=t+""}},R.attrHooks.tabindex.set=j.set,R.each(["width","height"],function(e,t){R.attrHooks[t]=R.extend(R.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),R.attrHooks.contenteditable={get:j.get,set:function(e,t,n){""===t&&(t="false"),j.set(e,t,n)}}),R.support.hrefNormalized||R.each(["href","src","width","height"],function(e,n){R.attrHooks[n]=R.extend(R.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null===i?t:i}})}),R.support.style||(R.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),R.support.optSelected||(R.propHooks.selected=R.extend(R.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),R.support.enctype||(R.propFix.enctype="encoding"),R.support.checkOn||R.each(["radio","checkbox"],function(){R.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),R.each(["radio","checkbox"],function(){R.valHooks[this]=R.extend(R.valHooks[this],{set:function(e,t){return R.isArray(t)?e.checked=R.inArray(R(e).val(),t)>=0:void 0}})});var Z=/^(?:textarea|input|select)$/i,J=/^([^\.]*)?(?:\.(.+))?$/,et=/\bhover(\.\S+)?\b/,tt=/^key/,nt=/^(?:mouse|contextmenu)|click/,it=/^(?:focusinfocus|focusoutblur)$/,rt=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,ot=function(e){var t=rt.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},st=function(e,t){var n=e.attributes||{};return!(t[1]&&e.nodeName.toLowerCase()!==t[1]||t[2]&&(n.id||{}).value!==t[2]||t[3]&&!t[3].test((n["class"]||{}).value))},at=function(e){return R.event.special.hover?e:e.replace(et,"mouseenter$1 mouseleave$1")};R.event={add:function(e,n,i,r,o){var s,a,l,c,u,d,h,f,p,m,g;if(3!==e.nodeType&&8!==e.nodeType&&n&&i&&(s=R._data(e))){for(i.handler&&(p=i,i=p.handler),i.guid||(i.guid=R.guid++),l=s.events,l||(s.events=l={}),a=s.handle,a||(s.handle=a=function(e){return"undefined"==typeof R||e&&R.event.triggered===e.type?t:R.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=R.trim(at(n)).split(" "),c=0;c<n.length;c++)u=J.exec(n[c])||[],d=u[1],h=(u[2]||"").split(".").sort(),g=R.event.special[d]||{},d=(o?g.delegateType:g.bindType)||d,g=R.event.special[d]||{},f=R.extend({type:d,origType:u[1],data:r,handler:i,guid:i.guid,selector:o,quick:ot(o),namespace:h.join(".")},p),m=l[d],m||(m=l[d]=[],m.delegateCount=0,g.setup&&g.setup.call(e,r,h,a)!==!1||(e.addEventListener?e.addEventListener(d,a,!1):e.attachEvent&&e.attachEvent("on"+d,a))),g.add&&(g.add.call(e,f),f.handler.guid||(f.handler.guid=i.guid)),o?m.splice(m.delegateCount++,0,f):m.push(f),R.event.global[d]=!0;
e=null}},global:{},remove:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,f,p,m,g,v=R.hasData(e)&&R._data(e);if(v&&(h=v.events)){for(t=R.trim(at(t||"")).split(" "),o=0;o<t.length;o++)if(s=J.exec(t[o])||[],a=l=s[1],c=s[2],a){for(f=R.event.special[a]||{},a=(i?f.delegateType:f.bindType)||a,m=h[a]||[],u=m.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=0;d<m.length;d++)g=m[d],!r&&l!==g.origType||n&&n.guid!==g.guid||c&&!c.test(g.namespace)||i&&i!==g.selector&&("**"!==i||!g.selector)||(m.splice(d--,1),g.selector&&m.delegateCount--,f.remove&&f.remove.call(e,g));0===m.length&&u!==m.length&&(f.teardown&&f.teardown.call(e,c)!==!1||R.removeEvent(e,a,v.handle),delete h[a])}else for(a in h)R.event.remove(e,a+t[o],n,i,!0);R.isEmptyObject(h)&&(p=v.handle,p&&(p.elem=null),R.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,o){if(!r||3!==r.nodeType&&8!==r.nodeType){var s,a,l,c,u,d,h,f,p,m,g=n.type||n,v=[];if(!it.test(g+R.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),r&&!R.event.customEvent[g]||R.event.global[g]))if(n="object"==typeof n?n[R.expando]?n:new R.Event(g,n):new R.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=a,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"",r){if(n.result=t,n.target||(n.target=r),i=null!=i?R.makeArray(i):[],i.unshift(n),h=R.event.special[g]||{},!h.trigger||h.trigger.apply(r,i)!==!1){if(p=[[r,h.bindType||g]],!o&&!h.noBubble&&!R.isWindow(r)){for(m=h.delegateType||g,c=it.test(m+g)?r:r.parentNode,u=null;c;c=c.parentNode)p.push([c,m]),u=c;u&&u===r.ownerDocument&&p.push([u.defaultView||u.parentWindow||e,m])}for(l=0;l<p.length&&!n.isPropagationStopped();l++)c=p[l][0],n.type=p[l][1],f=(R._data(c,"events")||{})[n.type]&&R._data(c,"handle"),f&&f.apply(c,i),f=d&&c[d],f&&R.acceptData(c)&&f.apply(c,i)===!1&&n.preventDefault();return n.type=g,o||n.isDefaultPrevented()||h._default&&h._default.apply(r.ownerDocument,i)!==!1||"click"===g&&R.nodeName(r,"a")||!R.acceptData(r)||d&&r[g]&&("focus"!==g&&"blur"!==g||0!==n.target.offsetWidth)&&!R.isWindow(r)&&(u=r[d],u&&(r[d]=null),R.event.triggered=g,r[g](),R.event.triggered=t,u&&(r[d]=u)),n.result}}else{s=R.cache;for(l in s)s[l].events&&s[l].events[g]&&R.event.trigger(n,i,s[l].handle.elem,!0)}}},dispatch:function(n){n=R.event.fix(n||e.event);var i,r,o,s,a,l,c,u,d,h,f=(R._data(this,"events")||{})[n.type]||[],p=f.delegateCount,m=[].slice.call(arguments,0),g=!n.exclusive&&!n.namespace,v=[];if(m[0]=n,n.delegateTarget=this,p&&!n.target.disabled&&(!n.button||"click"!==n.type))for(s=R(this),s.context=this.ownerDocument||this,o=n.target;o!=this;o=o.parentNode||this){for(l={},u=[],s[0]=o,i=0;p>i;i++)d=f[i],h=d.selector,l[h]===t&&(l[h]=d.quick?st(o,d.quick):s.is(h)),l[h]&&u.push(d);u.length&&v.push({elem:o,matches:u})}for(f.length>p&&v.push({elem:this,matches:f.slice(p)}),i=0;i<v.length&&!n.isPropagationStopped();i++)for(c=v[i],n.currentTarget=c.elem,r=0;r<c.matches.length&&!n.isImmediatePropagationStopped();r++)d=c.matches[r],(g||!n.namespace&&!d.namespace||n.namespace_re&&n.namespace_re.test(d.namespace))&&(n.data=d.data,n.handleObj=d,a=((R.event.special[d.origType]||{}).handle||d.handler).apply(c.elem,m),a!==t&&(n.result=a,a===!1&&(n.preventDefault(),n.stopPropagation())));return n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,s=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||I,r=i.documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[R.expando])return e;var n,i,r=e,o=R.event.fixHooks[e.type]||{},s=o.props?this.props.concat(o.props):this.props;for(e=R.Event(r),n=s.length;n;)i=s[--n],e[i]=r[i];return e.target||(e.target=r.srcElement||I),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),o.filter?o.filter(e,r):e},special:{ready:{setup:R.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){R.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var r=R.extend(new R.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?R.event.trigger(r,null,t):R.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},R.event.handle=R.event.dispatch,R.removeEvent=I.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},R.Event=function(e,t){return this instanceof R.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?a:s):this.type=e,t&&R.extend(this,t),this.timeStamp=e&&e.timeStamp||R.now(),this[R.expando]=!0,void 0):new R.Event(e,t)},R.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=a;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s},R.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){R.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return o.selector,(!r||r!==i&&!R.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),R.support.submitBubbles||(R.event.special.submit={setup:function(){return R.nodeName(this,"form")?!1:(R.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=R.nodeName(n,"input")||R.nodeName(n,"button")?n.form:t;i&&!i._submit_attached&&(R.event.add(i,"submit._submit",function(e){this.parentNode&&!e.isTrigger&&R.event.simulate("submit",this.parentNode,e,!0)}),i._submit_attached=!0)}),void 0)},teardown:function(){return R.nodeName(this,"form")?!1:(R.event.remove(this,"._submit"),void 0)}}),R.support.changeBubbles||(R.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(R.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),R.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,R.event.simulate("change",this,e,!0))})),!1):(R.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!t._change_attached&&(R.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||R.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return R.event.remove(this,"._change"),Z.test(this.nodeName)}}),R.support.focusinBubbles||R.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){R.event.simulate(t,e.target,R.event.fix(e),!0)};R.event.special[t]={setup:function(){0===n++&&I.addEventListener(e,i,!0)},teardown:function(){0===--n&&I.removeEventListener(e,i,!0)}}}),R.fn.extend({on:function(e,n,i,r,o){var a,l;if("object"==typeof e){"string"!=typeof n&&(i=n,n=t);for(l in e)this.on(l,n,i,e[l],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=s;else if(!r)return this;return 1===o&&(a=r,r=function(e){return R().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=R.guid++)),this.each(function(){R.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on.call(this,e,t,n,i,1)},off:function(e,n,i){if(e&&e.preventDefault&&e.handleObj){var r=e.handleObj;return R(e.delegateTarget).off(r.namespace?r.type+"."+r.namespace:r.type,r.selector,r.handler),this}if("object"==typeof e){for(var o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=s),this.each(function(){R.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return R(this.context).on(e,this.selector,t,n),this},die:function(e,t){return R(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){R.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?R.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||R.guid++,i=0,r=function(n){var r=(R._data(this,"lastToggle"+e.guid)||0)%i;return R._data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=n;i<t.length;)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),R.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){R.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},R.attrFn&&(R.attrFn[t]=!0),tt.test(t)&&(R.event.fixHooks[t]=R.event.keyHooks),nt.test(t)&&(R.event.fixHooks[t]=R.event.mouseHooks)}),/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
function(){function e(e,t,n,i,o,s){for(var a=0,l=i.length;l>a;a++){var c=i[a];if(c){var u=!1;for(c=c[e];c;){if(c[r]===n){u=i[c.sizset];break}if(1!==c.nodeType||s||(c[r]=n,c.sizset=a),c.nodeName.toLowerCase()===t){u=c;break}c=c[e]}i[a]=u}}}function n(e,t,n,i,o,s){for(var a=0,l=i.length;l>a;a++){var c=i[a];if(c){var u=!1;for(c=c[e];c;){if(c[r]===n){u=i[c.sizset];break}if(1===c.nodeType)if(s||(c[r]=n,c.sizset=a),"string"!=typeof t){if(c===t){u=!0;break}}else if(h.filter(t,[c]).length>0){u=c;break}c=c[e]}i[a]=u}}}var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r="sizcache"+(Math.random()+"").replace(".",""),o=0,s=Object.prototype.toString,a=!1,l=!0,c=/\\/g,u=/\r\n/g,d=/\W/;[0,0].sort(function(){return l=!1,0});var h=function(e,t,n,r){n=n||[],t=t||I;var o=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return n;var a,l,c,u,d,f,g,v,b=!0,_=h.isXML(t),w=[],C=e;do if(i.exec(""),a=i.exec(C),a&&(C=a[3],w.push(a[1]),a[2])){u=a[3];break}while(a);if(w.length>1&&m.exec(e))if(2===w.length&&p.relative[w[0]])l=x(w[0]+w[1],t,r);else for(l=p.relative[w[0]]?[t]:h(w.shift(),t);w.length;)e=w.shift(),p.relative[e]&&(e+=w.shift()),l=x(e,l,r);else if(!r&&w.length>1&&9===t.nodeType&&!_&&p.match.ID.test(w[0])&&!p.match.ID.test(w[w.length-1])&&(d=h.find(w.shift(),t,_),t=d.expr?h.filter(d.expr,d.set)[0]:d.set[0]),t)for(d=r?{expr:w.pop(),set:y(r)}:h.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!t.parentNode?t:t.parentNode,_),l=d.expr?h.filter(d.expr,d.set):d.set,w.length>0?c=y(l):b=!1;w.length;)f=w.pop(),g=f,p.relative[f]?g=w.pop():f="",null==g&&(g=t),p.relative[f](c,g,_);else c=w=[];if(c||(c=l),c||h.error(f||e),"[object Array]"===s.call(c))if(b)if(t&&1===t.nodeType)for(v=0;null!=c[v];v++)c[v]&&(c[v]===!0||1===c[v].nodeType&&h.contains(t,c[v]))&&n.push(l[v]);else for(v=0;null!=c[v];v++)c[v]&&1===c[v].nodeType&&n.push(l[v]);else n.push.apply(n,c);else y(c,n);return u&&(h(u,o,n,r),h.uniqueSort(n)),n};h.uniqueSort=function(e){if(_&&(a=l,e.sort(_),a))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},h.matches=function(e,t){return h(e,null,null,t)},h.matchesSelector=function(e,t){return h(t,null,null,[e]).length>0},h.find=function(e,t,n){var i,r,o,s,a,l;if(!e)return[];for(r=0,o=p.order.length;o>r;r++)if(a=p.order[r],(s=p.leftMatch[a].exec(e))&&(l=s[1],s.splice(1,1),"\\"!==l.substr(l.length-1)&&(s[1]=(s[1]||"").replace(c,""),i=p.find[a](s,t,n),null!=i))){e=e.replace(p.match[a],"");break}return i||(i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:i,expr:e}},h.filter=function(e,n,i,r){for(var o,s,a,l,c,u,d,f,m,g=e,v=[],y=n,b=n&&n[0]&&h.isXML(n[0]);e&&n.length;){for(a in p.filter)if(null!=(o=p.leftMatch[a].exec(e))&&o[2]){if(u=p.filter[a],d=o[1],s=!1,o.splice(1,1),"\\"===d.substr(d.length-1))continue;if(y===v&&(v=[]),p.preFilter[a])if(o=p.preFilter[a](o,y,i,v,r,b)){if(o===!0)continue}else s=l=!0;if(o)for(f=0;null!=(c=y[f]);f++)c&&(l=u(c,o,f,y),m=r^l,i&&null!=l?m?s=!0:y[f]=!1:m&&(v.push(c),s=!0));if(l!==t){if(i||(y=v),e=e.replace(p.match[a],""),!s)return[];break}}if(e===g){if(null!=s)break;h.error(e)}g=e}return y},h.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var f=h.getText=function(e){var t,n,i=e.nodeType,r="";if(i){if(1===i||9===i){if("string"==typeof e.textContent)return e.textContent;if("string"==typeof e.innerText)return e.innerText.replace(u,"");for(e=e.firstChild;e;e=e.nextSibling)r+=f(e)}else if(3===i||4===i)return e.nodeValue}else for(t=0;n=e[t];t++)8!==n.nodeType&&(r+=f(n));return r},p=h.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,i=n&&!d.test(t),r=n&&!i;i&&(t=t.toLowerCase());for(var o,s=0,a=e.length;a>s;s++)if(o=e[s]){for(;(o=o.previousSibling)&&1!==o.nodeType;);e[s]=r||o&&o.nodeName.toLowerCase()===t?o||!1:o===t}r&&h.filter(t,e,!0)},">":function(e,t){var n,i="string"==typeof t,r=0,o=e.length;if(i&&!d.test(t)){for(t=t.toLowerCase();o>r;r++)if(n=e[r]){var s=n.parentNode;e[r]=s.nodeName.toLowerCase()===t?s:!1}}else{for(;o>r;r++)n=e[r],n&&(e[r]=i?n.parentNode:n.parentNode===t);i&&h.filter(t,e,!0)}},"":function(t,i,r){var s,a=o++,l=n;"string"!=typeof i||d.test(i)||(i=i.toLowerCase(),s=i,l=e),l("parentNode",i,a,t,s,r)},"~":function(t,i,r){var s,a=o++,l=n;"string"!=typeof i||d.test(i)||(i=i.toLowerCase(),s=i,l=e),l("previousSibling",i,a,t,s,r)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i&&i.parentNode?[i]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],i=t.getElementsByName(e[1]),r=0,o=i.length;o>r;r++)i[r].getAttribute("name")===e[1]&&n.push(i[r]);return 0===n.length?null:n}},TAG:function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e[1]):void 0}},preFilter:{CLASS:function(e,t,n,i,r,o){if(e=" "+e[1].replace(c,"")+" ",o)return e;for(var s,a=0;null!=(s=t[a]);a++)s&&(r^(s.className&&(" "+s.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||i.push(s):n&&(t[a]=!1));return!1},ID:function(e){return e[1].replace(c,"")},TAG:function(e){return e[1].replace(c,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||h.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&h.error(e[0]);return e[0]=o++,e},ATTR:function(e,t,n,i,r,o){var s=e[1]=e[1].replace(c,"");return!o&&p.attrMap[s]&&(e[1]=p.attrMap[s]),e[4]=(e[4]||e[5]||"").replace(c,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,r,o){if("not"===e[1]){if(!((i.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var s=h.filter(e[3],t,n,!0^o);return n||r.push.apply(r,s),!1}e[3]=h(e[3],null,null,t)}else if(p.match.POS.test(e[0])||p.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!h(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return"input"===e.nodeName.toLowerCase()&&"text"===n&&(t===n||null===t)},radio:function(e){return"input"===e.nodeName.toLowerCase()&&"radio"===e.type},checkbox:function(e){return"input"===e.nodeName.toLowerCase()&&"checkbox"===e.type},file:function(e){return"input"===e.nodeName.toLowerCase()&&"file"===e.type},password:function(e){return"input"===e.nodeName.toLowerCase()&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"submit"===e.type},image:function(e){return"input"===e.nodeName.toLowerCase()&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,i){return t===i.length-1},even:function(e,t){return 0===t%2},odd:function(e,t){return 1===t%2},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,i){var r=t[1],o=p.filters[r];if(o)return o(e,n,t,i);if("contains"===r)return(e.textContent||e.innerText||f([e])||"").indexOf(t[3])>=0;if("not"===r){for(var s=t[3],a=0,l=s.length;l>a;a++)if(s[a]===e)return!1;return!0}h.error(r)},CHILD:function(e,t){var n,i,o,s,a,l,c=t[1],u=e;switch(c){case"only":case"first":for(;u=u.previousSibling;)if(1===u.nodeType)return!1;if("first"===c)return!0;u=e;case"last":for(;u=u.nextSibling;)if(1===u.nodeType)return!1;return!0;case"nth":if(n=t[2],i=t[3],1===n&&0===i)return!0;if(o=t[0],s=e.parentNode,s&&(s[r]!==o||!e.nodeIndex)){for(a=0,u=s.firstChild;u;u=u.nextSibling)1===u.nodeType&&(u.nodeIndex=++a);s[r]=o}return l=e.nodeIndex-i,0===n?0===l:0===l%n&&l/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],i=h.attr?h.attr(e,n):p.attrHandle[n]?p.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),r=i+"",o=t[2],s=t[4];return null==i?"!="===o:!o&&h.attr?null!=i:"="===o?r===s:"*="===o?r.indexOf(s)>=0:"~="===o?(" "+r+" ").indexOf(s)>=0:s?"!="===o?r!==s:"^="===o?0===r.indexOf(s):"$="===o?r.substr(r.length-s.length)===s:"|="===o?r===s||r.substr(0,s.length+1)===s+"-":!1:r&&i!==!1},POS:function(e,t,n,i){var r=t[2],o=p.setFilters[r];return o?o(e,n,t,i):void 0}}},m=p.match.POS,g=function(e,t){return"\\"+(t-0+1)};for(var v in p.match)p.match[v]=new RegExp(p.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[v].source.replace(/\\(\d+)/g,g));var y=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(I.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(e,t){var n=0,i=t||[];if("[object Array]"===s.call(e))Array.prototype.push.apply(i,e);else if("number"==typeof e.length)for(var r=e.length;r>n;n++)i.push(e[n]);else for(;e[n];n++)i.push(e[n]);return i}}var _,w;I.documentElement.compareDocumentPosition?_=function(e,t){return e===t?(a=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(_=function(e,t){if(e===t)return a=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],o=[],s=e.parentNode,l=t.parentNode,c=s;if(s===l)return w(e,t);if(!s)return-1;if(!l)return 1;for(;c;)r.unshift(c),c=c.parentNode;for(c=l;c;)o.unshift(c),c=c.parentNode;n=r.length,i=o.length;for(var u=0;n>u&&i>u;u++)if(r[u]!==o[u])return w(r[u],o[u]);return u===n?w(e,o[u],-1):w(r[u],t,1)},w=function(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}),function(){var e=I.createElement("div"),n="script"+(new Date).getTime(),i=I.documentElement;e.innerHTML="<a name='"+n+"'/>",i.insertBefore(e,i.firstChild),I.getElementById(n)&&(p.find.ID=function(e,n,i){if("undefined"!=typeof n.getElementById&&!i){var r=n.getElementById(e[1]);return r?r.id===e[1]||"undefined"!=typeof r.getAttributeNode&&r.getAttributeNode("id").nodeValue===e[1]?[r]:t:[]}},p.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),i.removeChild(e),i=e=null}(),function(){var e=I.createElement("div");e.appendChild(I.createComment("")),e.getElementsByTagName("*").length>0&&(p.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var i=[],r=0;n[r];r++)1===n[r].nodeType&&i.push(n[r]);n=i}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(p.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),I.querySelectorAll&&!function(){var e=h,t=I.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){h=function(t,i,r,o){if(i=i||I,!o&&!h.isXML(i)){var s=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(s&&(1===i.nodeType||9===i.nodeType)){if(s[1])return y(i.getElementsByTagName(t),r);if(s[2]&&p.find.CLASS&&i.getElementsByClassName)return y(i.getElementsByClassName(s[2]),r)}if(9===i.nodeType){if("body"===t&&i.body)return y([i.body],r);if(s&&s[3]){var a=i.getElementById(s[3]);if(!a||!a.parentNode)return y([],r);if(a.id===s[3])return y([a],r)}try{return y(i.querySelectorAll(t),r)}catch(l){}}else if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){var c=i,u=i.getAttribute("id"),d=u||n,f=i.parentNode,m=/^\s*[+~]/.test(t);u?d=d.replace(/'/g,"\\$&"):i.setAttribute("id",d),m&&f&&(i=i.parentNode);try{if(!m||f)return y(i.querySelectorAll("[id='"+d+"'] "+t),r)}catch(g){}finally{u||c.removeAttribute("id")}}}return e(t,i,r,o)};for(var i in e)h[i]=e[i];t=null}}(),function(){var e=I.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(I.createElement("div"),"div"),i=!1;try{t.call(I.documentElement,"[test!='']:sizzle")}catch(r){i=!0}h.matchesSelector=function(e,r){if(r=r.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!h.isXML(e))try{if(i||!p.match.PSEUDO.test(r)&&!/!=/.test(r)){var o=t.call(e,r);if(o||!n||e.document&&11!==e.document.nodeType)return o}}catch(s){}return h(r,null,null,[e]).length>0}}}(),function(){var e=I.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(p.order.splice(1,0,"CLASS"),p.find.CLASS=function(e,t,n){return"undefined"==typeof t.getElementsByClassName||n?void 0:t.getElementsByClassName(e[1])},e=null))}(),h.contains=I.documentElement.contains?function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:I.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:function(){return!1},h.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1};var x=function(e,t,n){for(var i,r=[],o="",s=t.nodeType?[t]:t;i=p.match.PSEUDO.exec(e);)o+=i[0],e=e.replace(p.match.PSEUDO,"");e=p.relative[e]?e+"*":e;for(var a=0,l=s.length;l>a;a++)h(e,s[a],r,n);return h.filter(o,r)};h.attr=R.attr,h.selectors.attrMap={},R.find=h,R.expr=h.selectors,R.expr[":"]=R.expr.filters,R.unique=h.uniqueSort,R.text=h.getText,R.isXMLDoc=h.isXML,R.contains=h.contains}();var lt=/Until$/,ct=/^(?:parents|prevUntil|prevAll)/,ut=/,/,dt=/^.[^:#\[\.,]*$/,ht=Array.prototype.slice,ft=R.expr.match.POS,pt={children:!0,contents:!0,next:!0,prev:!0};R.fn.extend({find:function(e){var t,n,i=this;if("string"!=typeof e)return R(e).filter(function(){for(t=0,n=i.length;n>t;t++)if(R.contains(i[t],this))return!0});var r,o,s,a=this.pushStack("","find",e);for(t=0,n=this.length;n>t;t++)if(r=a.length,R.find(e,this[t],a),t>0)for(o=r;o<a.length;o++)for(s=0;r>s;s++)if(a[s]===a[o]){a.splice(o--,1);break}return a},has:function(e){var t=R(e);return this.filter(function(){for(var e=0,n=t.length;n>e;e++)if(R.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(c(this,e,!1),"not",e)},filter:function(e){return this.pushStack(c(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?ft.test(e)?R(e,this.context).index(this[0])>=0:R.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,i,r=[],o=this[0];if(R.isArray(e)){for(var s=1;o&&o.ownerDocument&&o!==t;){for(n=0;n<e.length;n++)R(o).is(e[n])&&r.push({selector:e[n],elem:o,level:s});o=o.parentNode,s++}return r}var a=ft.test(e)||"string"!=typeof e?R(e,t||this.context):0;for(n=0,i=this.length;i>n;n++)for(o=this[n];o;){if(a?a.index(o)>-1:R.find.matchesSelector(o,e)){r.push(o);break}if(o=o.parentNode,!o||!o.ownerDocument||o===t||11===o.nodeType)break}return r=r.length>1?R.unique(r):r,this.pushStack(r,"closest",e)},index:function(e){return e?"string"==typeof e?R.inArray(this[0],R(e)):R.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?R(e,t):R.makeArray(e&&e.nodeType?[e]:e),i=R.merge(this.get(),n);return this.pushStack(l(n[0])||l(i[0])?i:R.unique(i))},andSelf:function(){return this.add(this.prevObject)}}),R.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return R.dir(e,"parentNode")},parentsUntil:function(e,t,n){return R.dir(e,"parentNode",n)},next:function(e){return R.nth(e,2,"nextSibling")},prev:function(e){return R.nth(e,2,"previousSibling")},nextAll:function(e){return R.dir(e,"nextSibling")},prevAll:function(e){return R.dir(e,"previousSibling")},nextUntil:function(e,t,n){return R.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return R.dir(e,"previousSibling",n)},siblings:function(e){return R.sibling(e.parentNode.firstChild,e)},children:function(e){return R.sibling(e.firstChild)},contents:function(e){return R.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:R.makeArray(e.childNodes)}},function(e,t){R.fn[e]=function(n,i){var r=R.map(this,t,n);return lt.test(e)||(i=n),i&&"string"==typeof i&&(r=R.filter(i,r)),r=this.length>1&&!pt[e]?R.unique(r):r,(this.length>1||ut.test(i))&&ct.test(e)&&(r=r.reverse()),this.pushStack(r,e,ht.call(arguments).join(","))}}),R.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?R.find.matchesSelector(t[0],e)?[t[0]]:[]:R.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!R(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},nth:function(e,t,n){t=t||1;for(var i=0;e&&(1!==e.nodeType||++i!==t);e=e[n]);return e},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var mt="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:\d+|null)"/g,vt=/^\s+/,yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,_t=/<tbody/i,wt=/<|&#?\w+;/,xt=/<(?:script|style)/i,Ct=/<(?:script|object|embed|option|style)/i,kt=new RegExp("<(?:"+mt+")","i"),St=/checked\s*(?:[^=]|=\s*.checked.)/i,Et=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)/,Nt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},At=u(I);Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,R.support.htmlSerialize||(Nt._default=[1,"div<div>","</div>"]),R.fn.extend({text:function(e){return R.isFunction(e)?this.each(function(t){var n=R(this);n.text(e.call(this,t,n.text()))}):"object"!=typeof e&&e!==t?this.empty().append((this[0]&&this[0].ownerDocument||I).createTextNode(e)):R.text(this)},wrapAll:function(e){if(R.isFunction(e))return this.each(function(t){R(this).wrapAll(e.call(this,t))});if(this[0]){var t=R(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return R.isFunction(e)?this.each(function(t){R(this).wrapInner(e.call(this,t))}):this.each(function(){var t=R(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=R.isFunction(e);return this.each(function(n){R(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){R.nodeName(this,"body")||R(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=R.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,R.clean(arguments)),e}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||R.filter(e,[n]).length)&&(t||1!==n.nodeType||(R.cleanData(n.getElementsByTagName("*")),R.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&R.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return R.clone(this,e,t)})},html:function(e){if(e===t)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(gt,""):null;if("string"!=typeof e||xt.test(e)||!R.support.leadingWhitespace&&vt.test(e)||Nt[(bt.exec(e)||["",""])[1].toLowerCase()])R.isFunction(e)?this.each(function(t){var n=R(this);n.html(e.call(this,t,n.html()))}):this.empty().append(e);else{e=e.replace(yt,"<$1></$2>");try{for(var n=0,i=this.length;i>n;n++)1===this[n].nodeType&&(R.cleanData(this[n].getElementsByTagName("*")),this[n].innerHTML=e)}catch(r){this.empty().append(e)}}return this},replaceWith:function(e){return this[0]&&this[0].parentNode?R.isFunction(e)?this.each(function(t){var n=R(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=R(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;R(this).remove(),t?R(t).before(e):R(n).append(e)})):this.length?this.pushStack(R(R.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){var r,o,s,a,l=e[0],c=[];if(!R.support.checkClone&&3===arguments.length&&"string"==typeof l&&St.test(l))return this.each(function(){R(this).domManip(e,n,i,!0)});if(R.isFunction(l))return this.each(function(r){var o=R(this);e[0]=l.call(this,r,n?o.html():t),o.domManip(e,n,i)});if(this[0]){if(a=l&&l.parentNode,r=R.support.parentNode&&a&&11===a.nodeType&&a.childNodes.length===this.length?{fragment:a}:R.buildFragment(e,this,c),s=r.fragment,o=1===s.childNodes.length?s=s.firstChild:s.firstChild){n=n&&R.nodeName(o,"tr");for(var u=0,h=this.length,f=h-1;h>u;u++)i.call(n?d(this[u],o):this[u],r.cacheable||h>1&&f>u?R.clone(s,!0,!0):s)}c.length&&R.each(c,y)}return this}}),R.buildFragment=function(e,t,n){var i,r,o,s,a=e[0];return t&&t[0]&&(s=t[0].ownerDocument||t[0]),s.createDocumentFragment||(s=I),!(1===e.length&&"string"==typeof a&&a.length<512&&s===I&&"<"===a.charAt(0))||Ct.test(a)||!R.support.checkClone&&St.test(a)||!R.support.html5Clone&&kt.test(a)||(r=!0,o=R.fragments[a],o&&1!==o&&(i=o)),i||(i=s.createDocumentFragment(),R.clean(e,s,i,n)),r&&(R.fragments[a]=o?i:1),{fragment:i,cacheable:r}},R.fragments={},R.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){R.fn[e]=function(n){var i=[],r=R(n),o=1===this.length&&this[0].parentNode;if(o&&11===o.nodeType&&1===o.childNodes.length&&1===r.length)return r[t](this[0]),this;for(var s=0,a=r.length;a>s;s++){var l=(s>0?this.clone(!0):this).get();R(r[s])[t](l),i=i.concat(l)}return this.pushStack(i,e,r.selector)}}),R.extend({clone:function(e,t,n){var i,r,o,s=R.support.html5Clone||!kt.test("<"+e.nodeName)?e.cloneNode(!0):v(e);if(!(R.support.noCloneEvent&&R.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||R.isXMLDoc(e)))for(f(e,s),i=p(e),r=p(s),o=0;i[o];++o)r[o]&&f(i[o],r[o]);if(t&&(h(e,s),n))for(i=p(e),r=p(s),o=0;i[o];++o)h(i[o],r[o]);return i=r=null,s},clean:function(e,t,n,i){var r;t=t||I,"undefined"==typeof t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||I);for(var o,s,a=[],l=0;null!=(s=e[l]);l++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(wt.test(s)){s=s.replace(yt,"<$1></$2>");var c=(bt.exec(s)||["",""])[1].toLowerCase(),d=Nt[c]||Nt._default,h=d[0],f=t.createElement("div");for(t===I?At.appendChild(f):u(t).appendChild(f),f.innerHTML=d[1]+s+d[2];h--;)f=f.lastChild;if(!R.support.tbody){var p=_t.test(s),m="table"!==c||p?"<table>"!==d[1]||p?[]:f.childNodes:f.firstChild&&f.firstChild.childNodes;for(o=m.length-1;o>=0;--o)R.nodeName(m[o],"tbody")&&!m[o].childNodes.length&&m[o].parentNode.removeChild(m[o])}!R.support.leadingWhitespace&&vt.test(s)&&f.insertBefore(t.createTextNode(vt.exec(s)[0]),f.firstChild),s=f.childNodes}else s=t.createTextNode(s);var v;if(!R.support.appendChecked)if(s[0]&&"number"==typeof(v=s.length))for(o=0;v>o;o++)g(s[o]);else g(s);s.nodeType?a.push(s):a=R.merge(a,s)}if(n)for(r=function(e){return!e.type||Et.test(e.type)},l=0;a[l];l++)if(!i||!R.nodeName(a[l],"script")||a[l].type&&"text/javascript"!==a[l].type.toLowerCase()){if(1===a[l].nodeType){var y=R.grep(a[l].getElementsByTagName("script"),r);a.splice.apply(a,[l+1,0].concat(y))}n.appendChild(a[l])}else i.push(a[l].parentNode?a[l].parentNode.removeChild(a[l]):a[l]);return a},cleanData:function(e){for(var t,n,i,r=R.cache,o=R.event.special,s=R.support.deleteExpando,a=0;null!=(i=e[a]);a++)if((!i.nodeName||!R.noData[i.nodeName.toLowerCase()])&&(n=i[R.expando])){if(t=r[n],t&&t.events){for(var l in t.events)o[l]?R.event.remove(i,l):R.removeEvent(i,l,t.handle);t.handle&&(t.handle.elem=null)}s?delete i[R.expando]:i.removeAttribute&&i.removeAttribute(R.expando),delete r[n]}}});var Mt,Dt,Lt,It=/alpha\([^)]*\)/i,Ft=/opacity=([^)]*)/,Pt=/([A-Z]|^ms)/g,Rt=/^-?\d+(?:px)?$/i,Ot=/^-?\d/,$t=/^([\-+])=([\-+.\de]+)/,Bt={position:"absolute",visibility:"hidden",display:"block"},Ht=["Left","Right"],jt=["Top","Bottom"];R.fn.css=function(e,n){return 2===arguments.length&&n===t?this:R.access(this,e,n,!0,function(e,n,i){return i!==t?R.style(e,n,i):R.css(e,n)})},R.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Mt(e,"opacity","opacity");return""===n?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":R.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a=R.camelCase(n),l=e.style,c=R.cssHooks[a];if(n=R.cssProps[a]||a,i===t)return c&&"get"in c&&(o=c.get(e,!1,r))!==t?o:l[n];if(s=typeof i,"string"===s&&(o=$t.exec(i))&&(i=+(o[1]+1)*+o[2]+parseFloat(R.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||R.cssNumber[a]||(i+="px"),c&&"set"in c&&(i=c.set(e,i))===t)))try{l[n]=i}catch(u){}}},css:function(e,n,i){var r,o;return n=R.camelCase(n),o=R.cssHooks[n],n=R.cssProps[n]||n,"cssFloat"===n&&(n="float"),o&&"get"in o&&(r=o.get(e,!0,i))!==t?r:Mt?Mt(e,n):void 0},swap:function(e,t,n){var i={};for(var r in t)i[r]=e.style[r],e.style[r]=t[r];n.call(e);for(r in t)e.style[r]=i[r]}}),R.curCSS=R.css,R.each(["height","width"],function(e,t){R.cssHooks[t]={get:function(e,n,i){var r;return n?0!==e.offsetWidth?b(e,t,i):(R.swap(e,Bt,function(){r=b(e,t,i)}),r):void 0},set:function(e,t){return Rt.test(t)?(t=parseFloat(t),t>=0?t+"px":void 0):t}}}),R.support.opacity||(R.cssHooks.opacity={get:function(e,t){return Ft.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=R.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===R.trim(o.replace(It,""))&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=It.test(o)?o.replace(It,r):o+" "+r)}}),R(function(){R.support.reliableMarginRight||(R.cssHooks.marginRight={get:function(e,t){var n;return R.swap(e,{display:"inline-block"},function(){n=t?Mt(e,"margin-right","marginRight"):e.style.marginRight}),n}})}),I.defaultView&&I.defaultView.getComputedStyle&&(Dt=function(e,t){var n,i,r;return t=t.replace(Pt,"-$1").toLowerCase(),(i=e.ownerDocument.defaultView)&&(r=i.getComputedStyle(e,null))&&(n=r.getPropertyValue(t),""!==n||R.contains(e.ownerDocument.documentElement,e)||(n=R.style(e,t))),n}),I.documentElement.currentStyle&&(Lt=function(e,t){var n,i,r,o=e.currentStyle&&e.currentStyle[t],s=e.style;return null===o&&s&&(r=s[t])&&(o=r),!Rt.test(o)&&Ot.test(o)&&(n=s.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),s.left="fontSize"===t?"1em":o||0,o=s.pixelLeft+"px",s.left=n,i&&(e.runtimeStyle.left=i)),""===o?"auto":o}),Mt=Dt||Lt,R.expr&&R.expr.filters&&(R.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!R.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||R.css(e,"display"))},R.expr.filters.visible=function(e){return!R.expr.filters.hidden(e)});var zt,Ut,qt=/%20/g,Wt=/\[\]$/,Vt=/\r?\n/g,Xt=/#.*$/,Kt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Qt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Gt=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Yt=/^(?:GET|HEAD)$/,Zt=/^\/\//,Jt=/\?/,en=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,tn=/^(?:select|textarea)/i,nn=/\s+/,rn=/([?&])_=[^&]*/,on=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,sn=R.fn.load,an={},ln={},cn=["*/"]+["*"];try{zt=P.href}catch(un){zt=I.createElement("a"),zt.href="",zt=zt.href}Ut=on.exec(zt.toLowerCase())||[],R.fn.extend({load:function(e,n,i){if("string"!=typeof e&&sn)return sn.apply(this,arguments);if(!this.length)return this;var r=e.indexOf(" ");if(r>=0){var o=e.slice(r,e.length);e=e.slice(0,r)}var s="GET";n&&(R.isFunction(n)?(i=n,n=t):"object"==typeof n&&(n=R.param(n,R.ajaxSettings.traditional),s="POST"));var a=this;return R.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),a.html(o?R("<div>").append(n.replace(en,"")).find(o):n)),i&&a.each(i,[n,t,e])}}),this},serialize:function(){return R.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?R.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||tn.test(this.nodeName)||Qt.test(this.type))}).map(function(e,t){var n=R(this).val();return null==n?null:R.isArray(n)?R.map(n,function(e){return{name:t.name,value:e.replace(Vt,"\r\n")}}):{name:t.name,value:n.replace(Vt,"\r\n")}}).get()}}),R.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){R.fn[t]=function(e){return this.on(t,e)}}),R.each(["get","post"],function(e,n){R[n]=function(e,i,r,o){return R.isFunction(i)&&(o=o||r,r=i,i=t),R.ajax({type:n,url:e,data:i,success:r,dataType:o})}}),R.extend({getScript:function(e,n){return R.get(e,t,n,"script")},getJSON:function(e,t,n){return R.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?x(e,R.ajaxSettings):(t=e,e=R.ajaxSettings),x(e,t),e},ajaxSettings:{url:zt,isLocal:Gt.test(Ut[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":cn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":R.parseJSON,"text xml":R.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:_(an),ajaxTransport:_(ln),ajax:function(e,n){function i(e,n,i,s){if(2!==_){_=2,l&&clearTimeout(l),a=t,o=s||"",x.readyState=e>0?4:0;var c,d,y,b,w,C=n,E=i?k(h,x,i):t;if(e>=200&&300>e||304===e)if(h.ifModified&&((b=x.getResponseHeader("Last-Modified"))&&(R.lastModified[r]=b),(w=x.getResponseHeader("Etag"))&&(R.etag[r]=w)),304===e)C="notmodified",c=!0;else try{d=S(h,E),C="success",c=!0}catch(T){C="parsererror",y=T}else y=C,(!C||e)&&(C="error",0>e&&(e=0));x.status=e,x.statusText=""+(n||C),c?m.resolveWith(f,[d,C,x]):m.rejectWith(f,[x,C,y]),x.statusCode(v),v=t,u&&p.trigger("ajax"+(c?"Success":"Error"),[x,h,c?d:y]),g.fireWith(f,[x,C]),u&&(p.trigger("ajaxComplete",[x,h]),--R.active||R.event.trigger("ajaxStop"))}}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,s,a,l,c,u,d,h=R.ajaxSetup({},n),f=h.context||h,p=f!==h&&(f.nodeType||f instanceof R)?R(f):R.event,m=R.Deferred(),g=R.Callbacks("once memory"),v=h.statusCode||{},y={},b={},_=0,x={readyState:0,setRequestHeader:function(e,t){if(!_){var n=e.toLowerCase();
e=b[n]=b[n]||e,y[e]=t}return this},getAllResponseHeaders:function(){return 2===_?o:null},getResponseHeader:function(e){var n;if(2===_){if(!s)for(s={};n=Kt.exec(o);)s[n[1].toLowerCase()]=n[2];n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return _||(h.mimeType=e),this},abort:function(e){return e=e||"abort",a&&a.abort(e),i(0,e),this}};if(m.promise(x),x.success=x.done,x.error=x.fail,x.complete=g.add,x.statusCode=function(e){if(e){var t;if(2>_)for(t in e)v[t]=[v[t],e[t]];else t=e[x.status],x.then(t,t)}return this},h.url=((e||h.url)+"").replace(Xt,"").replace(Zt,Ut[1]+"//"),h.dataTypes=R.trim(h.dataType||"*").toLowerCase().split(nn),null==h.crossDomain&&(c=on.exec(h.url.toLowerCase()),h.crossDomain=!(!c||c[1]==Ut[1]&&c[2]==Ut[2]&&(c[3]||("http:"===c[1]?80:443))==(Ut[3]||("http:"===Ut[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=R.param(h.data,h.traditional)),w(an,h,n,x),2===_)return!1;if(u=h.global,h.type=h.type.toUpperCase(),h.hasContent=!Yt.test(h.type),u&&0===R.active++&&R.event.trigger("ajaxStart"),!h.hasContent&&(h.data&&(h.url+=(Jt.test(h.url)?"&":"?")+h.data,delete h.data),r=h.url,h.cache===!1)){var C=R.now(),E=h.url.replace(rn,"$1_="+C);h.url=E+(E===h.url?(Jt.test(h.url)?"&":"?")+"_="+C:"")}(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(r=r||h.url,R.lastModified[r]&&x.setRequestHeader("If-Modified-Since",R.lastModified[r]),R.etag[r]&&x.setRequestHeader("If-None-Match",R.etag[r])),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+cn+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)x.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(h.beforeSend.call(f,x,h)===!1||2===_))return x.abort(),!1;for(d in{success:1,error:1,complete:1})x[d](h[d]);if(a=w(ln,h,n,x)){x.readyState=1,u&&p.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},h.timeout));try{_=1,a.send(y,i)}catch(T){if(!(2>_))throw T;i(-1,T)}}else i(-1,"No Transport");return x},param:function(e,n){var i=[],r=function(e,t){t=R.isFunction(t)?t():t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=R.ajaxSettings.traditional),R.isArray(e)||e.jquery&&!R.isPlainObject(e))R.each(e,function(){r(this.name,this.value)});else for(var o in e)C(o,e[o],n,r);return i.join("&").replace(qt,"+")}}),R.extend({active:0,lastModified:{},etag:{}});var dn=R.now(),hn=/(\=)\?(&|$)|\?\?/i;R.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return R.expando+"_"+dn++}}),R.ajaxPrefilter("json jsonp",function(t,n,i){var r="application/x-www-form-urlencoded"===t.contentType&&"string"==typeof t.data;if("jsonp"===t.dataTypes[0]||t.jsonp!==!1&&(hn.test(t.url)||r&&hn.test(t.data))){var o,s=t.jsonpCallback=R.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a=e[s],l=t.url,c=t.data,u="$1"+s+"$2";return t.jsonp!==!1&&(l=l.replace(hn,u),t.url===l&&(r&&(c=c.replace(hn,u)),t.data===c&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+s))),t.url=l,t.data=c,e[s]=function(e){o=[e]},i.always(function(){e[s]=a,o&&R.isFunction(a)&&e[s](o[0])}),t.converters["script json"]=function(){return o||R.error(s+" was not called"),o[0]},t.dataTypes[0]="json","script"}}),R.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return R.globalEval(e),e}}}),R.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),R.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=I.head||I.getElementsByTagName("head")[0]||I.documentElement;return{send:function(r,o){n=I.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,r||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var fn,pn=e.ActiveXObject?function(){for(var e in fn)fn[e](0,1)}:!1,mn=0;R.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&E()||T()}:E,function(e){R.extend(R.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(R.ajaxSettings.xhr()),R.support.ajax&&R.ajaxTransport(function(n){if(!n.crossDomain||R.support.cors){var i;return{send:function(r,o){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,r){var a,c,u,d,h;try{if(i&&(r||4===l.readyState))if(i=t,s&&(l.onreadystatechange=R.noop,pn&&delete fn[s]),r)4!==l.readyState&&l.abort();else{a=l.status,u=l.getAllResponseHeaders(),d={},h=l.responseXML,h&&h.documentElement&&(d.xml=h),d.text=l.responseText;try{c=l.statusText}catch(f){c=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(p){r||o(-1,p)}d&&o(a,c,d,u)},n.async&&4!==l.readyState?(s=++mn,pn&&(fn||(fn={},R(e).unload(pn)),fn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var gn,vn,yn,bn,_n={},wn=/^(?:toggle|show|hide)$/,xn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Cn=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];R.fn.extend({show:function(e,t,n){var i,r;if(e||0===e)return this.animate(M("show",3),e,t,n);for(var o=0,s=this.length;s>o;o++)i=this[o],i.style&&(r=i.style.display,R._data(i,"olddisplay")||"none"!==r||(r=i.style.display=""),""===r&&"none"===R.css(i,"display")&&R._data(i,"olddisplay",D(i.nodeName)));for(o=0;s>o;o++)i=this[o],i.style&&(r=i.style.display,(""===r||"none"===r)&&(i.style.display=R._data(i,"olddisplay")||""));return this},hide:function(e,t,n){if(e||0===e)return this.animate(M("hide",3),e,t,n);for(var i,r,o=0,s=this.length;s>o;o++)i=this[o],i.style&&(r=R.css(i,"display"),"none"===r||R._data(i,"olddisplay")||R._data(i,"olddisplay",r));for(o=0;s>o;o++)this[o].style&&(this[o].style.display="none");return this},_toggle:R.fn.toggle,toggle:function(e,t,n){var i="boolean"==typeof e;return R.isFunction(e)&&R.isFunction(t)?this._toggle.apply(this,arguments):null==e||i?this.each(function(){var t=i?e:R(this).is(":hidden");R(this)[t?"show":"hide"]()}):this.animate(M("toggle",3),e,t,n),this},fadeTo:function(e,t,n,i){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){function r(){o.queue===!1&&R._mark(this);var t,n,i,r,s,a,l,c,u,d=R.extend({},o),h=1===this.nodeType,f=h&&R(this).is(":hidden");d.animatedProperties={};for(i in e){if(t=R.camelCase(i),i!==t&&(e[t]=e[i],delete e[i]),n=e[t],R.isArray(n)?(d.animatedProperties[t]=n[1],n=e[t]=n[0]):d.animatedProperties[t]=d.specialEasing&&d.specialEasing[t]||d.easing||"swing","hide"===n&&f||"show"===n&&!f)return d.complete.call(this);!h||"height"!==t&&"width"!==t||(d.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===R.css(this,"display")&&"none"===R.css(this,"float")&&(R.support.inlineBlockNeedsLayout&&"inline"!==D(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=d.overflow&&(this.style.overflow="hidden");for(i in e)r=new R.fx(this,d,i),n=e[i],wn.test(n)?(u=R._data(this,"toggle"+i)||("toggle"===n?f?"show":"hide":0),u?(R._data(this,"toggle"+i,"show"===u?"hide":"show"),r[u]()):r[n]()):(s=xn.exec(n),a=r.cur(),s?(l=parseFloat(s[2]),c=s[3]||(R.cssNumber[i]?"":"px"),"px"!==c&&(R.style(this,i,(l||1)+c),a=(l||1)/r.cur()*a,R.style(this,i,a+c)),s[1]&&(l=("-="===s[1]?-1:1)*l+a),r.custom(a,l,c)):r.custom(a,n,""));return!0}var o=R.speed(t,n,i);return R.isEmptyObject(e)?this.each(o.complete,[!1]):(e=R.extend({},e),o.queue===!1?this.each(r):this.queue(o.queue,r))},stop:function(e,n,i){return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,n){var r=t[n];R.removeData(e,n,!0),r.stop(i)}var n,r=!1,o=R.timers,s=R._data(this);if(i||R._unmark(!0,this),null==e)for(n in s)s[n]&&s[n].stop&&n.indexOf(".run")===n.length-4&&t(this,s,n);else s[n=e+".run"]&&s[n].stop&&t(this,s,n);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(i?o[n](!0):o[n].saveState(),r=!0,o.splice(n,1));i&&r||R.dequeue(this,e)})}}),R.each({slideDown:M("show",1),slideUp:M("hide",1),slideToggle:M("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){R.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),R.extend({speed:function(e,t,n){var i=e&&"object"==typeof e?R.extend({},e):{complete:n||!n&&t||R.isFunction(e)&&e,duration:e,easing:n&&t||t&&!R.isFunction(t)&&t};return i.duration=R.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in R.fx.speeds?R.fx.speeds[i.duration]:R.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(e){R.isFunction(i.old)&&i.old.call(this),i.queue?R.dequeue(this,i.queue):e!==!1&&R._unmark(this)},i},easing:{linear:function(e,t,n,i){return n+i*e},swing:function(e,t,n,i){return(-Math.cos(e*Math.PI)/2+.5)*i+n}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),R.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(R.fx.step[this.prop]||R.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=R.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,n,i){function r(e){return o.step(e)}var o=this,s=R.fx;this.startTime=bn||N(),this.end=n,this.now=this.start=e,this.pos=this.state=0,this.unit=i||this.unit||(R.cssNumber[this.prop]?"":"px"),r.queue=this.options.queue,r.elem=this.elem,r.saveState=function(){o.options.hide&&R._data(o.elem,"fxshow"+o.prop)===t&&R._data(o.elem,"fxshow"+o.prop,o.start)},r()&&R.timers.push(r)&&!yn&&(yn=setInterval(s.tick,s.interval))},show:function(){var e=R._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||R.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),R(this.elem).show()},hide:function(){this.options.orig[this.prop]=R._data(this.elem,"fxshow"+this.prop)||R.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,i,r=bn||N(),o=!0,s=this.elem,a=this.options;if(e||r>=a.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),a.animatedProperties[this.prop]=!0;for(t in a.animatedProperties)a.animatedProperties[t]!==!0&&(o=!1);if(o){if(null==a.overflow||R.support.shrinkWrapBlocks||R.each(["","X","Y"],function(e,t){s.style["overflow"+t]=a.overflow[e]}),a.hide&&R(s).hide(),a.hide||a.show)for(t in a.animatedProperties)R.style(s,t,a.orig[t]),R.removeData(s,"fxshow"+t,!0),R.removeData(s,"toggle"+t,!0);i=a.complete,i&&(a.complete=!1,i.call(s))}return!1}return 1/0==a.duration?this.now=r:(n=r-this.startTime,this.state=n/a.duration,this.pos=R.easing[a.animatedProperties[this.prop]](this.state,n,0,1,a.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},R.extend(R.fx,{tick:function(){for(var e,t=R.timers,n=0;n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||R.fx.stop()},interval:13,stop:function(){clearInterval(yn),yn=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){R.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),R.each(["width","height"],function(e,t){R.fx.step[t]=function(e){R.style(e.elem,t,Math.max(0,e.now)+e.unit)}}),R.expr&&R.expr.filters&&(R.expr.filters.animated=function(e){return R.grep(R.timers,function(t){return e===t.elem}).length});var kn=/^t(?:able|d|h)$/i,Sn=/^(?:body|html)$/i;R.fn.offset="getBoundingClientRect"in I.documentElement?function(e){var t,n=this[0];if(e)return this.each(function(t){R.offset.setOffset(this,e,t)});if(!n||!n.ownerDocument)return null;if(n===n.ownerDocument.body)return R.offset.bodyOffset(n);try{t=n.getBoundingClientRect()}catch(i){}var r=n.ownerDocument,o=r.documentElement;if(!t||!R.contains(o,n))return t?{top:t.top,left:t.left}:{top:0,left:0};var s=r.body,a=L(r),l=o.clientTop||s.clientTop||0,c=o.clientLeft||s.clientLeft||0,u=a.pageYOffset||R.support.boxModel&&o.scrollTop||s.scrollTop,d=a.pageXOffset||R.support.boxModel&&o.scrollLeft||s.scrollLeft,h=t.top+u-l,f=t.left+d-c;return{top:h,left:f}}:function(e){var t=this[0];if(e)return this.each(function(t){R.offset.setOffset(this,e,t)});if(!t||!t.ownerDocument)return null;if(t===t.ownerDocument.body)return R.offset.bodyOffset(t);for(var n,i=t.offsetParent,r=t,o=t.ownerDocument,s=o.documentElement,a=o.body,l=o.defaultView,c=l?l.getComputedStyle(t,null):t.currentStyle,u=t.offsetTop,d=t.offsetLeft;(t=t.parentNode)&&t!==a&&t!==s&&(!R.support.fixedPosition||"fixed"!==c.position);)n=l?l.getComputedStyle(t,null):t.currentStyle,u-=t.scrollTop,d-=t.scrollLeft,t===i&&(u+=t.offsetTop,d+=t.offsetLeft,!R.support.doesNotAddBorder||R.support.doesAddBorderForTableAndCells&&kn.test(t.nodeName)||(u+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),r=i,i=t.offsetParent),R.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(u+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),c=n;return("relative"===c.position||"static"===c.position)&&(u+=a.offsetTop,d+=a.offsetLeft),R.support.fixedPosition&&"fixed"===c.position&&(u+=Math.max(s.scrollTop,a.scrollTop),d+=Math.max(s.scrollLeft,a.scrollLeft)),{top:u,left:d}},R.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return R.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(R.css(e,"marginTop"))||0,n+=parseFloat(R.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=R.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,s=R(e),a=s.offset(),l=R.css(e,"top"),c=R.css(e,"left"),u=("absolute"===i||"fixed"===i)&&R.inArray("auto",[l,c])>-1,d={},h={};u?(h=s.position(),r=h.top,o=h.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),R.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):s.css(d)}},R.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),i=Sn.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(R.css(e,"marginTop"))||0,n.left-=parseFloat(R.css(e,"marginLeft"))||0,i.top+=parseFloat(R.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(R.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||I.body;e&&!Sn.test(e.nodeName)&&"static"===R.css(e,"position");)e=e.offsetParent;return e})}}),R.each(["Left","Top"],function(e,n){var i="scroll"+n;R.fn[i]=function(n){var r,o;return n===t?(r=this[0])?(o=L(r),o?"pageXOffset"in o?o[e?"pageYOffset":"pageXOffset"]:R.support.boxModel&&o.document.documentElement[i]||o.document.body[i]:r[i]):null:this.each(function(){o=L(this),o?o.scrollTo(e?R(o).scrollLeft():n,e?n:R(o).scrollTop()):this[i]=n})}}),R.each(["Height","Width"],function(e,n){var i=n.toLowerCase();R.fn["inner"+n]=function(){var e=this[0];return e?e.style?parseFloat(R.css(e,i,"padding")):this[i]():null},R.fn["outer"+n]=function(e){var t=this[0];return t?t.style?parseFloat(R.css(t,i,e?"margin":"border")):this[i]():null},R.fn[i]=function(e){var r=this[0];if(!r)return null==e?null:this;if(R.isFunction(e))return this.each(function(t){var n=R(this);n[i](e.call(this,t,n[i]()))});if(R.isWindow(r)){var o=r.document.documentElement["client"+n],s=r.document.body;return"CSS1Compat"===r.document.compatMode&&o||s&&s["client"+n]||o}if(9===r.nodeType)return Math.max(r.documentElement["client"+n],r.body["scroll"+n],r.documentElement["scroll"+n],r.body["offset"+n],r.documentElement["offset"+n]);if(e===t){var a=R.css(r,i),l=parseFloat(a);return R.isNumeric(l)?l:a}return this.css(i,"string"==typeof e?e:e+"px")}}),e.jQuery=e.$=R,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return R})}(window),function(e,t){var n;e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not(button[type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},handleRemote:function(i){var r,o,s,a,l=i.data("cross-domain")||null,c=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(n.fire(i,"ajax:before")){if(i.is("form")){r=i.attr("method"),o=i.attr("action"),s=i.serializeArray();var u=i.data("ujs:submit-button");u&&(s.push(u),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),o=i.attr("href"),s=i.data("params")||null);return a={type:r||"GET",data:s,dataType:c,crossDomain:l,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])}},o&&(a.url=o),n.ajax(a)}return!1},handleMethod:function(n){var i=n.attr("href"),r=n.data("method"),o=n.attr("target"),s=e("meta[name=csrf-token]").attr("content"),a=e("meta[name=csrf-param]").attr("content"),l=e('<form method="post" action="'+i+'"></form>'),c='<input name="_method" value="'+r+'" type="hidden" />';a!==t&&s!==t&&(c+='<input name="'+a+'" value="'+s+'" type="hidden" />'),o&&l.attr("target",o),l.hide().append(c).appendTo("body"),l.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),r=!1;return i?(n.fire(e,"confirm")&&(r=n.confirm(i),t=n.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,i){var r,o=e(),s=n||"input,textarea";return t.find(s).each(function(){r=e(this),(i?r.val():!r.val())&&(o=o.add(r))}),o.length?o:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,i){var r=n.data("events"),o=!0;return r!==t&&r.submit!==t&&e.each(r.submit,function(e,t){return"function"==typeof t.handler?o=t.handler(i):void 0}),o},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),e(document).delegate(n.linkClickSelector,"click.rails",function(i){var r=e(this),o=r.data("method"),s=r.data("params");return n.allowAction(r)?(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==t?!i.metaKey&&!i.ctrlKey||o&&"GET"!==o||s?(n.handleRemote(r)===!1&&n.enableElement(r),!1):!0:r.data("method")?(n.handleMethod(r),!1):void 0):n.stopEverything(i)}),e(document).delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),e(document).delegate(n.formSubmitSelector,"submit.rails",function(i){var r=e(this),o=r.data("remote")!==t,s=n.blankInputs(r,n.requiredInputSelector),a=n.nonBlankInputs(r,n.fileInputSelector);return n.allowAction(r)?s&&r.attr("novalidate")==t&&n.fire(r,"ajax:aborted:required",[s])?n.stopEverything(i):o?a?n.fire(r,"ajax:aborted:file",[a]):!e.support.submitBubbles&&e().jquery<"1.7"&&n.callFormSubmitBindings(r,i)===!1?n.stopEverything(i):(n.handleRemote(r),!1):(setTimeout(function(){n.disableFormElements(r)},13),void 0):n.stopEverything(i)}),e(document).delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),e(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),e(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))})}(jQuery),window.tinyMCEPreInit=window.tinyMCEPreInit||{base:"/assets/tinymce",query:"3.4.8",suffix:""},function(e){var t,n=/^\s*|\s*$/g,i="$1"==="B".replace(/A(.)|B/,"$1"),r={majorVersion:"3",minorVersion:"4.8",releaseDate:"2012-02-02",_init:function(){function t(e){return e.src&&/tiny_mce(|_gzip|_jquery|_prototype|_full)(_dev|_src)?.js/.test(e.src)?(/_(src|dev)\.js/g.test(e.src)&&(l.suffix="_src"),-1!=(s=e.src.indexOf("?"))&&(l.query=e.src.substring(s+1)),l.baseURL=e.src.substring(0,e.src.lastIndexOf("/")),o&&-1==l.baseURL.indexOf("://")&&0!==l.baseURL.indexOf("/")&&(l.baseURL=o+l.baseURL),l.baseURL):null}var n,i,r,o,s,a,l=this,c=document,u=navigator,d=u.userAgent;if(l.isOpera=e.opera&&opera.buildNumber,l.isWebKit=/WebKit/.test(d),l.isIE=!l.isWebKit&&!l.isOpera&&/MSIE/gi.test(d)&&/Explorer/gi.test(u.appName),l.isIE6=l.isIE&&/MSIE [56]/.test(d),l.isIE7=l.isIE&&/MSIE [7]/.test(d),l.isIE8=l.isIE&&/MSIE [8]/.test(d),l.isIE9=l.isIE&&/MSIE [9]/.test(d),l.isGecko=!l.isWebKit&&/Gecko/.test(d),l.isMac=-1!=d.indexOf("Mac"),l.isAir=/adobeair/i.test(d),l.isIDevice=/(iPad|iPhone)/.test(d),l.isIOS5=l.isIDevice&&d.match(/AppleWebKit\/(\d*)/)[1]>=534,e.tinyMCEPreInit)return l.suffix=tinyMCEPreInit.suffix,l.baseURL=tinyMCEPreInit.base,l.query=tinyMCEPreInit.query,void 0;for(l.suffix="",i=c.getElementsByTagName("base"),n=0;n<i.length;n++)(a=i[n].href)&&(/^https?:\/\/[^\/]+$/.test(a)&&(a+="/"),o=a?a.match(/.*\//)[0]:"");for(i=c.getElementsByTagName("script"),n=0;n<i.length;n++)if(t(i[n]))return;if(r=c.getElementsByTagName("head")[0])for(i=r.getElementsByTagName("script"),n=0;n<i.length;n++)if(t(i[n]))return},is:function(e,n){return n?"array"==n&&e.hasOwnProperty&&e instanceof Array?!0:typeof e==n:e!==t},makeMap:function(e,t,n){var i;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n},each:function(e,n,i){var r,o;if(!e)return 0;if(i=i||e,e.length!==t){for(r=0,o=e.length;o>r;r++)if(n.call(i,e[r],r,e)===!1)return 0}else for(r in e)if(e.hasOwnProperty(r)&&n.call(i,e[r],r,e)===!1)return 0;return 1},trim:function(e){return(e?""+e:"").replace(n,"")},create:function(e,t,n){var i,r,o,s,a,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],r=l.createNS(e[3].replace(/\.\w+$/,""),n),!r[o]){if("static"==e[2])return r[o]=t,this.onCreate&&this.onCreate(e[2],e[3],r[o]),void 0;t[o]||(t[o]=function(){},c=1),r[o]=t[o],l.extend(r[o].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,s=e[5].match(/\.(\w+)$/i)[1],a=r[o],r[o]=c?function(){return i[s].apply(this,arguments)}:function(){return this.parent=i[s],a.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(e,t){r[o].prototype[t]=i[t]}),l.each(t,function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=o&&(r[o].prototype[t]=e)})),l.each(t["static"],function(e,t){r[o][t]=e}),this.onCreate&&this.onCreate(e[2],e[3],r[o].prototype)}},walk:function(e,t,n,i){i=i||this,e&&(n&&(e=e[n]),r.each(e,function(e,o){return t.call(i,e,o,n)===!1?!1:(r.walk(e,t,n,i),void 0)}))},createNS:function(t,n){var i,r;for(n=n||e,t=t.split("."),i=0;i<t.length;i++)r=t[i],n[r]||(n[r]={}),n=n[r];return n},resolve:function(t,n){var i,r;for(n=n||e,t=t.split("."),i=0,r=t.length;r>i&&(n=n[t[i]],n);i++);return n},addUnload:function(t,n){function i(){var t,n,s=o.unloads;if(s){for(n in s)t=s[n],t&&t.func&&t.func.call(t.scope,1);e.detachEvent?(e.detachEvent("onbeforeunload",r),e.detachEvent("onunload",i)):e.removeEventListener&&e.removeEventListener("unload",i,!1),o.unloads=t=s=w=i=0,e.CollectGarbage&&CollectGarbage()}}function r(){function t(){n.detachEvent("onstop",t),i&&i(),n=0}var n=document;"interactive"==n.readyState&&(n&&n.attachEvent("onstop",t),e.setTimeout(function(){n&&n.detachEvent("onstop",t)},0))}var o=this;return t={func:t,scope:n||this},o.unloads?o.unloads.push(t):(e.attachEvent?(e.attachEvent("onunload",i),e.attachEvent("onbeforeunload",r)):e.addEventListener&&e.addEventListener("unload",i,!1),o.unloads=[t]),t},removeUnload:function(e){var t=this.unloads,n=null;return r.each(t,function(i,r){return i&&i.func==e?(t.splice(r,1),n=e,!1):void 0}),n},explode:function(e,t){return e?r.map(e.split(t||","),r.trim):e},_addVer:function(e){var t;return this.query?(t=(-1==e.indexOf("?")?"?":"&")+this.query,-1==e.indexOf("#")?e+t:e.replace("#",t+"#")):e},_replace:function(e,n,r){return i?r.replace(e,function(){var e,i=n,r=arguments;for(e=0;e<r.length-2;e++)i=r[e]===t?i.replace(new RegExp("\\$"+e,"g"),""):i.replace(new RegExp("\\$"+e,"g"),r[e]);return i}):r.replace(e,n)}};r._init(),e.tinymce=e.tinyMCE=r}(window),function(e,t){var n,i=(t.is,/^(href|src|style)$/i);if(!e&&window.console)return console.log("Load jQuery first!");t.$=e,t.adapter={patchEditor:function(t){function r(e,t){var n=this;return t&&n.removeAttr("data-mce-style"),l.css.apply(n,arguments)}function o(e,r){var o=this;return i.test(e)?r!==n?(o.each(function(n,i){t.dom.setAttrib(i,e,r)}),o):o.attr("data-mce-"+e):l.attr.apply(o,arguments)}function s(e){return function(n){return n&&(n=t.dom.processHTML(n)),e.call(this,n)}}function a(e){return e.css!==r&&(e.css=r,e.attr=o,e.html=s(l.html),e.append=s(l.append),e.prepend=s(l.prepend),e.after=s(l.after),e.before=s(l.before),e.replaceWith=s(l.replaceWith),e.tinymce=t,e.pushStack=function(){return a(l.pushStack.apply(this,arguments))}),e}var l=e.fn;t.$=function(n,i){var r=t.getDoc();return a(e(n||r,r||i))}}},t.extend=e.extend,t.extend(t,{map:e.map,grep:function(t,n){return e.grep(t,n||function(){return 1})},inArray:function(t,n){return e.inArray(n,t||[])}});var r={"tinymce.dom.DOMUtils":{select:function(t,n){var i=this;return e.find(t,i.get(n)||i.get(i.settings.root_element)||i.doc,[])},is:function(t,n){return e(this.get(t)).is(n)}}};t.onCreate=function(e,n,i){t.extend(i,r[n])}}(window.jQuery,tinymce),tinymce.create("tinymce.util.Dispatcher",{scope:null,listeners:null,Dispatcher:function(e){this.scope=e||this,this.listeners=[]},add:function(e,t){return this.listeners.push({cb:e,scope:t||this.scope}),e},addToTop:function(e,t){return this.listeners.unshift({cb:e,scope:t||this.scope}),e},remove:function(e){var t=this.listeners,n=null;return tinymce.each(t,function(i,r){return e==i.cb?(n=e,t.splice(r,1),!1):void 0}),n},dispatch:function(){var e,t,n,i=arguments,r=this.listeners;for(t=0;t<r.length&&(n=r[t],e=n.cb.apply(n.scope,i.length>0?i:[n.scope]),e!==!1);t++);return e}}),function(){var e=tinymce.each;tinymce.create("tinymce.util.URI",{URI:function(t,n){var i,r,o=this;return t=tinymce.trim(t),n=o.settings=n||{},/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)?(o.source=t,void 0):(0===t.indexOf("/")&&0!==t.indexOf("//")&&(t=(n.base_uri?n.base_uri.protocol||"http":"http")+"://mce_host"+t),/^[\w-]*:?\/\//.test(t)||(r=n.base_uri?n.base_uri.path:new tinymce.util.URI(location.href).directory,t=(n.base_uri&&n.base_uri.protocol||"http")+"://mce_host"+o.toAbsPath(r,t)),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),e(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(e,n){var i=t[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),o[e]=i}),(i=n.base_uri)&&(o.protocol||(o.protocol=i.protocol),o.userInfo||(o.userInfo=i.userInfo),o.port||"mce_host"!=o.host||(o.port=i.port),o.host&&"mce_host"!=o.host||(o.host=i.host),o.source=""),void 0)},setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,n=this;return"./"===e?e:(e=new tinymce.util.URI(e,{base_uri:n}),"mce_host"!=e.host&&n.host!=e.host&&e.host||n.port!=e.port||n.protocol!=e.protocol?e.getURI():(t=n.toRelPath(n.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t))},toAbsolute:function(e,t){var e=new tinymce.util.URI(e,{base_uri:this});return e.getURI(this.host==e.host&&this.protocol==e.protocol?t:0)},toRelPath:function(e,t){var n,i,r,o=0,s="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;r>i;i++)if(i>=n.length||e[i]!=n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;r>i;i++)if(i>=e.length||e[i]!=n[i]){o=i+1;break}if(1==o)return t;for(i=0,r=e.length-(o-1);r>i;i++)s+="../";for(i=o-1,r=n.length;r>i;i++)s+=i!=o-1?"/"+n[i]:n[i];return s},toAbsPath:function(t,n){var i,r,o,s=0,a=[];for(r=/\/$/.test(n)?"/":"",t=t.split("/"),n=n.split("/"),e(t,function(e){e&&a.push(e)}),t=a,i=n.length-1,a=[];i>=0;i--)0!=n[i].length&&"."!=n[i]&&(".."!=n[i]?s>0?s--:a.push(n[i]):s++);return i=t.length-s,o=0>=i?a.reverse().join("/"):t.slice(0,i).join("/")+"/"+a.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return(!n.source||e)&&(t="",e||(n.protocol&&(t+=n.protocol+"://"),n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}})}(),function(){var e=tinymce.each;tinymce.create("static tinymce.util.Cookie",{getHash:function(t){var n,i=this.get(t);return i&&e(i.split("&"),function(e){e=e.split("="),n=n||{},n[unescape(e[0])]=unescape(e[1])}),n},setHash:function(t,n,i,r,o,s){var a="";e(n,function(e,t){a+=(a?"&":"")+escape(t)+"="+escape(e)}),this.set(t,a,i,r,o,s)},get:function(e){var t,n,i=document.cookie,r=e+"=";if(i){if(n=i.indexOf("; "+r),-1==n){if(n=i.indexOf(r),0!=n)return null}else n+=2;return t=i.indexOf(";",n),-1==t&&(t=i.length),unescape(i.substring(n+r.length,t))}},set:function(e,t,n,i,r,o){document.cookie=e+"="+escape(t)+(n?"; expires="+n.toGMTString():"")+(i?"; path="+escape(i):"")+(r?"; domain="+r:"")+(o?"; secure":"")},remove:function(e,t){var n=new Date;n.setTime(n.getTime()-1e3),this.set(e,"",n,t,n)}})}(),function(){function serialize(e,t){var n,i,r;if(t=t||'"',null==e)return"null";if(r=typeof e,"string"==r)return i="\bb	t\nn\ff\rr\"\"''\\\\",t+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,r){return'"'===t&&"'"===e?e:(n=i.indexOf(r),n+1?"\\"+i.charAt(n+1):(e=r.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+t;if("object"==r){if(e.hasOwnProperty&&e instanceof Array){for(n=0,i="[";n<e.length;n++)i+=(n>0?",":"")+serialize(e[n],t);return i+"]"}i="{";for(n in e)e.hasOwnProperty(n)&&(i+="function"!=typeof e[n]?(i.length>1?","+t:t)+n+t+":"+serialize(e[n],t):"");return i+"}"}return""+e}tinymce.util.JSON={serialize:serialize,parse:function(s){try{return eval("("+s+")")}catch(ex){}}}
}(),tinymce.create("static tinymce.util.XHR",{send:function(e){function t(e){i=0;try{i=new ActiveXObject(e)}catch(t){}return i}function n(){!e.async||4==i.readyState||s++>1e4?(e.success&&1e4>s&&200==i.status?e.success.call(e.success_scope,""+i.responseText,i,e):e.error&&e.error.call(e.error_scope,s>1e4?"TIMED_OUT":"GENERAL",i,e),i=null):o.setTimeout(n,10)}var i,r,o=window,s=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async===!1?!1:!0,e.data=e.data||"",i=o.XMLHttpRequest?new XMLHttpRequest:t("Microsoft.XMLHTTP")||t("Msxml2.XMLHTTP")){if(i.overrideMimeType&&i.overrideMimeType(e.content_type),i.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.content_type&&i.setRequestHeader("Content-Type",e.content_type),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(e.data),!e.async)return n();r=o.setTimeout(n,10)}}}),function(){var e=tinymce.extend,t=tinymce.util.JSON,n=tinymce.util.XHR;tinymce.create("tinymce.util.JSONRequest",{JSONRequest:function(t){this.settings=e({},t),this.count=0},send:function(i){var r=i.error,o=i.success;i=e(this.settings,i),i.success=function(e,n){e=t.parse(e),"undefined"==typeof e&&(e={error:"JSON Parse error."}),e.error?r.call(i.error_scope||i.scope,e.error,n):o.call(i.success_scope||i.scope,e.result)},i.error=function(e,t){r&&r.call(i.error_scope||i.scope,e,t)},i.data=t.serialize({id:i.id||"c"+this.count++,method:i.method,params:i.params}),i.content_type="application/json",n.send(i)},"static":{sendRPC:function(e){return(new tinymce.util.JSONRequest).send(e)}}})}(),function(e){e.VK={DELETE:46,BACKSPACE:8,ENTER:13,TAB:9,SPACEBAR:32,UP:38,DOWN:40,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey}}}(tinymce),function(e){function t(t){var n=t.dom,i=t.selection;t.onKeyDown.add(function(t,r){var o,s,a,l,c;if(c=r.keyCode==h,(c||r.keyCode==d)&&!u.modifierPressed(r)){if(r.preventDefault(),o=i.getRng(),s=n.getParent(o.startContainer,n.isBlock),c&&(s=n.getNext(s,n.isBlock)),s){for(a=s.firstChild;a&&3==a.nodeType&&0==a.nodeValue.length;)a=a.nextSibling;a&&"SPAN"===a.nodeName&&(l=a.cloneNode(!1))}t.getDoc().execCommand(c?"ForwardDelete":"Delete",!1,null),s=n.getParent(o.startContainer,n.isBlock),e.each(n.select("span.Apple-style-span,font.Apple-style-span",s),function(e){var t=i.getBookmark();l?n.replace(l.cloneNode(!1),e,!0):n.remove(e,!0),i.moveToBookmark(t)})}})}function n(e){e.onKeyUp.add(function(e,t){var n=t.keyCode;return n!=h&&n!=d||!e.dom.isEmpty(e.getBody())?void 0:(e.setContent("",{format:"raw"}),e.nodeChanged(),void 0)})}function i(e){e.dom.bind(e.getDoc(),"focusin",function(){e.selection.setRng(e.selection.getRng())})}function r(t){t.onKeyDown.add(function(t,n){if(n.keyCode===d&&t.selection.isCollapsed()&&0===t.selection.getRng(!0).startOffset){var i=t.selection.getNode(),r=i.previousSibling;r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(t.dom.remove(r),e.dom.Event.cancel(n))}})}function o(e){Range.prototype.getClientRects||e.onMouseDown.add(function(e,t){if("HTML"===t.target.nodeName){var n=e.getBody();n.blur(),setTimeout(function(){n.focus()},0)}})}function s(e){e.onClick.add(function(e,t){t=t.target,/^(IMG|HR)$/.test(t.nodeName)&&e.selection.getSel().setBaseAndExtent(t,0,t,1),"A"==t.nodeName&&e.dom.hasClass(t,"mceItemAnchor")&&e.selection.select(t),e.nodeChanged()})}function a(e){e.onKeyDown.add(function(e,t){function n(e){var t=e.selection.getNode(),n="h1,h2,h3,h4,h5,h6";return e.dom.is(t,n)||null!==e.dom.getParent(t,n)}t.keyCode===u.ENTER&&!u.modifierPressed(t)&&n(e)&&setTimeout(function(){var t=e.selection.getNode();e.dom.is(t,"p")&&(e.dom.setAttrib(t,"style",null),e.execCommand("mceCleanup"))},0)})}function l(t){var n,i;t.dom.bind(t.getDoc(),"selectionchange",function(){i&&(clearTimeout(i),i=0),i=window.setTimeout(function(){var i=t.selection.getRng();n&&e.dom.RangeUtils.compareRanges(i,n)||(t.nodeChanged(),n=i)},50)})}function c(){document.body.setAttribute("role","application")}var u=e.VK,d=u.BACKSPACE,h=u.DELETE;e.create("tinymce.util.Quirks",{Quirks:function(u){e.isWebKit&&(t(u),n(u),i(u),s(u),e.isIDevice&&l(u)),e.isIE&&(r(u),n(u),c(u),a(u)),e.isGecko&&(r(u),o(u))}})}(tinymce),function(e){function t(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,i,o,s={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),r[i]||(o="&"+e[n+1]+";",s[i]=o,s[o]=i);return s}}var i,r,o,s=/[&<>\"\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\"\']/g,c=/&(#x|#)?([\w]+);/g,u={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),e.html=e.html||{},e.html.Entities={encodeRaw:function(e,t){return e.replace(t?s:a,function(e){return r[e]||e})},encodeAllRaw:function(e){return(""+e).replace(l,function(e){return r[e]||e})},encodeNumeric:function(e,t){return e.replace(t?s:a,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":r[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||i,e.replace(t?s:a,function(e){return r[e]||n[e]||e})},getEncodeFunc:function(t,o){function l(e,t){return e.replace(t?s:a,function(e){return r[e]||o[e]||"&#"+e.charCodeAt(0)+";"||e})}function c(e,t){return u.encodeNamed(e,t,o)}var u=e.html.Entities;return o=n(o)||i,t=e.makeMap(t.replace(/\+/g,",")),t.named&&t.numeric?l:t.named?o?c:u.encodeNamed:t.numeric?u.encodeNumeric:u.encodeRaw},decode:function(e){return e.replace(c,function(e,n,r){return n?(r=parseInt(r,2===n.length?16:10),r>65535?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(1023&r))):u[r]||String.fromCharCode(r)):o[e]||i[e]||t(e)})}}}(tinymce),tinymce.html.Styles=function(e,t){function n(e,t,n,i){function r(e){return e=parseInt(e).toString(16),e.length>1?e:"0"+e}return"#"+r(t)+r(n)+r(i)}var i,r,o,s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={};for(e=e||{},o="\\\" \\' \\; \\: ; : ﻿".split(" "),r=0;r<o.length;r++)u[o[r]]="﻿"+r,u["﻿"+r]=o[r];return{toHex:function(e){return e.replace(s,n)},parse:function(t){function i(e,t){var n,i,r,o;n=v[e+"-top"+t],n&&(i=v[e+"-right"+t],n==i&&(r=v[e+"-bottom"+t],i==r&&(o=v[e+"-left"+t],r==o&&(v[e+t]=o,delete v[e+"-top"+t],delete v[e+"-right"+t],delete v[e+"-bottom"+t],delete v[e+"-left"+t]))))}function r(e){var t,n=v[e];if(n&&!(n.indexOf(" ")<0)){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return v[e]=n[0],!0}}function o(e,t,n,i){r(t)&&r(n)&&r(i)&&(v[e]=v[t]+" "+v[n]+" "+v[i],delete v[t],delete v[n],delete v[i])}function d(e){return g=!0,u[e]}function h(e,t){return g&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return u[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}var f,p,m,g,v={},y=e.url_converter,b=e.url_converter_scope||this;if(t){for(t=t.replace(/\\[\"\';:\uFEFF]/g,d).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,d)});f=l.exec(t);)p=f[1].replace(c,"").toLowerCase(),m=f[2].replace(c,""),p&&m.length>0&&("font-weight"===p&&"700"===m?m="bold":("color"===p||"background-color"===p)&&(m=m.toLowerCase()),m=m.replace(s,n),m=m.replace(a,function(e,t,n,i,r,o){return(r=r||o)?(r=h(r),"'"+r.replace(/\'/g,"\\'")+"'"):(t=h(t||n||i),y&&(t=y.call(b,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')")}),v[p]=g?h(m,!0):m),l.lastIndex=f.index+f[0].length;i("border",""),i("border","-width"),i("border","-color"),i("border","-style"),i("padding",""),i("margin",""),o("border","border-width","border-style","border-color"),"medium none"===v.border&&delete v.border}return v},serialize:function(e,n){function r(n){var r,o,s,l;if(r=t.styles[n])for(o=0,s=r.length;s>o;o++)n=r[o],l=e[n],l!==i&&l.length>0&&(a+=(a.length>0?" ":"")+n+": "+l+";")}var o,s,a="";if(n&&t&&t.styles)r("*"),r(n);else for(o in e)s=e[o],s!==i&&s.length>0&&(a+=(a.length>0?" ":"")+o+": "+s+";");return a}}},function(e){function t(e,t){return e.split(t||",")}function n(e,n){function i(t){return t.replace(/[A-Z]+/g,function(t){return i(e[t])})}var r,o={};for(r in e)e.hasOwnProperty(r)&&(e[r]=i(e[r]));return i(n).replace(/#/g,"#text").replace(/(\w+)\[([^\]]+)\]\[([^\]]*)\]/g,function(e,n,i,r){i=t(i,"|"),o[n]={attributes:d(i),attributesOrder:i,children:d(r,"|",{"#comment":{}})}}),o}var i,r,o,s,a,l,c={},u={},d=e.makeMap,h=e.each;r="h1,h2,h3,h4,h5,h6,hr,p,div,address,pre,form,table,tbody,thead,tfoot,th,tr,td,li,ol,ul,caption,blockquote,center,dl,dt,dd,dir,fieldset,noscript,menu,isindex,samp,header,footer,article,section,hgroup",r=d(r,",",d(r.toUpperCase())),c=n({Z:"H|K|N|O|P",Y:"X|form|R|Q",ZG:"E|span|width|align|char|charoff|valign",X:"p|T|div|U|W|isindex|fieldset|table",ZF:"E|align|char|charoff|valign",W:"pre|hr|blockquote|address|center|noframes",ZE:"abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height",ZD:"[E][S]",U:"ul|ol|dl|menu|dir",ZC:"p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q",T:"h1|h2|h3|h4|h5|h6",ZB:"X|S|Q",S:"R|P",ZA:"a|G|J|M|O|P",R:"a|H|K|N|O",Q:"noscript|P",P:"ins|del|script",O:"input|select|textarea|label|button",N:"M|L",M:"em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym",L:"sub|sup",K:"J|I",J:"tt|i|b|u|s|strike",I:"big|small|font|basefont",H:"G|F",G:"br|span|bdo",F:"object|applet|img|map|iframe",E:"A|B|C",D:"accesskey|tabindex|onfocus|onblur",C:"onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup",B:"lang|xml:lang|dir",A:"id|class|style|title"},"script[id|charset|type|language|src|defer|xml:space][]style[B|id|type|media|title|xml:space][]object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]param[id|name|value|valuetype|type][]p[E|align][#|S]a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]br[A|clear][]span[E][#|S]bdo[A|C|B][#|S]applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]h1[E|align][#|S]img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]map[B|C|A|name][X|form|Q|area]h2[E|align][#|S]iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]h3[E|align][#|S]tt[E][#|S]i[E][#|S]b[E][#|S]u[E][#|S]s[E][#|S]strike[E][#|S]big[E][#|S]small[E][#|S]font[A|B|size|color|face][#|S]basefont[id|size|color|face][]em[E][#|S]strong[E][#|S]dfn[E][#|S]code[E][#|S]q[E|cite][#|S]samp[E][#|S]kbd[E][#|S]var[E][#|S]cite[E][#|S]abbr[E][#|S]acronym[E][#|S]sub[E][#|S]sup[E][#|S]input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]optgroup[E|disabled|label][option]option[E|selected|disabled|label|value][]textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]label[E|for|accesskey|onfocus|onblur][#|S]button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]h4[E|align][#|S]ins[E|cite|datetime][#|Y]h5[E|align][#|S]del[E|cite|datetime][#|Y]h6[E|align][#|S]div[E|align][#|Y]ul[E|type|compact][li]li[E|type|value][#|Y]ol[E|type|compact|start][li]dl[E|compact][dt|dd]dt[E][#|S]dd[E][#|Y]menu[E|compact][li]dir[E|compact][li]pre[E|width|xml:space][#|ZA]hr[E|align|noshade|size|width][]blockquote[E|cite][#|Y]address[E][#|S|p]center[E][#|Y]noframes[E][#|Y]isindex[A|B|prompt][]fieldset[E][#|legend|Y]legend[E|accesskey|align][#|S]table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]caption[E|align][#|S]col[ZG][]colgroup[ZG][col]thead[ZF][tr]tr[ZF|bgcolor][th|td]th[E|ZE][#|Y]form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]noscript[E][#|Y]td[E|ZE][#|Y]tfoot[ZF][tr]tbody[ZF][tr]area[E|D|shape|coords|href|nohref|alt|target][]base[id|href|target][]body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]"),i=d("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected,autoplay,loop,controls"),o=d("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,source"),s=e.extend(d("td,th,iframe,video,audio,object"),o),a=d("pre,script,style,textarea"),l=d("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),e.html.Schema=function(n){function f(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function p(n){var i,r,o,s,a,l,c,u,h,p,m,g,v,y,b,_,w,C,S,E=/^([#+-])?([^\[\/]+)(?:\/([^\[]+))?(?:\[([^\]]+)\])?$/,T=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,N=/[*?+]/;if(n)for(n=t(n),x["@"]&&(_=x["@"].attributes,w=x["@"].attributesOrder),i=0,r=n.length;r>i;i++)if(a=E.exec(n[i])){if(y=a[1],h=a[2],b=a[3],u=a[4],g={},v=[],l={attributes:g,attributesOrder:v},"#"===y&&(l.paddEmpty=!0),"-"===y&&(l.removeEmpty=!0),_){for(C in _)g[C]=_[C];v.push.apply(v,w)}if(u)for(u=t(u,"|"),o=0,s=u.length;s>o;o++)if(a=T.exec(u[o])){if(c={},m=a[1],p=a[2].replace(/::/g,":"),y=a[3],S=a[4],"!"===m&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(p),c.required=!0),"-"===m){delete g[p],v.splice(e.inArray(v,p),1);continue}y&&("="===y&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:p,value:S}),c.defaultValue=S),":"===y&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:p,value:S}),c.forcedValue=S),"<"===y&&(c.validValues=d(S,"?"))),N.test(p)?(l.attributePatterns=l.attributePatterns||[],c.pattern=f(p),l.attributePatterns.push(c)):(g[p]||v.push(p),g[p]=c)}_||"@"!=h||(_=g,w=v),b&&(l.outputName=h,x[b]=l),N.test(h)?(l.pattern=f(h),k.push(l)):x[h]=l}}function m(e){x={},k=[],p(e),h(c,function(e,t){C[t]=e.children})}function g(e){var n=/^(~)?(.+)$/;e&&h(t(e),function(e){var t=n.exec(e),i="~"===t[1],o=i?"span":"div",s=t[2];C[s]=C[o],u[s]=o,i||(r[s]={}),h(C,function(e){e[o]&&(e[s]=e[o])})})}function v(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;e&&h(t(e),function(e){var i,r,o=n.exec(e);o&&(r=o[1],i=r?C[o[2]]:C[o[2]]={"#comment":{}},i=C[o[2]],h(t(o[3],"|"),function(e){"-"===r?delete i[e]:i[e]={}}))})}function y(e){var t,n=x[e];if(n)return n;for(t=k.length;t--;)if(n=k[t],n.pattern.test(e))return n}var b,_,w=this,x={},C={},k=[];n=n||{},n.verify_html===!1&&(n.valid_elements="*[*]"),n.valid_styles&&(b={},h(n.valid_styles,function(t,n){b[n]=e.explode(t)})),_=n.whitespace_elements?d(n.whitespace_elements):a,n.valid_elements?m(n.valid_elements):(h(c,function(e,t){x[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},C[t]=e.children}),h(t("strong/b,em/i"),function(e){e=t(e,"/"),x[e[1]].outputName=e[0]}),x.img.attributesDefault=[{name:"alt",value:""}],h(t("ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr"),function(e){x[e].removeEmpty=!0}),h(t("p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption"),function(e){x[e].paddEmpty=!0})),g(n.custom_elements),v(n.valid_children),p(n.extended_valid_elements),v("+ol[ul|ol],+ul[ul|ol]"),y("span")||p("span[!data-mce-type|*]"),n.invalid_elements&&e.each(e.explode(n.invalid_elements),function(e){x[e]&&delete x[e]}),w.children=C,w.styles=b,w.getBoolAttrs=function(){return i},w.getBlockElements=function(){return r},w.getShortEndedElements=function(){return o},w.getSelfClosingElements=function(){return l},w.getNonEmptyElements=function(){return s},w.getWhiteSpaceElements=function(){return _},w.isValidChild=function(e,t){var n=C[e];return!(!n||!n[t])},w.getElementRule=y,w.getCustomElements=function(){return u},w.addValidElements=p,w.setValidElements=m,w.addCustomElements=g,w.addValidChildren=v},e.html.Schema.boolAttrMap=i,e.html.Schema.blockElementsMap=r}(tinymce),function(e){e.html.SaxParser=function(t,n){var i=this,r=function(){};t=t||{},i.schema=n=n||new e.html.Schema,t.fix_self_closing!==!1&&(t.fix_self_closing=!0),e.each("comment cdata text start end pi doctype".split(" "),function(e){e&&(i[e]=t[e]||r)}),i.parse=function(i){function r(e){var t,n;for(t=O.length;t--&&O[t].name!==e;);if(t>=0){for(n=O.length-1;n>=t;n--)e=O[n],e.valid&&P.end(e.name);O.length=t}}var o,s,a,l,c,u,d,h,f,p,m,g,v,y,b,_,w,x,C,k,S,E,T,N,A,M,D,L,I,F,P=this,R=0,O=[],$=0,B=e.html.Entities.decode;for(A=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([^\\s\\/<>]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/)>))","g"),M=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:\\.|[^\"])*)\")|(?:\'((?:\\.|[^\'])*)\')|([^>\s]+)))?/g,D={script:/<\/script[^>]*>/gi,style:/<\/style[^>]*>/gi,noscript:/<\/noscript[^>]*>/gi},p=n.getShortEndedElements(),N=n.getSelfClosingElements(),m=n.getBoolAttrs(),v=t.validate,f=t.remove_internals,I=t.fix_self_closing,F=e.isIE,x=/^:/;o=A.exec(i);){if(R<o.index&&P.text(B(i.substr(R,o.index-R))),s=o[6])s=s.toLowerCase(),F&&x.test(s)&&(s=s.substr(1)),r(s);else if(s=o[7]){if(s=s.toLowerCase(),F&&x.test(s)&&(s=s.substr(1)),g=s in p,I&&N[s]&&O.length>0&&O[O.length-1].name===s&&r(s),!v||(y=n.getElementRule(s))){if(b=!0,v&&(C=y.attributes,k=y.attributePatterns),(w=o[8])?(h=-1!==w.indexOf("data-mce-type"),h&&f&&(b=!1),l=[],l.map={},w.replace(M,function(e,t,n,i,r){var o,s;if(t=t.toLowerCase(),n=t in m?t:B(n||i||r||""),v&&!h&&0!==t.indexOf("data-")){if(o=C[t],!o&&k){for(s=k.length;s--&&(o=k[s],!o.pattern.test(t)););-1===s&&(o=null)}if(!o)return;if(o.validValues&&!(n in o.validValues))return}l.map[t]=n,l.push({name:t,value:n})})):(l=[],l.map={}),v&&!h){if(S=y.attributesRequired,E=y.attributesDefault,T=y.attributesForced)for(c=T.length;c--;)_=T[c],d=_.name,L=_.value,"{$uid}"===L&&(L="mce_"+$++),l.map[d]=L,l.push({name:d,value:L});if(E)for(c=E.length;c--;)_=E[c],d=_.name,d in l.map||(L=_.value,"{$uid}"===L&&(L="mce_"+$++),l.map[d]=L,l.push({name:d,value:L}));if(S){for(c=S.length;c--&&!(S[c]in l.map););-1===c&&(b=!1)}l.map["data-mce-bogus"]&&(b=!1)}b&&P.start(s,l,g)}else b=!1;if(a=D[s]){a.lastIndex=R=o.index+o[0].length,(o=a.exec(i))?(b&&(u=i.substr(R,o.index-R)),R=o.index+o[0].length):(u=i.substr(R),R=i.length),b&&u.length>0&&P.text(u,!0),b&&P.end(s),A.lastIndex=R;continue}g||(w&&w.indexOf("/")==w.length-1?b&&P.end(s):O.push({name:s,valid:b}))}else(s=o[1])?P.comment(s):(s=o[2])?P.cdata(s):(s=o[3])?P.doctype(s):(s=o[4])&&P.pi(s,o[5]);R=o.index+o[0].length}for(R<i.length&&P.text(B(i.substr(R))),c=O.length-1;c>=0;c--)s=O[c],s.valid&&P.end(s.name)}}}(tinymce),function(e){function t(e,t,n){var i,r,o=n?"lastChild":"firstChild",s=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[s])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[s])return i}}function n(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var i=/^[ \t\r\n]*$/,r={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};e.extend(n.prototype,{replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,i,r,o=this;if("string"!=typeof e){for(i in e)o.attr(i,e[i]);return o}if(n=o.attributes){if(t!==r){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),o;return o}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}return n.map[e]}},clone:function(){var e,t,i,r,o,s=this,a=new n(s.name,s.type);if(i=s.attributes){for(o=[],o.map={},e=0,t=i.length;t>e;e++)r=i[e],"id"!==r.name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);a.attributes=o}return a.value=s.value,a.shortEnded=s.shortEnded,a},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,i=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):i.next=n,t.lastChild===e?(t.lastChild=i,i&&(i.next=null)):n.prev=i,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=i,e},getAll:function(e){var n,i=this,r=[];for(n=i.firstChild;n;n=t(n,i))n.name===e&&r.push(n);return r},empty:function(){var e,n,i,r=this;if(r.firstChild){for(e=[],i=r.firstChild;i;i=t(i,r))e.push(i);for(n=e.length;n--;)i=e[n],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(e){var n,r,o=this,s=o.firstChild;if(s)do{if(1===s.type){if(s.attributes.map["data-mce-bogus"])continue;if(e[s.name])return!1;for(n=s.attributes.length;n--;)if(r=s.attributes[n].name,"name"===r||0===r.indexOf("data-"))return!1}if(3===s.type&&!i.test(s.value))return!1}while(s=t(s,o));return!0},walk:function(e){return t(this,null,e)}}),e.extend(n,{create:function(e,t){var i,o;if(i=new n(e,r[e]||1),t)for(o in t)i.attr(o,t[o]);return i}}),e.html.Node=n}(tinymce),function(e){var t=e.html.Node;e.html.DomParser=function(n,i){function r(n){var r,s,a,l,c,u,d,h,f,p,m,g,v;for(m=e.makeMap("tr,td,th,tbody,thead,tfoot,table"),p=i.getNonEmptyElements(),r=0;r<n.length;r++)if(s=n[r],s.parent){for(l=[s],a=s.parent;a&&!i.isValidChild(a.name,s.name)&&!m[a.name];a=a.parent)l.push(a);if(a&&l.length>1){for(l.reverse(),c=u=o.filterNode(l[0].clone()),f=0;f<l.length-1;f++){for(i.isValidChild(u.name,l[f].name)?(d=o.filterNode(l[f].clone()),u.append(d)):d=u,h=l[f].firstChild;h&&h!=l[f+1];)v=h.next,d.append(h),h=v;u=d}c.isEmpty(p)?a.insert(s,l[0],!0):(a.insert(c,l[0],!0),a.insert(s,c)),a=l[0],(a.isEmpty(p)||a.firstChild===a.lastChild&&"br"===a.firstChild.name)&&a.empty().remove()}else if(s.parent){if("li"===s.name){if(g=s.prev,g&&("ul"===g.name||"ul"===g.name)){g.append(s);continue}if(g=s.next,g&&("ul"===g.name||"ul"===g.name)){g.insert(s,g.firstChild,!0);continue}s.wrap(o.filterNode(new t("ul",1)));continue}i.isValidChild(s.parent.name,"div")&&i.isValidChild("div",s.name)?s.wrap(o.filterNode(new t("div",1))):"style"===s.name||"script"===s.name?s.empty().remove():s.unwrap()}}}var o=this,s={},a=[],l={},c={};n=n||{},n.validate="validate"in n?n.validate:!0,n.root_name=n.root_name||"body",o.schema=i=i||new e.html.Schema,o.filterNode=function(e){var t,n,i;n in s&&(i=l[n],i?i.push(e):l[n]=[e]),t=a.length;for(;t--;)n=a[t].name,n in e.attributes.map&&(i=c[n],i?i.push(e):c[n]=[e]);return e},o.addNodeFilter=function(t,n){e.each(e.explode(t),function(e){var t=s[e];t||(s[e]=t=[]),t.push(n)})},o.addAttributeFilter=function(t,n){e.each(e.explode(t),function(e){var t;for(t=0;t<a.length;t++)if(a[t].name===e)return a[t].callbacks.push(n),void 0;a.push({name:e,callbacks:[n]})})},o.parse=function(o,u){function d(){for(var e,t,n=m.firstChild;n;)e=n.next,3==n.type||1==n.type&&"p"!==n.name&&!S[n.name]&&!n.attr("data-mce-type")?t?t.append(n):(t=h(L,1),m.insert(t,n),t.append(n)):t=null,n=e}function h(e,n){var i,r=new t(e,n);return e in s&&(i=l[e],i?i.push(r):l[e]=[r]),r}function f(e){var t,n,i;for(t=e.prev;t&&3===t.type;)n=t.value.replace(T,""),n.length>0?(t.value=n,t=t.prev):(i=t.prev,t.remove(),t=i)}var p,m,g,v,y,b,_,w,x,C,k,S,E,T,N,A,M,D,L,I=[];if(u=u||{},l={},c={},S=e.extend(e.makeMap("script,style,head,html,body,title,meta,param"),i.getBlockElements()),D=i.getNonEmptyElements(),M=i.children,k=n.validate,L="forced_root_block"in u?u.forced_root_block:n.forced_root_block,A=i.getWhiteSpaceElements(),E=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,N=/[ \t\r\n]+/g,p=new e.html.SaxParser({validate:k,fix_self_closing:!k,cdata:function(e){g.append(h("#cdata",4)).value=e},text:function(e,t){var n;A[g.name]||(e=e.replace(N," "),g.lastChild&&S[g.lastChild.name]&&(e=e.replace(E,""))),0!==e.length&&(n=h("#text",3),n.raw=!!t,g.append(n).value=e)},comment:function(e){g.append(h("#comment",8)).value=e},pi:function(e,t){g.append(h(e,7)).value=t,f(g)},doctype:function(e){var t;t=g.append(h("#doctype",10)),t.value=e,f(g)},start:function(e,t,n){var r,o,s,l,u;if(s=k?i.getElementRule(e):{}){for(r=h(s.outputName||e,1),r.attributes=t,r.shortEnded=n,g.append(r),u=M[g.name],u&&M[r.name]&&!u[r.name]&&I.push(r),o=a.length;o--;)l=a[o].name,l in t.map&&(x=c[l],x?x.push(r):c[l]=[r]);S[e]&&f(r),n||(g=r)}},end:function(e){var n,r,o,s,a;if(r=k?i.getElementRule(e):{}){if(S[e]){if(!A[g.name]){for(n=g.firstChild;n&&3===n.type;)o=n.value.replace(E,""),o.length>0?(n.value=o,n=n.next):(s=n.next,n.remove(),n=s);for(n=g.lastChild;n&&3===n.type;)o=n.value.replace(T,""),o.length>0?(n.value=o,n=n.prev):(s=n.prev,n.remove(),n=s)}n=g.prev,n&&3===n.type&&(o=n.value.replace(E,""),o.length>0?n.value=o:n.remove())}if((r.removeEmpty||r.paddEmpty)&&g.isEmpty(D))if(r.paddEmpty)g.empty().append(new t("#text","3")).value=" ";else if(!g.attributes.map.name)return a=g.parent,g.empty().remove(),g=a,void 0;g=g.parent}}},i),m=g=new t(u.context||n.root_name,11),p.parse(o),k&&I.length&&(u.context?u.invalid=!0:r(I)),L&&"body"==m.name&&d(),!u.invalid){for(C in l){for(x=s[C],v=l[C],_=v.length;_--;)v[_].parent||v.splice(_,1);for(y=0,b=x.length;b>y;y++)x[y](v,C,u)}for(y=0,b=a.length;b>y;y++)if(x=a[y],x.name in c){for(v=c[x.name],_=v.length;_--;)v[_].parent||v.splice(_,1);for(_=0,w=x.callbacks.length;w>_;_++)x.callbacks[_](v,x.name,u)}}return m},n.remove_trailing_brs&&o.addNodeFilter("br",function(t){var n,r,o,s,a,l=t.length,c=i.getBlockElements(),u=i.getNonEmptyElements();for(c.body=1,n=0;l>n;n++)if(r=t[n],o=r.parent,c[r.parent.name]&&r===o.lastChild){for(s=r.prev;s;){if(a=s.name,"span"!==a||"bookmark"!==s.attr("data-mce-type")){if("br"!==a)break;if("br"===a){r=null;break}}s=s.prev}r&&(r.remove(),o.isEmpty(u)&&(elementRule=i.getElementRule(o.name),elementRule&&(elementRule.removeEmpty?o.remove():elementRule.paddEmpty&&(o.empty().append(new e.html.Node("#text",3)).value=" "))))}})}}(tinymce),tinymce.html.Writer=function(e){var t,n,i,r,o,s=[];return e=e||{},t=e.indent,n=tinymce.makeMap(e.indent_before||""),i=tinymce.makeMap(e.indent_after||""),r=tinymce.html.Entities.getEncodeFunc(e.entity_encoding||"raw",e.entities),o="html"==e.element_format,{start:function(e,a,l){var c,u,d,h;if(t&&n[e]&&s.length>0&&(h=s[s.length-1],h.length>0&&"\n"!==h&&s.push("\n")),s.push("<",e),a)for(c=0,u=a.length;u>c;c++)d=a[c],s.push(" ",d.name,'="',r(d.value,!0),'"');s[s.length]=!l||o?">":" />",l&&t&&i[e]&&s.length>0&&(h=s[s.length-1],h.length>0&&"\n"!==h&&s.push("\n"))},end:function(e){var n;s.push("</",e,">"),t&&i[e]&&s.length>0&&(n=s[s.length-1],n.length>0&&"\n"!==n&&s.push("\n"))},text:function(e,t){e.length>0&&(s[s.length]=t?e:r(e))},cdata:function(e){s.push("<![CDATA[",e,"]]>")},comment:function(e){s.push("<!--",e,"-->")},pi:function(e,n){n?s.push("<?",e," ",n,"?>"):s.push("<?",e,"?>"),t&&s.push("\n")},doctype:function(e){s.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){s.length=0},getContent:function(){return s.join("").replace(/\n$/,"")}}},function(e){e.html.Serializer=function(t,n){var i=this,r=new e.html.Writer(t);t=t||{},t.validate="validate"in t?t.validate:!0,i.schema=n=n||new e.html.Schema,i.writer=r,i.serialize=function(e){function i(e){var t,a,l,c,u,d,h,f,p,m=o[e.type];if(m)m(e);else{if(t=e.name,a=e.shortEnded,l=e.attributes,s&&l&&l.length>1){for(d=[],d.map={},p=n.getElementRule(e.name),h=0,f=p.attributesOrder.length;f>h;h++)c=p.attributesOrder[h],c in l.map&&(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));for(h=0,f=l.length;f>h;h++)c=l[h].name,c in d.map||(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));l=d}if(r.start(e.name,l,a),!a){if(e=e.firstChild)do i(e);while(e=e.next);r.end(t)}}}var o,s;return s=t.validate,o={3:function(e){r.text(e.value,e.raw)},8:function(e){r.comment(e.value)},7:function(e){r.pi(e.name,e.value)},10:function(e){r.doctype(e.value)},4:function(e){r.cdata(e.value)},11:function(e){if(e=e.firstChild)do i(e);while(e=e.next)}},r.reset(),1!=e.type||t.inner?o[11](e):i(e),r.getContent()}}}(tinymce),function(e){var t=e.each,n=e.is,i=e.isWebKit,r=e.isIE,o=e.html.Entities,s=e.html.Schema.blockElementsMap,a=/^[ \t\r\n]*$/;e.create("tinymce.dom.DOMUtils",{doc:null,root:null,files:null,pixelStyles:/^(top|left|bottom|right|width|height|borderWidth)$/,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},DOMUtils:function(t,n){var i,o=this;if(o.doc=t,o.win=window,o.files={},o.cssFlicker=!1,o.counter=0,o.stdMode=!e.isIE||t.documentMode>=8,o.boxModel=!e.isIE||"CSS1Compat"==t.compatMode||o.stdMode,o.hasOuterHTML="outerHTML"in t.createElement("a"),o.settings=n=e.extend({keep_values:!1,hex_colors:1},n),o.schema=n.schema,o.styles=new e.html.Styles({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),e.isIE6)try{t.execCommand("BackgroundImageCache",!1,!0)}catch(s){o.cssFlicker=!0}if(r&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(e){t.createElement(e)});for(i in n.schema.getCustomElements())t.createElement(i)}e.addUnload(o.destroy,o)},getRoot:function(){var e=this,t=e.settings;return t&&e.get(t.root_element)||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,i=this;return e=i.get(e),t=i.getPos(e),n=i.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,i=this;return e=i.get(e),t=i.getStyle(e,"width"),n=i.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t)||e.offsetWidth||e.clientWidth,h:parseInt(n)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,i,r){var o,s=this,a=s.settings,l=[];for(e=s.get(e),r=void 0===r,a.strict_root&&(i=i||s.getRoot()),n(t,"string")&&(o=t,t="*"===t?function(e){return 1==e.nodeType
}:function(e){return s.is(e,o)});e&&e!=i&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!r)return e;l.push(e)}e=e.parentNode}return r?l:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,e=this.doc.getElementById(e),e&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},add:function(e,t,i,r,o){var s=this;return this.run(e,function(e){var a;return a=n(t,"string")?s.doc.createElement(t):t,s.setAttribs(a,i),r&&(r.nodeType?a.appendChild(r):s.setHTML(a,r)),o?a:e.appendChild(a)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var i,r="",o=this;r+="<"+e;for(i in t)t.hasOwnProperty(i)&&(r+=" "+i+'="'+o.encode(t[i])+'"');return"undefined"!=typeof n?r+">"+n+"</"+e+">":r+" />"},remove:function(t,n){return this.run(t,function(t){var i,r=t.parentNode;if(!r)return null;if(n)for(;i=t.firstChild;)!e.isIE||3!==i.nodeType||i.nodeValue?r.insertBefore(i,t):t.removeChild(i);return r.removeChild(t)})},setStyle:function(t,n,i){var o=this;return o.run(t,function(s){var a;switch(a=s.style,n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),o.pixelStyles.test(n)&&(e.is(i,"number")||/^[\-0-9\.]+$/.test(i))&&(i+="px"),n){case"opacity":r&&(a.filter=""===i?"":"alpha(opacity="+100*i+")",t.currentStyle&&t.currentStyle.hasLayout||(a.display="inline-block")),a[n]=a["-moz-opacity"]=a["-khtml-opacity"]=i||"";break;case"float":r?a.styleFloat=i:a.cssFloat=i;break;default:a[n]=i||""}o.settings.update_styles&&o.setAttrib(s,"data-mce-style")})},getStyle:function(e,t,n){if(e=this.get(e)){if(this.doc.defaultView&&n){t=t.replace(/[A-Z]/g,function(e){return"-"+e});try{return this.doc.defaultView.getComputedStyle(e,null).getPropertyValue(t)}catch(i){return null}}return t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"==t&&(t=r?"styleFloat":"cssFloat"),e.currentStyle&&n?e.currentStyle[t]:e.style?e.style[t]:void 0}},setStyles:function(e,n){var i,r=this,o=r.settings;i=o.update_styles,o.update_styles=0,t(n,function(t,n){r.setStyle(e,n,t)}),o.update_styles=i,o.update_styles&&r.setAttrib(e,o.cssText)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,i,r){var o=this;if(e&&i)return o.settings.strict&&(i=i.toLowerCase()),this.run(e,function(e){var s=o.settings,a=e.getAttribute(i);if(null!==r)switch(i){case"style":if(!n(r,"string"))return t(r,function(t,n){o.setStyle(e,n,t)}),void 0;s.keep_values&&(r&&!o._isRes(r)?e.setAttribute("data-mce-style",r,2):e.removeAttribute("data-mce-style",2)),e.style.cssText=r;break;case"class":e.className=r||"";break;case"src":case"href":s.keep_values&&(s.url_converter&&(r=s.url_converter.call(s.url_converter_scope||o,r,i,e)),o.setAttrib(e,"data-mce-"+i,r,2));break;case"shape":e.setAttribute("data-mce-style",r)}if(n(r)&&null!==r&&0!==r.length?e.setAttribute(i,""+r,2):e.removeAttribute(i,2),tinyMCE.activeEditor&&a!=r){var l=tinyMCE.activeEditor;l.onSetAttrib.dispatch(l,e,i,r)}})},setAttribs:function(e,n){var i=this;return this.run(e,function(e){t(n,function(t,n){i.setAttrib(e,n,t)})})},getAttrib:function(t,o,s){var a,l,c=this;if(t=c.get(t),!t||1!==t.nodeType)return s===l?!1:s;if(n(s)||(s=""),/^(src|href|style|coords|shape)$/.test(o)&&(a=t.getAttribute("data-mce-"+o)))return a;if(r&&c.props[o]&&(a=t[c.props[o]],a=a&&a.nodeValue?a.nodeValue:a),a||(a=t.getAttribute(o,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(o))return t[c.props[o]]===!0&&""===a?o:a?o:"";if("FORM"===t.nodeName&&t.getAttributeNode(o))return t.getAttributeNode(o).nodeValue;if("style"===o&&(a=a||t.style.cssText,a&&(a=c.serializeStyle(c.parseStyle(a),t.nodeName),c.settings.keep_values&&!c._isRes(a)&&t.setAttribute("data-mce-style",a))),i&&"class"===o&&a&&(a=a.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),r)switch(o){case"rowspan":case"colspan":1===a&&(a="");break;case"size":("+0"===a||20===a||0===a)&&(a="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===a&&(a="");break;case"hspace":-1===a&&(a="");break;case"maxlength":case"tabindex":(32768===a||2147483647===a||"32768"===a)&&(a="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===a?o:s;case"shape":a=a.toLowerCase();break;default:0===o.indexOf("on")&&a&&(a=e._replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1",""+a))}return a!==l&&null!==a&&""!==a?""+a:s},getPos:function(e,t){var n,i,r=this,o=0,s=0,a=r.doc;if(e=r.get(e),t=t||a.body,e){if(e.getBoundingClientRect)return e=e.getBoundingClientRect(),n=r.boxModel?a.documentElement:a.body,o=e.left+(a.documentElement.scrollLeft||a.body.scrollLeft)-n.clientTop,s=e.top+(a.documentElement.scrollTop||a.body.scrollTop)-n.clientLeft,{x:o,y:s};for(i=e;i&&i!=t&&i.nodeType;)o+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!=t&&i.nodeType;)o-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode}return{x:o,y:s}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},loadCSS:function(n){var i,o=this,s=o.doc;n||(n=""),i=o.select("head")[0],t(n.split(","),function(t){var n;o.files[t]||(o.files[t]=!0,n=o.create("link",{rel:"stylesheet",href:e._addVer(t)}),r&&s.documentMode&&s.recalc&&(n.onload=function(){s.recalc&&s.recalc(),n.onload=null}),i.appendChild(n))})},addClass:function(e,t){return this.run(e,function(e){var n;return t?this.hasClass(e,t)?e.className:(n=this.removeClass(e,t),e.className=(""!=n?n+" ":"")+t):0})},removeClass:function(t,n){var i,r=this;return r.run(t,function(t){var o;return r.hasClass(t,n)?(i||(i=new RegExp("(^|\\s+)"+n+"(\\s+|$)","g")),o=t.className.replace(i," "),o=e.trim(" "!=o?o:""),t.className=o,o||(t.removeAttribute("class"),t.removeAttribute("className")),o):t.className})},hasClass:function(e,t){return e=this.get(e),e&&t?-1!==(" "+e.className+" ").indexOf(" "+t+" "):!1},show:function(e){return this.setStyle(e,"display","block")},hide:function(e){return this.setStyle(e,"display","none")},isHidden:function(e){return e=this.get(e),!e||"none"==e.style.display||"none"==this.getStyle(e,"display")},uniqueId:function(e){return(e?e:"mce_")+this.counter++},setHTML:function(e,n){var i=this;return i.run(e,function(e){if(r){for(;e.firstChild;)e.removeChild(e.firstChild);try{e.innerHTML="<br />"+n,e.removeChild(e.firstChild)}catch(o){e=i.create("div"),e.innerHTML="<br />"+n,t(e.childNodes,function(t,n){n&&e.appendChild(t)})}}else e.innerHTML=n;return n})},getOuterHTML:function(e){var t,n=this;return(e=n.get(e))?1===e.nodeType&&n.hasOuterHTML?e.outerHTML:(t=(e.ownerDocument||n.doc).createElement("body"),t.appendChild(e.cloneNode(!0)),t.innerHTML):null},setOuterHTML:function(e,t,n){function i(e,t,n){var i,r;for(r=n.createElement("body"),r.innerHTML=t,i=r.lastChild;i;)o.insertAfter(i.cloneNode(!0),e),i=i.previousSibling;o.remove(e)}var o=this;return this.run(e,function(e){if(e=o.get(e),1==e.nodeType)if(n=n||e.ownerDocument||o.doc,r)try{r&&1==e.nodeType?e.outerHTML=t:i(e,t,n)}catch(s){i(e,t,n)}else i(e,t,n)})},decode:o.decode,encode:o.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,i;return n=t.parentNode,i=t.nextSibling,i?n.insertBefore(e,i):n.appendChild(e),e})},isBlock:function(e){var t=e.nodeType;return t?!(1!==t||!s[e.nodeName]):!!s[e]},replace:function(i,r,o){var s=this;return n(r,"array")&&(i=i.cloneNode(!0)),s.run(r,function(n){return o&&t(e.grep(n.childNodes),function(e){i.appendChild(e)}),n.parentNode.replaceChild(i,n)})},rename:function(e,n){var i,r=this;return e.nodeName!=n.toUpperCase()&&(i=r.create(n),t(r.getAttribs(e),function(t){r.setAttrib(i,t.nodeName,r.getAttrib(e,t.nodeName))}),r.replace(i,e,1)),i||e},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){function t(e){return e=parseInt(e).toString(16),e.length>1?e:"0"+e}var n=/^\s*rgb\s*?\(\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?,\s*?([0-9]+)\s*?\)\s*$/i.exec(e);return n?e="#"+t(n[1])+t(n[2])+t(n[3]):e},getClasses:function(){function n(r){t(r.imports,function(e){n(e)}),t(r.cssRules||r.rules,function(r){switch(r.type||1){case 1:r.selectorText&&t(r.selectorText.split(","),function(t){t=t.replace(/^\s*|\s*$|^\s\./g,""),!/\.mce/.test(t)&&/\.[\w\-]+$/.test(t)&&(i=t,t=e._replace(/.*\.([a-z0-9_\-]+).*/i,"$1",t),(!a||(t=a(t,i)))&&(s[t]||(o.push({"class":t}),s[t]=1)))});break;case 3:n(r.styleSheet)}})}var i,r=this,o=[],s={},a=r.settings.class_filter;if(r.classes)return r.classes;try{t(r.doc.styleSheets,n)}catch(l){}return o.length>0&&(r.classes=o),o},run:function(e,n,i){var r,o=this;return o.doc&&"string"==typeof e&&(e=o.get(e)),e?(i=i||this,e.nodeType||!e.length&&0!==e.length?n.call(i,e):(r=[],t(e,function(e,t){e&&("string"==typeof e&&(e=o.doc.getElementById(e)),r.push(n.call(i,e,t)))}),r)):!1},getAttribs:function(e){var t;return e=this.get(e),e?r?(t=[],"OBJECT"==e.nodeName?e.attributes:("OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"}),e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t)):e.attributes:[]},isEmpty:function(t,n){var i,r,o,s,l,c,u=this;if(t=t.firstChild){s=new e.dom.TreeWalker(t),n=n||u.schema?u.schema.getNonEmptyElements():null;do{if(o=t.nodeType,1===o){if(t.getAttribute("data-mce-bogus"))continue;if(l=t.nodeName.toLowerCase(),n&&n[l]){if(c=t.parentNode,"br"===l&&u.isBlock(c)&&c.firstChild===t&&c.lastChild===t)continue;return!1}for(r=u.getAttribs(t),i=t.attributes.length;i--;)if(l=t.attributes[i].nodeName,"name"===l||"data-mce-bookmark"===l)return!1}if(3===o&&!a.test(t.nodeValue))return!1}while(t=s.next())}return!0},destroy:function(t){var n=this;n.events&&n.events.destroy(),n.win=n.doc=n.root=n.events=null,t||e.removeUnload(n.destroy)},createRng:function(){var t=this.doc;return t.createRange?t.createRange():new e.dom.Range(this)},nodeIndex:function(e,t){var n,i,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling,i=e;e;e=e.previousSibling)r=e.nodeType,(!t||3!=r||r!=n&&e.nodeValue.length)&&(o++,n=r);return o},split:function(t,n,i){function r(t){function n(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}var i,o=t.childNodes,s=t.nodeType;if(1!=s||"bookmark"!=t.getAttribute("data-mce-type")){for(i=o.length-1;i>=0;i--)r(o[i]);if(9!=s){if(3==s&&t.nodeValue.length>0){var a=e.trim(t.nodeValue).length;if(!l.isBlock(t.parentNode)||a>0||0==a&&n(t))return}else if(1==s&&(o=t.childNodes,1==o.length&&o[0]&&1==o[0].nodeType&&"bookmark"==o[0].getAttribute("data-mce-type")&&t.parentNode.insertBefore(o[0],t),o.length||/^(br|hr|input|img)$/i.test(t.nodeName)))return;l.remove(t)}return t}}var o,s,a,l=this,c=l.createRng();return t&&n?(c.setStart(t.parentNode,l.nodeIndex(t)),c.setEnd(n.parentNode,l.nodeIndex(n)),o=c.extractContents(),c=l.createRng(),c.setStart(n.parentNode,l.nodeIndex(n)+1),c.setEnd(t.parentNode,l.nodeIndex(t)+1),s=c.extractContents(),a=t.parentNode,a.insertBefore(r(o),t),i?a.replaceChild(i,n):a.insertBefore(n,t),a.insertBefore(r(s),t),l.remove(t),i||n):void 0},bind:function(t,n,i,r){var o=this;return o.events||(o.events=new e.dom.EventUtils),o.events.add(t,n,i,r||this)},unbind:function(t,n,i){var r=this;return r.events||(r.events=new e.dom.EventUtils),r.events.remove(t,n,i)},_findSib:function(e,t,i){var r=this,o=t;if(e)for(n(o,"string")&&(o=function(e){return r.is(e,t)}),e=e[i];e;e=e[i])if(o(e))return e;return null},_isRes:function(e){return/^(top|left|bottom|right|width|height)/i.test(e)||/;\s*(top|left|bottom|right|width|height)/i.test(e)}}),e.DOM=new e.dom.DOMUtils(document,{process_html:0})}(tinymce),function(e){function t(e){function n(e,t){w(R,e,t)}function i(e,t){w(O,e,t)}function r(e){n(e.parentNode,U(e))}function o(e){n(e.parentNode,U(e)+1)}function s(e){i(e.parentNode,U(e))}function a(e){i(e.parentNode,U(e)+1)}function l(e){e?(D[H]=D[B],D[j]=D[$]):(D[B]=D[H],D[$]=D[j]),D.collapsed=R}function c(e){r(e),a(e)}function u(e){n(e,0),i(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function d(e,t){var n=D[B],i=D[$],r=D[H],o=D[j],s=t.startContainer,a=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?_(n,i,s,a):1===e?_(r,o,s,a):2===e?_(r,o,l,c):3===e?_(n,i,l,c):void 0}function h(){x(P)}function f(){return x(I)}function p(){return x(F)}function m(t){var n,i,r=this[B],o=this[$];3!==r.nodeType&&4!==r.nodeType||!r.nodeValue?(r.childNodes.length>0&&(i=r.childNodes[o]),i?r.insertBefore(t,i):r.appendChild(t)):o?o>=r.nodeValue.length?e.insertAfter(t,r):(n=r.splitText(o),r.parentNode.insertBefore(t,n)):r.parentNode.insertBefore(t,r)}function g(e){var t=D.extractContents();D.insertNode(e),e.appendChild(t),D.selectNode(e)}function v(){return z(new t(e),{startContainer:D[B],startOffset:D[$],endContainer:D[H],endOffset:D[j],collapsed:D.collapsed,commonAncestorContainer:D.commonAncestorContainer})}function y(e,t){var n;if(3==e.nodeType)return e;if(0>t)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n?n:e}function b(){return D[B]==D[H]&&D[$]==D[j]}function _(t,n,i,r){var o,s,a,l,c,u;if(t==i)return n==r?0:r>n?-1:1;for(o=i;o&&o.parentNode!=t;)o=o.parentNode;if(o){for(s=0,a=t.firstChild;a!=o&&n>s;)s++,a=a.nextSibling;return s>=n?-1:1}for(o=t;o&&o.parentNode!=i;)o=o.parentNode;if(o){for(s=0,a=i.firstChild;a!=o&&r>s;)s++,a=a.nextSibling;return r>s?-1:1}for(l=e.findCommonAncestor(t,i),c=t;c&&c.parentNode!=l;)c=c.parentNode;for(c||(c=l),u=i;u&&u.parentNode!=l;)u=u.parentNode;if(u||(u=l),c==u)return 0;for(a=l.firstChild;a;){if(a==c)return-1;if(a==u)return 1;a=a.nextSibling}}function w(t,n,i){var r,o;for(t?(D[B]=n,D[$]=i):(D[H]=n,D[j]=i),r=D[H];r.parentNode;)r=r.parentNode;for(o=D[B];o.parentNode;)o=o.parentNode;o==r?_(D[B],D[$],D[H],D[j])>0&&D.collapse(t):D.collapse(t),D.collapsed=b(),D.commonAncestorContainer=e.findCommonAncestor(D[B],D[H])}function x(e){var t,n,i,r,o,s,a,l=0,c=0;if(D[B]==D[H])return C(e);for(t=D[H],n=t.parentNode;n;t=n,n=n.parentNode){if(n==D[B])return k(t,e);++l}for(t=D[B],n=t.parentNode;n;t=n,n=n.parentNode){if(n==D[H])return S(t,e);++c}for(i=c-l,r=D[B];i>0;)r=r.parentNode,i--;for(o=D[H];0>i;)o=o.parentNode,i++;for(s=r.parentNode,a=o.parentNode;s!=a;s=s.parentNode,a=a.parentNode)r=s,o=a;return E(r,o,e)}function C(e){var t,n,i,r,o,s,a;if(e!=P&&(t=L.createDocumentFragment()),D[$]==D[j])return t;if(3==D[B].nodeType){if(n=D[B].nodeValue,i=n.substring(D[$],D[j]),e!=F&&(D[B].deleteData(D[$],D[j]-D[$]),D.collapse(R)),e==P)return;return t.appendChild(L.createTextNode(i)),t}for(r=y(D[B],D[$]),o=D[j]-D[$];o>0;)s=r.nextSibling,a=M(r,e),t&&t.appendChild(a),--o,r=s;return e!=F&&D.collapse(R),t}function k(e,t){var n,i,r,o,s,a;if(t!=P&&(n=L.createDocumentFragment()),i=T(e,t),n&&n.appendChild(i),r=U(e),o=r-D[$],0>=o)return t!=F&&(D.setEndBefore(e),D.collapse(O)),n;for(i=e.previousSibling;o>0;)s=i.previousSibling,a=M(i,t),n&&n.insertBefore(a,n.firstChild),--o,i=s;return t!=F&&(D.setEndBefore(e),D.collapse(O)),n}function S(e,t){var n,i,r,o,s,a;for(t!=P&&(n=L.createDocumentFragment()),r=N(e,t),n&&n.appendChild(r),i=U(e),++i,o=D[j]-i,r=e.nextSibling;o>0;)s=r.nextSibling,a=M(r,t),n&&n.appendChild(a),--o,r=s;return t!=F&&(D.setStartAfter(e),D.collapse(R)),n}function E(e,t,n){var i,r,o,s,a,l,c,u;for(n!=P&&(r=L.createDocumentFragment()),i=N(e,n),r&&r.appendChild(i),o=e.parentNode,s=U(e),a=U(t),++s,l=a-s,c=e.nextSibling;l>0;)u=c.nextSibling,i=M(c,n),r&&r.appendChild(i),c=u,--l;return i=T(t,n),r&&r.appendChild(i),n!=F&&(D.setStartAfter(e),D.collapse(R)),r}function T(e,t){var n,i,r,o,s,a=y(D[H],D[j]-1),l=a!=D[H];if(a==e)return A(a,l,O,t);for(n=a.parentNode,i=A(n,O,O,t);n;){for(;a;)r=a.previousSibling,o=A(a,l,O,t),t!=P&&i.insertBefore(o,i.firstChild),l=R,a=r;if(n==e)return i;a=n.previousSibling,n=n.parentNode,s=A(n,O,O,t),t!=P&&s.appendChild(i),i=s}}function N(e,t){var n,i,r,o,s,a=y(D[B],D[$]),l=a!=D[B];if(a==e)return A(a,l,R,t);for(n=a.parentNode,i=A(n,O,R,t);n;){for(;a;)r=a.nextSibling,o=A(a,l,R,t),t!=P&&i.appendChild(o),l=R,a=r;if(n==e)return i;a=n.nextSibling,n=n.parentNode,s=A(n,O,R,t),t!=P&&s.appendChild(i),i=s}}function A(e,t,n,i){var r,o,s,a,l;if(t)return M(e,i);if(3==e.nodeType){if(r=e.nodeValue,n?(a=D[$],o=r.substring(a),s=r.substring(0,a)):(a=D[j],o=r.substring(0,a),s=r.substring(a)),i!=F&&(e.nodeValue=s),i==P)return;return l=e.cloneNode(O),l.nodeValue=o,l}if(i!=P)return e.cloneNode(O)}function M(e,t){return t!=P?t==F?e.cloneNode(R):e:(e.parentNode.removeChild(e),void 0)}var D=this,L=e.doc,I=0,F=1,P=2,R=!0,O=!1,$="startOffset",B="startContainer",H="endContainer",j="endOffset",z=tinymce.extend,U=e.nodeIndex;z(D,{startContainer:L,startOffset:0,endContainer:L,endOffset:0,collapsed:R,commonAncestorContainer:L,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:n,setEnd:i,setStartBefore:r,setStartAfter:o,setEndBefore:s,setEndAfter:a,collapse:l,selectNode:c,selectNodeContents:u,compareBoundaryPoints:d,deleteContents:h,extractContents:f,cloneContents:p,insertNode:m,surroundContents:g,cloneRange:v})}e.Range=t}(tinymce.dom),function(){function e(e){function t(t,n){var i,r,o,s,a,l,c,u,d=0,h=-1;if(i=t.duplicate(),i.collapse(n),u=i.parentElement(),u.ownerDocument===e.dom.doc){for(;"false"===u.contentEditable;)u=u.parentNode;if(!u.hasChildNodes())return{node:u,inside:1};for(s=u.children,r=s.length-1;r>=d;)if(c=Math.floor((d+r)/2),a=s[c],i.moveToElementText(a),h=i.compareEndPoints(n?"StartToStart":"EndToEnd",t),h>0)r=c-1;else{if(!(0>h))return{node:a};d=c+1}if(0>h){if(a?i.collapse(!1):(i.moveToElementText(u),i.collapse(!0),a=u,o=!0),i.setEndPoint(n?"EndToStart":"EndToEnd",t),i.compareEndPoints(n?"StartToStart":"StartToEnd",t)>0)for(i=t.duplicate(),i.collapse(n),l=-1;u==i.parentElement()&&0!=i.move("character",-1);)l++;l=l||i.text.replace("\r\n"," ").length}else i.collapse(!0),i.setEndPoint(n?"StartToStart":"StartToEnd",t),l=i.text.replace("\r\n"," ").length;return{node:a,position:h,offset:l,inside:o}}}function n(){function n(e){var n,i,r,o,s,a=t(u,e),l=0;if(n=a.node,i=a.offset,a.inside&&!n.hasChildNodes())return d[e?"setStart":"setEnd"](n,0),void 0;if(i===o)return d[e?"setStartBefore":"setEndAfter"](n),void 0;if(a.position<0){if(r=a.inside?n.firstChild:n.nextSibling,!r)return d[e?"setStartAfter":"setEndAfter"](n),void 0;if(!i)return 3==r.nodeType?d[e?"setStart":"setEnd"](r,0):d[e?"setStartBefore":"setEndBefore"](r),void 0;for(;r;){if(s=r.nodeValue,l+=s.length,l>=i){n=r,l-=i,l=s.length-l;break}r=r.nextSibling}}else{if(r=n.previousSibling,!r)return d[e?"setStartBefore":"setEndBefore"](n);if(!i)return 3==n.nodeType?d[e?"setStart":"setEnd"](r,n.nodeValue.length):d[e?"setStartAfter":"setEndAfter"](r),void 0;for(;r;){if(l+=r.nodeValue.length,l>=i){n=r,l-=i;break}r=r.previousSibling}}d[e?"setStart":"setEnd"](n,l)}var o,s,a,l,c,u=e.getRng(),d=r.createRng();if(o=u.item?u.item(0):u.parentElement(),o.ownerDocument!=r.doc)return d;if(s=e.isCollapsed(),u.item)return d.setStart(o.parentNode,r.nodeIndex(o)),d.setEnd(d.startContainer,d.startOffset+1),d;try{n(!0),s||n()}catch(h){if(-2147024809!=h.number)throw h;c=i.getBookmark(2),a=u.duplicate(),a.collapse(!0),o=a.parentElement(),s||(a=u.duplicate(),a.collapse(!1),l=a.parentElement(),l.innerHTML=l.innerHTML),o.innerHTML=o.innerHTML,i.moveToBookmark(c),u=e.getRng(),n(!0),s||n()}return d}var i=this,r=e.dom,o=!0;this.getBookmark=function(n){function i(e){var e,t,n,i,o,s=[];for(t=e.parentNode,n=r.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(i=t.children,o=i.length;o--;)if(e===i[o]){s.push(o);break}e=t,t=t.parentNode}return s}function o(e){var n;return n=t(s,e),n?{position:n.position,offset:n.offset,indexes:i(n.node),inside:n.inside}:void 0}var s=e.getRng(),a={};return 2===n&&(s.item?a.start={ctrl:!0,indexes:i(s.item(0))}:(a.start=o(!0),e.isCollapsed()||(a.end=o()))),a},this.moveToBookmark=function(e){function t(e){var t,n,i,o;for(t=r.getRoot(),n=e.length-1;n>=0;n--)o=t.children,i=e[n],i<=o.length-1&&(t=o[i]);return t}function n(n){var r,s,a,l=e[n?"start":"end"];l&&(r=l.position>0,s=o.createTextRange(),s.moveToElementText(t(l.indexes)),offset=l.offset,offset!==a?(s.collapse(l.inside||r),s.moveStart("character",r?-offset:offset)):s.collapse(n),i.setEndPoint(n?"StartToStart":"EndToStart",s),n&&i.collapse(!0))}var i,o=r.doc.body;e.start&&(e.start.ctrl?(i=o.createControlRange(),i.addElement(t(e.start.indexes)),i.select()):(i=o.createTextRange(),n(!0),n(),i.select()))},this.addRange=function(t){function n(e){var t,n,s,f,p;s=r.create("a"),t=e?a:c,n=e?l:u,f=i.duplicate(),(t==d||t==d.documentElement)&&(t=h,n=0),3==t.nodeType?(t.parentNode.insertBefore(s,t),f.moveToElementText(s),f.moveStart("character",n),r.remove(s),i.setEndPoint(e?"StartToStart":"EndToEnd",f)):(p=t.childNodes,p.length?(n>=p.length?r.insertAfter(s,p[p.length-1]):t.insertBefore(s,p[n]),f.moveToElementText(s)):(s=d.createTextNode("﻿"),t.appendChild(s),f.moveToElementText(s.parentNode),f.collapse(o)),i.setEndPoint(e?"StartToStart":"EndToEnd",f),r.remove(s))}var i,s,a,l,c,u,d=e.dom.doc,h=d.body;if(a=t.startContainer,l=t.startOffset,c=t.endContainer,u=t.endOffset,i=h.createTextRange(),a==c&&1==a.nodeType&&l==u-1&&l==u-1)try{return s=h.createControlRange(),s.addElement(a.childNodes[l]),s.select(),void 0}catch(f){}n(!0),n(),i.select()},this.getRangeAt=n}tinymce.dom.TridentSelection=e}(),function(e){var t,n=e.each,i=e.DOM,r=e.isIE;e.isWebKit,e.create("tinymce.dom.EventUtils",{EventUtils:function(){this.inits=[],this.events=[]},add:function(t,o,s,a){var l,c,u=this,d=u.events;return o instanceof Array?(c=[],n(o,function(e){c.push(u.add(t,e,s,a))}),c):t&&t.hasOwnProperty&&t instanceof Array?(c=[],n(t,function(e){e=i.get(e),c.push(u.add(e,o,s,a))}),c):(t=i.get(t))?(l=function(t){return u.disabled?void 0:(t=t||window.event,t&&r&&(t.target||(t.target=t.srcElement),e.extend(t,u._stoppers)),a?s.call(a,t):s(t))},"unload"==o?(e.unloads.unshift({func:l}),l):"init"==o?(u.domLoaded?l():u.inits.push(l),l):(d.push({obj:t,name:o,func:s,cfunc:l,scope:a}),u._add(t,o,l),s)):void 0},remove:function(e,t,r){var o,s=this,a=s.events,l=!1;return e&&e.hasOwnProperty&&e instanceof Array?(o=[],n(e,function(e){e=i.get(e),o.push(s.remove(e,t,r))}),o):(e=i.get(e),n(a,function(n,i){return n.obj!=e||n.name!=t||r&&n.func!=r&&n.cfunc!=r?void 0:(a.splice(i,1),s._remove(e,t,n.cfunc),l=!0,!1)}),l)},clear:function(e){var t,n,r=this,o=r.events;if(e)for(e=i.get(e),t=o.length-1;t>=0;t--)n=o[t],n.obj===e&&(r._remove(n.obj,n.name,n.cfunc),n.obj=n.cfunc=null,o.splice(t,1))},cancel:function(e){return e?(this.stop(e),this.prevent(e)):!1},stop:function(e){return e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,!1},prevent:function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,!1},destroy:function(){var e=this;n(e.events,function(t){e._remove(t.obj,t.name,t.cfunc),t.obj=t.cfunc=null}),e.events=[],e=null},_add:function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!1):e["on"+t]=n},_remove:function(e,t,n){if(e)try{e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!1):e["on"+t]=null}catch(i){}},_pageInit:function(){var e=this;e.domLoaded||(e.domLoaded=!0,n(e.inits,function(e){e()}),e.inits=[])},_wait:function(e){var t=this,n=e.document;return e.tinyMCE_GZ&&tinyMCE_GZ.loaded?(t.domLoaded=1,void 0):(n.attachEvent?(n.attachEvent("onreadystatechange",function(){"complete"===n.readyState&&(n.detachEvent("onreadystatechange",arguments.callee),t._pageInit(e))}),n.documentElement.doScroll&&e==e.top&&!function(){if(!t.domLoaded){try{n.documentElement.doScroll("left")}catch(i){return setTimeout(arguments.callee,0),void 0}t._pageInit(e)}}()):n.addEventListener&&t._add(e,"DOMContentLoaded",function(){t._pageInit(e)}),t._add(e,"load",function(){t._pageInit(e)}),void 0)},_stoppers:{preventDefault:function(){this.returnValue=!1},stopPropagation:function(){this.cancelBubble=!0}}}),t=e.dom.Event=new e.dom.EventUtils,t._wait(window),e.addUnload(function(){t.destroy()})}(tinymce),function(e){e.dom.Element=function(t,n){var i,r,o=this;o.settings=n=n||{},o.id=t,o.dom=i=n.dom||e.DOM,e.isIE||(r=i.get(o.id)),e.each("getPos,getRect,getParent,add,setStyle,getStyle,setStyles,setAttrib,setAttribs,getAttrib,addClass,removeClass,hasClass,getOuterHTML,setOuterHTML,remove,show,hide,isHidden,setHTML,get".split(/,/),function(e){o[e]=function(){var n,r=[t];for(n=0;n<arguments.length;n++)r.push(arguments[n]);return r=i[e].apply(i,r),o.update(e),r}}),e.extend(o,{on:function(t,n,i){return e.dom.Event.add(o.id,t,n,i)},getXY:function(){return{x:parseInt(o.getStyle("left")),y:parseInt(o.getStyle("top"))}},getSize:function(){var e=i.get(o.id);return{w:parseInt(o.getStyle("width")||e.clientWidth),h:parseInt(o.getStyle("height")||e.clientHeight)}},moveTo:function(e,t){o.setStyles({left:e,top:t})},moveBy:function(e,t){var n=o.getXY();o.moveTo(n.x+e,n.y+t)},resizeTo:function(e,t){o.setStyles({width:e,height:t})},resizeBy:function(e,t){var n=o.getSize();o.resizeTo(n.w+e,n.h+t)},update:function(t){var r;if(e.isIE6&&n.blocker){if(t=t||"",0===t.indexOf("get")||0===t.indexOf("has")||0===t.indexOf("is"))return;if("remove"==t)return i.remove(o.blocker),void 0;o.blocker?r=i.get(o.blocker):(o.blocker=i.uniqueId(),r=i.add(n.container||i.getRoot(),"iframe",{id:o.blocker,style:"position:absolute;",frameBorder:0,src:'javascript:""'}),i.setStyle(r,"opacity",0)),i.setStyles(r,{left:o.getStyle("left",1),top:o.getStyle("top",1),width:o.getStyle("width",1),height:o.getStyle("height",1),display:o.getStyle("display",1),zIndex:parseInt(o.getStyle("zIndex",1)||0)-1})}}})}}(tinymce),function(e){var t=e.is,n=e.isIE,i=e.each;e.create("tinymce.dom.Selection",{Selection:function(t,n,r){var o=this;o.dom=t,o.win=n,o.serializer=r,i(["onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent"],function(t){o[t]=new e.util.Dispatcher(o)}),o.win.getSelection||(o.tridentSel=new e.dom.TridentSelection(o)),e.isIE&&t.boxModel&&this._fixIESelection(),e.addUnload(o.destroy,o)},setCursorLocation:function(e,t){var n=this,i=n.dom.createRng();i.setStart(e,t),i.setEnd(e,t),n.setRng(i),n.collapse(!1)},getContent:function(e){var n,i,r,o=this,s=o.getRng(),a=o.dom.create("body"),l=o.getSel();return e=e||{},n=i="",e.get=!0,e.format=e.format||"html",e.forced_root_block="",o.onBeforeGetContent.dispatch(o,e),"text"==e.format?o.isCollapsed()?"":s.text||(l.toString?l.toString():""):(s.cloneContents?(r=s.cloneContents(),r&&a.appendChild(r)):t(s.item)||t(s.htmlText)?(a.innerHTML="<br>"+(s.item?s.item(0).outerHTML:s.htmlText),a.removeChild(a.firstChild)):a.innerHTML=s.toString(),/^\s/.test(a.innerHTML)&&(n=" "),/\s+$/.test(a.innerHTML)&&(i=" "),e.getInner=!0,e.content=o.isCollapsed()?"":n+o.serializer.serialize(a,e)+i,o.onGetContent.dispatch(o,e),e.content)},setContent:function(e,t){var n,i,r,o=this,s=o.getRng(),a=o.win.document;if(t=t||{format:"html"},t.set=!0,e=t.content=e,t.no_events||o.onBeforeSetContent.dispatch(o,t),e=t.content,s.insertNode){e+='<span id="__caret">_</span>',s.startContainer==a&&s.endContainer==a?a.body.innerHTML=e:(s.deleteContents(),0==a.body.childNodes.length?a.body.innerHTML=e:s.createContextualFragment?s.insertNode(s.createContextualFragment(e)):(i=a.createDocumentFragment(),r=a.createElement("div"),i.appendChild(r),r.outerHTML=e,s.insertNode(i))),n=o.dom.get("__caret"),s=a.createRange(),s.setStartBefore(n),s.setEndBefore(n),o.setRng(s),o.dom.remove("__caret");try{o.setRng(s)}catch(l){}}else s.item&&(a.execCommand("Delete",!1,null),s=o.getRng()),/^\s+/.test(e)?(s.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):s.pasteHTML(e);t.no_events||o.onSetContent.dispatch(o,t)},getStart:function(){var e,t,n,i,r=this.getRng();if(r.duplicate||r.item){if(r.item)return r.item(0);for(n=r.duplicate(),n.collapse(1),e=n.parentElement(),t=i=r.parentElement();i=i.parentNode;)if(i==e){e=t;break}return e}return e=r.startContainer,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[Math.min(e.childNodes.length-1,r.startOffset)]),e&&3==e.nodeType?e.parentNode:e},getEnd:function(){var e,t,n=this,i=n.getRng();return i.duplicate||i.item?i.item?i.item(0):(i=i.duplicate(),i.collapse(0),e=i.parentElement(),e&&"BODY"==e.nodeName?e.lastChild||e:e):(e=i.endContainer,t=i.endOffset,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[t>0?t-1:t]),e&&3==e.nodeType?e.parentNode:e)},getBookmark:function(e,t){function n(e,t){var n=0;return i(f.select(e),function(e,i){e==t&&(n=i)}),n}function r(){function e(e,n){var r,o,s=e[n?"startContainer":"endContainer"],a=e[n?"startOffset":"endOffset"],l=[],c=0;if(3==s.nodeType){if(t)for(r=s.previousSibling;r&&3==r.nodeType;r=r.previousSibling)a+=r.nodeValue.length;l.push(a)}else o=s.childNodes,a>=o.length&&o.length&&(c=1,a=Math.max(0,o.length-1)),l.push(h.dom.nodeIndex(o[a],t)+c);for(;s&&s!=i;s=s.parentNode)l.push(h.dom.nodeIndex(s,t));return l}var n=h.getRng(!0),i=f.getRoot(),r={};return r.start=e(n,!0),h.isCollapsed()||(r.end=e(n)),r}var o,s,a,l,c,u,d,h=this,f=h.dom,p="﻿";if(2==e)return h.tridentSel?h.tridentSel.getBookmark(e):r();if(e)return{rng:h.getRng()};if(o=h.getRng(),a=f.uniqueId(),l=tinyMCE.activeEditor.selection.isCollapsed(),d="overflow:hidden;line-height:0px",o.duplicate||o.item){if(o.item)return u=o.item(0),c=u.nodeName,{name:c,index:n(c,u)};s=o.duplicate();try{o.collapse(),o.pasteHTML('<span data-mce-type="bookmark" id="'+a+'_start" style="'+d+'">'+p+"</span>"),l||(s.collapse(!1),o.moveToElementText(s.parentElement()),0==o.compareEndPoints("StartToEnd",s)&&s.move("character",-1),s.pasteHTML('<span data-mce-type="bookmark" id="'+a+'_end" style="'+d+'">'+p+"</span>"))}catch(m){return null}}else{if(u=h.getNode(),c=u.nodeName,"IMG"==c)return{name:c,index:n(c,u)};s=o.cloneRange(),l||(s.collapse(!1),s.insertNode(f.create("span",{"data-mce-type":"bookmark",id:a+"_end",style:d},p))),o.collapse(!0),o.insertNode(f.create("span",{"data-mce-type":"bookmark",id:a+"_start",style:d},p))}return h.moveToBookmark({id:a,keep:1}),{id:a}},moveToBookmark:function(t){function r(e){var n,i,r,o,s=t[e?"start":"end"];if(s){for(r=s[0],i=l,n=s.length-1;n>=1;n--){if(o=i.childNodes,s[n]>o.length-1)return;i=o[s[n]]}3===i.nodeType&&(r=Math.min(s[0],i.nodeValue.length)),1===i.nodeType&&(r=Math.min(s[0],i.childNodes.length)),e?a.setStart(i,r):a.setEnd(i,r)}return!0}function o(n){var r,o,s,a,l=p.get(t.id+"_"+n),f=t.keep;if(l&&(r=l.parentNode,"start"==n?(f?(r=l.firstChild,o=1):o=p.nodeIndex(l),c=u=r,d=h=o):(f?(r=l.firstChild,o=1):o=p.nodeIndex(l),u=r,h=o),!f)){for(a=l.previousSibling,s=l.nextSibling,i(e.grep(l.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});l=p.get(t.id+"_"+n);)p.remove(l,1);a&&s&&a.nodeType==s.nodeType&&3==a.nodeType&&!e.isOpera&&(o=a.nodeValue.length,a.appendData(s.nodeValue),p.remove(s),"start"==n?(c=u=a,d=h=o):(u=a,h=o))}}function s(e){return p.isBlock(e)&&!e.innerHTML&&(e.innerHTML=n?" ":'<br data-mce-bogus="1" />'),e}var a,l,c,u,d,h,f=this,p=f.dom;if(t)if(t.start){if(a=p.createRng(),l=p.getRoot(),f.tridentSel)return f.tridentSel.moveToBookmark(t);r(!0)&&r()&&f.setRng(a)}else t.id?(o("start"),o("end"),c&&(a=p.createRng(),a.setStart(s(c),d),a.setEnd(s(u),h),f.setRng(a))):t.name?f.select(p.select(t.name)[t.index]):t.rng&&f.setRng(t.rng)},select:function(t,n){function i(t,n){var i=new e.dom.TreeWalker(t,t);do{if(3==t.nodeType&&0!=e.trim(t.nodeValue).length)return n?a.setStart(t,0):a.setEnd(t,t.nodeValue.length),void 0;if("BR"==t.nodeName)return n?a.setStartBefore(t):a.setEndBefore(t),void 0}while(t=n?i.next():i.prev())}var r,o=this,s=o.dom,a=s.createRng();return t&&(r=s.nodeIndex(t),a.setStart(t.parentNode,r),a.setEnd(t.parentNode,r+1),n&&(i(t,1),i(t)),o.setRng(a)),t},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!t||t.item?!1:t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed},collapse:function(e){var t,n=this,i=n.getRng();i.item&&(t=i.item(0),i=n.win.document.body.createTextRange(),i.moveToElementText(t)),i.collapse(!!e),n.setRng(i)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(t){var n,i,r,o=this,s=o.win.document;if(t&&o.tridentSel)return o.tridentSel.getRangeAt(0);try{(n=o.getSel())&&(i=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():s.createRange())}catch(a){}return e.isIE&&i&&i.setStart&&s.selection.createRange().item&&(r=s.selection.createRange().item(0),i=s.createRange(),i.setStartBefore(r),i.setEndAfter(r)),i||(i=s.createRange?s.createRange():s.body.createTextRange()),o.selectedRange&&o.explicitRange&&(0===i.compareBoundaryPoints(i.START_TO_START,o.selectedRange)&&0===i.compareBoundaryPoints(i.END_TO_END,o.selectedRange)?i=o.explicitRange:(o.selectedRange=null,o.explicitRange=null)),i
},setRng:function(e){var t,n=this;if(n.tridentSel){if(e.cloneRange)return n.tridentSel.addRange(e),void 0;try{e.select()}catch(i){}}else if(t=n.getSel()){n.explicitRange=e;try{t.removeAllRanges()}catch(i){}t.addRange(e),n.selectedRange=t.rangeCount>0?t.getRangeAt(0):null}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n=this,i=n.getRng(),r=(n.getSel(),i.startContainer),o=i.endContainer;return i?i.setStart?(t=i.commonAncestorContainer,!i.collapsed&&(i.startContainer==i.endContainer&&i.endOffset-i.startOffset<2&&i.startContainer.hasChildNodes()&&(t=i.startContainer.childNodes[i.startOffset]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i.startOffset?e(r.nextSibling,!0):r.parentNode,o=0===i.endOffset?e(o.previousSibling,!1):o.parentNode,r&&r===o))?r:t&&3==t.nodeType?t.parentNode:t):i.item?i.item(0):i.parentElement():n.dom.getRoot()},getSelectedBlocks:function(t,n){var i,r,o,s=this,a=s.dom,l=[];if(i=a.getParent(t||s.getStart(),a.isBlock),r=a.getParent(n||s.getEnd(),a.isBlock),i&&l.push(i),i&&r&&i!=r){o=i;for(var c=new e.dom.TreeWalker(i,a.getRoot());(o=c.next())&&o!=r;)a.isBlock(o)&&l.push(o)}return r&&i!=r&&l.push(r),l},normalize:function(){function t(t){var o,s,a,l,c=r.dom,u=c.getRoot();if(o=n[(t?"start":"end")+"Container"],s=n[(t?"start":"end")+"Offset"],9===o.nodeType&&(o=o.body,s=0),o===u&&o.hasChildNodes()&&(o=o.childNodes[Math.min(!t&&s>0?s-1:s,o.childNodes.length-1)],s=0,o.hasChildNodes())){l=o,a=new e.dom.TreeWalker(o,u);do{if(3===l.nodeType){s=t?0:l.nodeValue.length-1,o=l,i=!0;break}if(/^(BR|IMG)$/.test(l.nodeName)){s=c.nodeIndex(l),o=l.parentNode,"IMG"!=l.nodeName||t||s++,i=!0;break}}while(l=t?a.next():a.prev())}i&&n["set"+(t?"Start":"End")](o,s)}var n,i,r=this;e.isIE||(n=r.getRng(),t(!0),n.collapsed||t(),i&&r.setRng(n))},destroy:function(t){var n=this;n.win=null,t||e.removeUnload(n.destroy)},_fixIESelection:function(){function e(e,t){var n=l.createTextRange();try{n.moveToPoint(e,t)}catch(i){n=null}return n}function t(t){var i;t.button?(i=e(t.x,t.y),i&&(i.compareEndPoints("StartToStart",r)>0?i.setEndPoint("StartToStart",r):i.setEndPoint("EndToEnd",r),i.select())):n()}function n(){var e=a.selection.createRange();r&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&r.select(),s.unbind(a,"mouseup",n),s.unbind(a,"mousemove",t),r=i=0}var i,r,o,s=this.dom,a=s.doc,l=a.body;a.documentElement.unselectable=!0,s.bind(a,["mousedown","contextmenu"],function(l){if("HTML"===l.target.nodeName){if(i&&n(),o=a.documentElement,o.scrollHeight>o.clientHeight)return;i=1,r=e(l.x,l.y),r&&(s.bind(a,"mouseup",n),s.bind(a,"mousemove",t),s.win.focus(),r.select())}})}})}(tinymce),function(e){e.dom.Serializer=function(t,n,i){var r,o,s,a=e.isIE,l=e.each;return t.apply_source_formatting||(t.indent=!1),n=n||e.DOM,i=i||new e.html.Schema(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs="remove_trailing_brs"in t?t.remove_trailing_brs:!0,r=new e.util.Dispatcher(self),o=new e.util.Dispatcher(self),s=new e.html.DomParser(t,i),s.addAttributeFilter("src,href,style",function(e,i){for(var r,o,s,a=e.length,l="data-mce-"+i,c=t.url_converter,u=t.url_converter_scope;a--;)r=e[a],o=r.attributes.map[l],o!==s?(r.attr(i,o.length>0?o:null),r.attr(l,null)):(o=r.attributes.map[i],"style"===i?o=n.serializeStyle(n.parseStyle(o),r.name):c&&(o=c.call(u,o,i,r.name)),r.attr(i,o.length>0?o:null))}),s.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.attr("class").replace(/\s*mce(Item\w+|Selected)\s*/g,""),t.attr("class",n.length>0?n:null)}),s.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)i=e[r],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),s.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,r,o=e.length;o--;)i=e[o],r=i.firstChild?i.firstChild.value:"","script"===t?(i.attr("type",(i.attr("type")||"text/javascript").replace(/^mce\-/,"")),r.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(r)+"\n// ]]>")):r.length>0&&(i.firstChild.value="<!--\n"+n(r)+"\n-->")}),s.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),s.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)n=e[i],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),t.fix_list_elements&&s.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.parent,("ul"===n.name||"ol"===n.name)&&t.prev&&"li"===t.prev.name&&t.prev.append(t)}),s.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:i,addNodeFilter:s.addNodeFilter,addAttributeFilter:s.addAttributeFilter,onPreProcess:r,onPostProcess:o,serialize:function(c,u){var d,h,f,p,m;return a&&n.select("script,style,select,map").length>0?(m=c.innerHTML,c=c.cloneNode(!1),n.setHTML(c,m)):c=c.cloneNode(!0),d=c.ownerDocument.implementation,d.createHTMLDocument&&(h=d.createHTMLDocument(""),l("BODY"==c.nodeName?c.childNodes:[c],function(e){h.body.appendChild(h.importNode(e,!0))}),c="BODY"!=c.nodeName?h.body.firstChild:h.body,f=n.doc,n.doc=h),u=u||{},u.format=u.format||"html",u.no_events||(u.node=c,r.dispatch(self,u)),p=new e.html.Serializer(t,i),u.content=p.serialize(s.parse(u.getInner?c.innerHTML:e.trim(n.getOuterHTML(c),u),u)),u.cleanup||(u.content=u.content.replace(/\uFEFF|\u200B/g,"")),u.no_events||o.dispatch(self,u),f&&(n.doc=f),u.node=null,u.content},addRules:function(e){i.addValidElements(e)},setRules:function(e){i.setValidElements(e)}}}}(tinymce),function(e){e.dom.ScriptLoader=function(){function t(t,n){function i(){c.remove(l),o&&(o.onreadystatechange=o.onload=o=null),n()}function r(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+t)}var o,s,a,l,c=e.DOM;return l=c.uniqueId(),e.isIE6&&(s=new e.util.URI(t),a=location,s.host==a.hostname&&s.port==a.port&&s.protocol+":"==a.protocol&&"file"!=s.protocol.toLowerCase())?(e.util.XHR.send({url:e._addVer(s.getURI()),success:function(e){var t=c.create("script",{type:"text/javascript"});t.text=e,document.getElementsByTagName("head")[0].appendChild(t),c.remove(t),i()},error:r}),void 0):(o=c.create("script",{id:l,type:"text/javascript",src:e._addVer(t)}),e.isIE||(o.onload=i),o.onerror=r,e.isOpera||(o.onreadystatechange=function(){var e=o.readyState;("complete"==e||"loaded"==e)&&i()}),(document.getElementsByTagName("head")[0]||document.body).appendChild(o),void 0)}var n,i=0,r=1,o=2,s={},a=[],l={},c=[],u=0;this.isDone=function(e){return s[e]==o},this.markDone=function(e){s[e]=o},this.add=this.load=function(e,t,r){var o=s[e];o==n&&(a.push(e),s[e]=i),t&&(l[e]||(l[e]=[]),l[e].push({func:t,scope:r||this}))},this.loadQueue=function(e,t){this.loadScripts(a,e,t)},this.loadScripts=function(i,a,d){function h(t){e.each(l[t],function(e){e.func.call(e.scope)}),l[t]=n}var f;c.push({func:a,scope:d||this}),f=function(){var n=e.grep(i);i.length=0,e.each(n,function(e){return s[e]==o?(h(e),void 0):(s[e]!=r&&(s[e]=r,u++,t(e,function(){s[e]=o,u--,h(e),f()})),void 0)}),u||(e.each(c,function(e){e.func.call(e.scope)}),c.length=0)},f()}},e.ScriptLoader=new e.dom.ScriptLoader}(tinymce),tinymce.dom.TreeWalker=function(e,t){function n(e,n,i,r){var o,s;if(e){if(!r&&e[n])return e[n];if(e!=t){if(o=e[i])return o;for(s=e.parentNode;s&&s!=t;s=s.parentNode)if(o=s[i])return o}}}var i=e;this.current=function(){return i},this.next=function(e){return i=n(i,"firstChild","nextSibling",e)},this.prev=function(e){return i=n(i,"lastChild","previousSibling",e)}},function(e){e.dom.RangeUtils=function(t){this.walk=function(n,i){function r(e){var t;return t=e[0],3===t.nodeType&&t===m&&g>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===y&&e.length>0&&t===v&&3===t.nodeType&&e.splice(e.length-1,1),e}function o(e,t,n){for(var i=[];e&&e!=n;e=e[t])i.push(e);return i}function s(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function a(e,t,n){var s=n?"nextSibling":"previousSibling";for(d=e,h=d.parentNode;d&&d!=t;d=h)h=d.parentNode,f=o(d==e?d:d[s],s),f.length&&(n||f.reverse(),i(r(f)))}var l,c,u,d,h,f,p,m=n.startContainer,g=n.startOffset,v=n.endContainer,y=n.endOffset;if(p=t.select("td.mceSelected,th.mceSelected"),p.length>0)return e.each(p,function(e){i([e])}),void 0;if(1==m.nodeType&&m.hasChildNodes()&&(m=m.childNodes[g]),1==v.nodeType&&v.hasChildNodes()&&(v=v.childNodes[Math.min(y-1,v.childNodes.length-1)]),m==v)return i(r([m]));for(l=t.findCommonAncestor(m,v),d=m;d;d=d.parentNode){if(d===v)return a(m,l,!0);if(d===l)break}for(d=v;d;d=d.parentNode){if(d===m)return a(v,l);if(d===l)break}c=s(m,l)||m,u=s(v,l)||v,a(m,c,!0),f=o(c==m?c:c.nextSibling,"nextSibling",u==v?u.nextSibling:u),f.length&&i(r(f)),a(v,u)},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset;return n==r&&3==n.nodeType?i>0&&i<n.nodeValue.length&&(r=t(n,i),n=r.previousSibling,o>i?(o-=i,n=r=t(r,o).previousSibling,o=r.nodeValue.length,i=0):o=0):(3==n.nodeType&&i>0&&i<n.nodeValue.length&&(n=t(n,i),i=0),3==r.nodeType&&o>0&&o<r.nodeValue.length&&(r=t(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:n,startOffset:i,endContainer:r,endOffset:o}}},e.dom.RangeUtils.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1}}(tinymce),function(e){var t=e.dom.Event,n=e.each;e.create("tinymce.ui.KeyboardNavigation",{KeyboardNavigation:function(i,r){var o,s,a,l,c,u=this,d=i.root,h=i.items,f=i.enableUpDown,p=i.enableLeftRight||!i.enableUpDown,m=i.excludeFromTabOrder;r=r||e.DOM,o=function(e){c=e.target.id},s=function(e){r.setAttrib(e.target.id,"tabindex","-1")},l=function(){var e=r.get(c);r.setAttrib(e,"tabindex","0"),e.focus()},u.focus=function(){r.get(c).focus()},u.destroy=function(){n(h,function(e){r.unbind(r.get(e.id),"focus",o),r.unbind(r.get(e.id),"blur",s)}),r.unbind(r.get(d),"focus",l),r.unbind(r.get(d),"keydown",a),h=r=d=u.focus=o=s=a=l=null,u.destroy=function(){}},u.moveFocus=function(e,o){var s,a=-1;u.controls,c&&(n(h,function(e,t){return e.id===c?(a=t,!1):void 0}),a+=e,0>a?a=h.length-1:a>=h.length&&(a=0),s=h[a],r.setAttrib(c,"tabindex","-1"),r.setAttrib(s.id,"tabindex","0"),r.get(s.id).focus(),i.actOnFocus&&i.onAction(s.id),o&&t.cancel(o))},a=function(e){var n=37,r=39,o=38,s=40,a=27,l=14,d=13,h=32;switch(e.keyCode){case n:p&&u.moveFocus(-1);break;case r:p&&u.moveFocus(1);break;case o:f&&u.moveFocus(-1);break;case s:f&&u.moveFocus(1);break;case a:i.onCancel&&(i.onCancel(),t.cancel(e));break;case l:case d:case h:i.onAction&&(i.onAction(c),t.cancel(e))}},n(h,function(e,t){var n;e.id||(e.id=r.uniqueId("_mce_item_")),m?(r.bind(e.id,"blur",s),n="-1"):n=0===t?"0":"-1",r.setAttrib(e.id,"tabindex",n),r.bind(r.get(e.id),"focus",o)}),h[0]&&(c=h[0].id),r.setAttrib(d,"tabindex","-1"),r.bind(r.get(d),"focus",l),r.bind(r.get(d),"keydown",a)}})}(tinymce),function(e){var t=e.DOM,n=e.is;e.create("tinymce.ui.Control",{Control:function(t,n,i){this.id=t,this.settings=n=n||{},this.rendered=!1,this.onRender=new e.util.Dispatcher(this),this.classPrefix="",this.scope=n.scope||this,this.disabled=0,this.active=0,this.editor=i},setAriaProperty:function(e,n){var i=t.get(this.id+"_aria")||t.get(this.id);i&&t.setAttrib(i,"aria-"+e,!!n)},focus:function(){t.get(this.id).focus()},setDisabled:function(e){e!=this.disabled&&(this.setAriaProperty("disabled",e),this.setState("Disabled",e),this.setState("Enabled",!e),this.disabled=e)},isDisabled:function(){return this.disabled},setActive:function(e){e!=this.active&&(this.setState("Active",e),this.active=e,this.setAriaProperty("pressed",e))},isActive:function(){return this.active},setState:function(e,n){var i=t.get(this.id);e=this.classPrefix+e,n?t.addClass(i,e):t.removeClass(i,e)},isRendered:function(){return this.rendered},renderHTML:function(){},renderTo:function(e){t.setHTML(e,this.renderHTML())},postRender:function(){var e,t=this;n(t.disabled)&&(e=t.disabled,t.disabled=-1,t.setDisabled(e)),n(t.active)&&(e=t.active,t.active=-1,t.setActive(e))},remove:function(){t.remove(this.id),this.destroy()},destroy:function(){e.dom.Event.clear(this.id)}})}(tinymce),tinymce.create("tinymce.ui.Container:tinymce.ui.Control",{Container:function(e,t,n){this.parent(e,t,n),this.controls=[],this.lookup={}},add:function(e){return this.lookup[e.id]=e,this.controls.push(e),e},get:function(e){return this.lookup[e]}}),tinymce.create("tinymce.ui.Separator:tinymce.ui.Control",{Separator:function(e,t){this.parent(e,t),this.classPrefix="mceSeparator",this.setDisabled(!0)},renderHTML:function(){return tinymce.DOM.createHTML("span",{"class":this.classPrefix,role:"separator","aria-orientation":"vertical",tabindex:"-1"})}}),function(e){var t=e.is;e.DOM,e.each,e.walk,e.create("tinymce.ui.MenuItem:tinymce.ui.Control",{MenuItem:function(e,t){this.parent(e,t),this.classPrefix="mceMenuItem"},setSelected:function(e){this.setState("Selected",e),this.setAriaProperty("checked",!!e),this.selected=e},isSelected:function(){return this.selected},postRender:function(){var e=this;e.parent(),t(e.selected)&&e.setSelected(e.selected)}})}(tinymce),function(e){var t=(e.is,e.DOM),n=(e.each,e.walk);e.create("tinymce.ui.Menu:tinymce.ui.MenuItem",{Menu:function(t,n){var i=this;i.parent(t,n),i.items={},i.collapsed=!1,i.menuCount=0,i.onAddItem=new e.util.Dispatcher(this)},expand:function(e){var t=this;e&&n(t,function(e){e.expand&&e.expand()},"items",t),t.collapsed=!1},collapse:function(e){var t=this;e&&n(t,function(e){e.collapse&&e.collapse()},"items",t),t.collapsed=!0},isCollapsed:function(){return this.collapsed},add:function(n){return n.settings||(n=new e.ui.MenuItem(n.id||t.uniqueId(),n)),this.onAddItem.dispatch(this,n),this.items[n.id]=n},addSeparator:function(){return this.add({separator:!0})},addMenu:function(e){return e.collapse||(e=this.createMenu(e)),this.menuCount++,this.add(e)},hasMenus:function(){return 0!==this.menuCount},remove:function(e){delete this.items[e.id]},removeAll:function(){var e=this;n(e,function(e){e.removeAll?e.removeAll():e.remove(),e.destroy()},"items",e),e.items={}},createMenu:function(n){var i=new e.ui.Menu(n.id||t.uniqueId(),n);return i.onAddItem.add(this.onAddItem.dispatch,this.onAddItem),i}})}(tinymce),function(e){var t=e.is,n=e.DOM,i=e.each,r=e.dom.Event,o=e.dom.Element;e.create("tinymce.ui.DropMenu:tinymce.ui.Menu",{DropMenu:function(i,r){r=r||{},r.container=r.container||n.doc.body,r.offset_x=r.offset_x||0,r.offset_y=r.offset_y||0,r.vp_offset_x=r.vp_offset_x||0,r.vp_offset_y=r.vp_offset_y||0,t(r.icons)&&!r.icons&&(r["class"]+=" mceNoIcons"),this.parent(i,r),this.onShowMenu=new e.util.Dispatcher(this),this.onHideMenu=new e.util.Dispatcher(this),this.classPrefix="mceMenu"},createMenu:function(t){var i,r=this,o=r.settings;return t.container=t.container||o.container,t.parent=r,t.constrain=t.constrain||o.constrain,t["class"]=t["class"]||o["class"],t.vp_offset_x=t.vp_offset_x||o.vp_offset_x,t.vp_offset_y=t.vp_offset_y||o.vp_offset_y,t.keyboard_focus=o.keyboard_focus,i=new e.ui.DropMenu(t.id||n.uniqueId(),t),i.onAddItem.add(r.onAddItem.dispatch,r.onAddItem),i},focus:function(){var e=this;e.keyboardNav&&e.keyboardNav.focus()},update:function(){var e,t,i=this,r=i.settings,o=n.get("menu_"+i.id+"_tbl"),s=n.get("menu_"+i.id+"_co");e=r.max_width?Math.min(o.clientWidth,r.max_width):o.clientWidth,t=r.max_height?Math.min(o.clientHeight,r.max_height):o.clientHeight,n.boxModel?i.element.setStyles({width:e,height:t}):i.element.setStyles({width:e+2,height:t+2}),r.max_width&&n.setStyle(s,"width",e),r.max_height&&(n.setStyle(s,"height",t),o.clientHeight<r.max_height&&n.setStyle(s,"overflow","hidden"))},showMenu:function(t,s,a){var l,c,u,d,h,f,p=this,m=p.settings,g=n.getViewPort(),v=2,y=p.classPrefix;p.collapse(1),p.isMenuVisible||(p.rendered?l=n.get("menu_"+p.id):(l=n.add(p.settings.container,p.renderNode()),i(p.items,function(e){e.postRender()}),p.element=new o("menu_"+p.id,{blocker:1,container:m.container})),e.isOpera||n.setStyles(l,{left:-65535,top:-65535}),n.show(l),p.update(),t+=m.offset_x||0,s+=m.offset_y||0,g.w-=4,g.h-=4,m.constrain&&(c=l.clientWidth-v,u=l.clientHeight-v,d=g.x+g.w,h=g.y+g.h,t+m.vp_offset_x+c>d&&(t=a?a-c:Math.max(0,d-m.vp_offset_x-c)),s+m.vp_offset_y+u>h&&(s=Math.max(0,h-m.vp_offset_y-u))),n.setStyles(l,{left:t,top:s}),p.element.update(),p.isMenuVisible=1,p.mouseClickFunc=r.add(l,"click",function(e){var t;if(e=e.target,e&&(e=n.getParent(e,"tr"))&&!n.hasClass(e,y+"ItemSub")){if(t=p.items[e.id],t.isDisabled())return;for(f=p;f;)f.hideMenu&&f.hideMenu(),f=f.settings.parent;return t.settings.onclick&&t.settings.onclick(e),r.cancel(e)}}),p.hasMenus()&&(p.mouseOverFunc=r.add(l,"mouseover",function(e){var t,i;if(e=e.target,e&&(e=n.getParent(e,"tr"))){if(t=p.items[e.id],p.lastMenu&&p.lastMenu.collapse(1),t.isDisabled())return;e&&n.hasClass(e,y+"ItemSub")&&(i=n.getRect(e),t.showMenu(i.x+i.w-v,i.y-v,i.x),p.lastMenu=t,n.addClass(n.get(t.id).firstChild,y+"ItemActive"))}})),r.add(l,"keydown",p._keyHandler,p),p.onShowMenu.dispatch(p),m.keyboard_focus&&p._setupKeyboardNav())},hideMenu:function(e){var t,i=this,o=n.get("menu_"+i.id);i.isMenuVisible&&(i.keyboardNav&&i.keyboardNav.destroy(),r.remove(o,"mouseover",i.mouseOverFunc),r.remove(o,"click",i.mouseClickFunc),r.remove(o,"keydown",i._keyHandler),n.hide(o),i.isMenuVisible=0,e||i.collapse(1),i.element&&i.element.hide(),(t=n.get(i.id))&&n.removeClass(t.firstChild,i.classPrefix+"ItemActive"),i.onHideMenu.dispatch(i))},add:function(e){var t,i=this;return e=i.parent(e),i.isRendered&&(t=n.get("menu_"+i.id))&&i._add(n.select("tbody",t)[0],e),e},collapse:function(e){this.parent(e),this.hideMenu(1)},remove:function(e){return n.remove(e.id),this.destroy(),this.parent(e)},destroy:function(){var e=this,t=n.get("menu_"+e.id);e.keyboardNav&&e.keyboardNav.destroy(),r.remove(t,"mouseover",e.mouseOverFunc),r.remove(n.select("a",t),"focus",e.mouseOverFunc),r.remove(t,"click",e.mouseClickFunc),r.remove(t,"keydown",e._keyHandler),e.element&&e.element.remove(),n.remove(t)},renderNode:function(){var e,t,r,s,a=this,l=a.settings;return s=n.create("div",{role:"listbox",id:"menu_"+a.id,"class":l["class"],style:"position:absolute;left:0;top:0;z-index:200000;outline:0"}),a.settings.parent&&n.setAttrib(s,"aria-parent","menu_"+a.settings.parent.id),r=n.add(s,"div",{role:"presentation",id:"menu_"+a.id+"_co","class":a.classPrefix+(l["class"]?" "+l["class"]:"")}),a.element=new o("menu_"+a.id,{blocker:1,container:l.container}),l.menu_line&&n.add(r,"span",{"class":a.classPrefix+"Line"}),e=n.add(r,"table",{role:"presentation",id:"menu_"+a.id+"_tbl",border:0,cellPadding:0,cellSpacing:0}),t=n.add(e,"tbody"),i(a.items,function(e){a._add(t,e)}),a.rendered=!0,s},_setupKeyboardNav:function(){var t,i,r=this;t=n.get("menu_"+r.id),i=n.select("a[role=option]","menu_"+r.id),i.splice(0,0,t),r.keyboardNav=new e.ui.KeyboardNavigation({root:"menu_"+r.id,items:i,onCancel:function(){r.hideMenu()},enableUpDown:!0}),t.focus()},_keyHandler:function(e){var t=this;switch(e.keyCode){case 37:t.settings.parent&&(t.hideMenu(),t.settings.parent.focus(),r.cancel(e));break;case 39:t.mouseOverFunc&&t.mouseOverFunc(e)}},_add:function(e,t){var i,r,o,s,a,l=t.settings,c=this.classPrefix;return l.separator?(o=n.add(e,"tr",{id:t.id,"class":c+"ItemSeparator"}),n.add(o,"td",{"class":c+"ItemSeparator"}),(i=o.previousSibling)&&n.addClass(i,"mceLast"),void 0):(i=o=n.add(e,"tr",{id:t.id,"class":c+"Item "+c+"ItemEnabled"}),i=s=n.add(i,l.titleItem?"th":"td"),i=r=n.add(i,"a",{id:t.id+"_aria",role:l.titleItem?"presentation":"option",href:"javascript:;",onclick:"return false;",onmousedown:"return false;"}),l.parent&&(n.setAttrib(r,"aria-haspopup","true"),n.setAttrib(r,"aria-owns","menu_"+t.id)),n.addClass(s,l["class"]),a=n.add(i,"span",{"class":"mceIcon"+(l.icon?" mce_"+l.icon:"")}),l.icon_src&&n.add(a,"img",{src:l.icon_src}),i=n.add(i,l.element||"span",{"class":"mceText",title:t.settings.title},t.settings.title),t.settings.style&&n.setAttrib(i,"style",t.settings.style),1==e.childNodes.length&&n.addClass(o,"mceFirst"),(i=o.previousSibling)&&n.hasClass(i,c+"ItemSeparator")&&n.addClass(o,"mceFirst"),t.collapse&&n.addClass(o,c+"ItemSub"),(i=o.previousSibling)&&n.removeClass(i,"mceLast"),n.addClass(o,"mceLast"),void 0)}})}(tinymce),function(e){var t=e.DOM;e.create("tinymce.ui.Button:tinymce.ui.Control",{Button:function(e,t,n){this.parent(e,t,n),this.classPrefix="mceButton"},renderHTML:function(){var e,n,i=this.classPrefix,r=this.settings;return n=t.encode(r.label||""),e='<a role="button" id="'+this.id+'" href="javascript:;" class="'+i+" "+i+"Enabled "+r["class"]+(n?" "+i+"Labeled":"")+'" onmousedown="return false;" onclick="return false;" aria-labelledby="'+this.id+'_voice" title="'+t.encode(r.title)+'">',e+=!r.image||this.editor&&this.editor.forcedHighContrastMode?'<span class="mceIcon '+r["class"]+'"></span>'+(n?'<span class="'+i+'Label">'+n+"</span>":""):'<img class="mceIcon" src="'+r.image+'" alt="'+t.encode(r.title)+'" />'+n,e+='<span class="mceVoiceLabel mceIconOnly" style="display: none;" id="'+this.id+'_voice">'+r.title+"</span>",e+="</a>"},postRender:function(){var t,n=this,i=n.settings;e.isIE&&n.editor&&e.dom.Event.add(n.id,"mousedown",function(){t=n.editor.selection.getBookmark()}),e.dom.Event.add(n.id,"click",function(r){return n.isDisabled()?void 0:(e.isIE&&n.editor&&t&&e.activeEditor.selection.moveToBookmark(t),i.onclick.call(i.scope,r))}),e.dom.Event.add(n.id,"keyup",function(t){return n.isDisabled()||t.keyCode!=e.VK.SPACEBAR?void 0:i.onclick.call(i.scope,t)})}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event,i=e.each,r=e.util.Dispatcher;e.create("tinymce.ui.ListBox:tinymce.ui.Control",{ListBox:function(t,n,i){var o=this;o.parent(t,n,i),o.items=[],o.onChange=new r(o),o.onPostRender=new r(o),o.onAdd=new r(o),o.onRenderMenu=new e.util.Dispatcher(this),o.classPrefix="mceListBox"},select:function(e){var t,n,r=this;return void 0==e?r.selectByIndex(-1):(n=e&&e.call?e:function(t){return t==e},e!=r.selectedValue&&(i(r.items,function(e,i){return n(e.value)?(t=1,r.selectByIndex(i),!1):void 0}),t||r.selectByIndex(-1)),void 0)},selectByIndex:function(e){var n,i,r,o=this;e!=o.selectedIndex&&(n=t.get(o.id+"_text"),r=t.get(o.id+"_voiceDesc"),i=o.items[e],i?(o.selectedValue=i.value,o.selectedIndex=e,t.setHTML(n,t.encode(i.title)),t.setHTML(r,o.settings.title+" - "+i.title),t.removeClass(n,"mceTitle"),t.setAttrib(o.id,"aria-valuenow",i.title)):(t.setHTML(n,t.encode(o.settings.title)),t.setHTML(r,t.encode(o.settings.title)),t.addClass(n,"mceTitle"),o.selectedValue=o.selectedIndex=null,t.setAttrib(o.id,"aria-valuenow",o.settings.title)),n=0)},add:function(t,n,i){var r=this;i=i||{},i=e.extend(i,{title:t,value:n}),r.items.push(i),r.onAdd.dispatch(r,i)},getLength:function(){return this.items.length},renderHTML:function(){var e="",n=this,i=n.settings,r=n.classPrefix;return e='<span role="listbox" aria-haspopup="true" aria-labelledby="'+n.id+'_voiceDesc" aria-describedby="'+n.id+'_voiceDesc"><table role="presentation" tabindex="0" id="'+n.id+'" cellpadding="0" cellspacing="0" class="'+r+" "+r+"Enabled"+(i["class"]?" "+i["class"]:"")+'"><tbody><tr>',e+="<td>"+t.createHTML("span",{id:n.id+"_voiceDesc","class":"voiceLabel",style:"display:none;"},n.settings.title),e+=t.createHTML("a",{id:n.id+"_text",tabindex:-1,href:"javascript:;","class":"mceText",onclick:"return false;",onmousedown:"return false;"},t.encode(n.settings.title))+"</td>",e+="<td>"+t.createHTML("a",{id:n.id+"_open",tabindex:-1,href:"javascript:;","class":"mceOpen",onclick:"return false;",onmousedown:"return false;"},'<span><span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span></span>')+"</td>",e+="</tr></tbody></table></span>"},showMenu:function(){var r,o,s=this,a=t.get(this.id);if(!s.isDisabled()&&0!=s.items.length){if(s.menu&&s.menu.isMenuVisible)return s.hideMenu();s.isMenuRendered||(s.renderMenu(),s.isMenuRendered=!0),r=t.getPos(a),o=s.menu,o.settings.offset_x=r.x,o.settings.offset_y=r.y,o.settings.keyboard_focus=!e.isOpera,s.oldID&&o.items[s.oldID].setSelected(0),i(s.items,function(e){e.value===s.selectedValue&&(o.items[e.id].setSelected(1),s.oldID=e.id)}),o.showMenu(0,a.clientHeight),n.add(t.doc,"mousedown",s.hideMenu,s),t.addClass(s.id,s.classPrefix+"Selected")}},hideMenu:function(e){var i=this;if(i.menu&&i.menu.isMenuVisible){if(t.removeClass(i.id,i.classPrefix+"Selected"),e&&"mousedown"==e.type&&(e.target.id==i.id+"_text"||e.target.id==i.id+"_open"))return;e&&t.getParent(e.target,".mceMenu")||(t.removeClass(i.id,i.classPrefix+"Selected"),n.remove(t.doc,"mousedown",i.hideMenu,i),i.menu.hideMenu())}},renderMenu:function(){var e,n=this;e=n.settings.control_manager.createDropMenu(n.id+"_menu",{menu_line:1,"class":n.classPrefix+"Menu mceNoIcons",max_width:150,max_height:150}),e.onHideMenu.add(function(){n.hideMenu(),n.focus()}),e.add({title:n.settings.title,"class":"mceMenuItemTitle",onclick:function(){n.settings.onselect("")!==!1&&n.select("")}}),i(n.items,function(i){void 0===i.value?e.add({title:i.title,role:"option","class":"mceMenuItemTitle",onclick:function(){n.settings.onselect("")!==!1&&n.select("")}}):(i.id=t.uniqueId(),i.role="option",i.onclick=function(){n.settings.onselect(i.value)!==!1&&n.select(i.value)},e.add(i))}),n.onRenderMenu.dispatch(n,e),n.menu=e},postRender:function(){var i=this,r=i.classPrefix;n.add(i.id,"click",i.showMenu,i),n.add(i.id,"keydown",function(e){32==e.keyCode&&(i.showMenu(e),n.cancel(e))}),n.add(i.id,"focus",function(){i._focused||(i.keyDownHandler=n.add(i.id,"keydown",function(e){40==e.keyCode&&(i.showMenu(),n.cancel(e))}),i.keyPressHandler=n.add(i.id,"keypress",function(e){var t;13==e.keyCode&&(t=i.selectedValue,i.selectedValue=null,n.cancel(e),i.settings.onselect(t))})),i._focused=1}),n.add(i.id,"blur",function(){n.remove(i.id,"keydown",i.keyDownHandler),n.remove(i.id,"keypress",i.keyPressHandler),i._focused=0}),(e.isIE6||!t.boxModel)&&(n.add(i.id,"mouseover",function(){t.hasClass(i.id,r+"Disabled")||t.addClass(i.id,r+"Hover")}),n.add(i.id,"mouseout",function(){t.hasClass(i.id,r+"Disabled")||t.removeClass(i.id,r+"Hover")})),i.onPostRender.dispatch(i,t.get(i.id))},destroy:function(){this.parent(),n.clear(this.id+"_text"),n.clear(this.id+"_open")}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event,i=e.each;e.util.Dispatcher,e.create("tinymce.ui.NativeListBox:tinymce.ui.ListBox",{NativeListBox:function(e,t){this.parent(e,t),this.classPrefix="mceNativeListBox"},setDisabled:function(e){t.get(this.id).disabled=e,this.setAriaProperty("disabled",e)},isDisabled:function(){return t.get(this.id).disabled},select:function(e){var t,n,r=this;return void 0==e?r.selectByIndex(-1):(n=e&&e.call?e:function(t){return t==e},e!=r.selectedValue&&(i(r.items,function(e,i){return n(e.value)?(t=1,r.selectByIndex(i),!1):void 0}),t||r.selectByIndex(-1)),void 0)},selectByIndex:function(e){t.get(this.id).selectedIndex=e+1,this.selectedValue=this.items[e]?this.items[e].value:null},add:function(e,n,i){var r,o=this;i=i||{},i.value=n,o.isRendered()&&t.add(t.get(this.id),"option",i,e),r={title:e,value:n,attribs:i},o.items.push(r),o.onAdd.dispatch(o,r)},getLength:function(){return this.items.length},renderHTML:function(){var e,n=this;return e=t.createHTML("option",{value:""},"-- "+n.settings.title+" --"),i(n.items,function(n){e+=t.createHTML("option",{value:n.value},n.title)}),e=t.createHTML("select",{id:n.id,"class":"mceNativeListBox","aria-labelledby":n.id+"_aria"},e),e+=t.createHTML("span",{id:n.id+"_aria",style:"display: none"},n.settings.title)},postRender:function(){function i(e){var t=o.items[e.target.selectedIndex-1];t&&(t=t.value)&&(o.onChange.dispatch(o,t),o.settings.onselect&&o.settings.onselect(t))}var r,o=this,s=!0;o.rendered=!0,n.add(o.id,"change",i),n.add(o.id,"keydown",function(t){var a;return n.remove(o.id,"change",r),s=!1,a=n.add(o.id,"blur",function(){s||(s=!0,n.add(o.id,"change",i),n.remove(o.id,"blur",a))}),!e.isWebKit||37!=t.keyCode&&39!=t.keyCode?13==t.keyCode||32==t.keyCode?(i(t),n.cancel(t)):void 0:n.prevent(t)}),o.onPostRender.dispatch(o,t.get(o.id))}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event;e.each,e.create("tinymce.ui.MenuButton:tinymce.ui.Button",{MenuButton:function(n,i,r){this.parent(n,i,r),this.onRenderMenu=new e.util.Dispatcher(this),i.menu_container=i.menu_container||t.doc.body},showMenu:function(){var e,i,r,o=this,s=t.get(o.id);if(!o.isDisabled()){if(o.isMenuRendered||(o.renderMenu(),o.isMenuRendered=!0),o.isMenuVisible)return o.hideMenu();e=t.getPos(o.settings.menu_container),i=t.getPos(s),r=o.menu,r.settings.offset_x=i.x,r.settings.offset_y=i.y,r.settings.vp_offset_x=i.x,r.settings.vp_offset_y=i.y,r.settings.keyboard_focus=o._focused,r.showMenu(0,s.clientHeight),n.add(t.doc,"mousedown",o.hideMenu,o),o.setState("Selected",1),o.isMenuVisible=1}},renderMenu:function(){var e,t=this;e=t.settings.control_manager.createDropMenu(t.id+"_menu",{menu_line:1,"class":this.classPrefix+"Menu",icons:t.settings.icons}),e.onHideMenu.add(function(){t.hideMenu(),t.focus()}),t.onRenderMenu.dispatch(t,e),t.menu=e},hideMenu:function(e){var i=this;e&&"mousedown"==e.type&&t.getParent(e.target,function(e){return e.id===i.id||e.id===i.id+"_open"})||(e&&t.getParent(e.target,".mceMenu")||(i.setState("Selected",0),n.remove(t.doc,"mousedown",i.hideMenu,i),i.menu&&i.menu.hideMenu()),i.isMenuVisible=0)},postRender:function(){var e=this,t=e.settings;n.add(e.id,"click",function(){e.isDisabled()||(t.onclick&&t.onclick(e.value),e.showMenu())})}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event;e.each,e.create("tinymce.ui.SplitButton:tinymce.ui.MenuButton",{SplitButton:function(e,t,n){this.parent(e,t,n),this.classPrefix="mceSplitButton"},renderHTML:function(){var e,n,i=this,r=i.settings;return e="<tbody><tr>",n=r.image?t.createHTML("img ",{src:r.image,role:"presentation","class":"mceAction "+r["class"]}):t.createHTML("span",{"class":"mceAction "+r["class"]},""),n+=t.createHTML("span",{"class":"mceVoiceLabel mceIconOnly",id:i.id+"_voice",style:"display:none;"},r.title),e+="<td >"+t.createHTML("a",{role:"button",id:i.id+"_action",tabindex:"-1",href:"javascript:;","class":"mceAction "+r["class"],onclick:"return false;",onmousedown:"return false;",title:r.title},n)+"</td>",n=t.createHTML("span",{"class":"mceOpen "+r["class"]},'<span style="display:none;" class="mceIconOnly" aria-hidden="true">▼</span>'),e+="<td >"+t.createHTML("a",{role:"button",id:i.id+"_open",tabindex:"-1",href:"javascript:;","class":"mceOpen "+r["class"],onclick:"return false;",onmousedown:"return false;",title:r.title},n)+"</td>",e+="</tr></tbody>",e=t.createHTML("table",{role:"presentation","class":"mceSplitButton mceSplitButtonEnabled "+r["class"],cellpadding:"0",cellspacing:"0",title:r.title},e),t.createHTML("div",{id:i.id,role:"button",tabindex:"0","aria-labelledby":i.id+"_voice","aria-haspopup":"true"},e)},postRender:function(){var i,r=this,o=r.settings;o.onclick&&(i=function(e){r.isDisabled()||(o.onclick(r.value),n.cancel(e))},n.add(r.id+"_action","click",i),n.add(r.id,["click","keydown"],function(e){var t=40;32!==e.keyCode&&13!==e.keyCode&&14!==e.keyCode||e.altKey||e.ctrlKey||e.metaKey?("click"===e.type||e.keyCode===t)&&(r.showMenu(),n.cancel(e)):(i(),n.cancel(e))})),n.add(r.id+"_open","click",function(e){r.showMenu(),n.cancel(e)}),n.add([r.id,r.id+"_open"],"focus",function(){r._focused=1}),n.add([r.id,r.id+"_open"],"blur",function(){r._focused=0}),(e.isIE6||!t.boxModel)&&(n.add(r.id,"mouseover",function(){t.hasClass(r.id,"mceSplitButtonDisabled")||t.addClass(r.id,"mceSplitButtonHover")}),n.add(r.id,"mouseout",function(){t.hasClass(r.id,"mceSplitButtonDisabled")||t.removeClass(r.id,"mceSplitButtonHover")}))},destroy:function(){this.parent(),n.clear(this.id+"_action"),n.clear(this.id+"_open"),n.clear(this.id)}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event,i=e.is,r=e.each;e.create("tinymce.ui.ColorSplitButton:tinymce.ui.SplitButton",{ColorSplitButton:function(t,n,i){var r=this;r.parent(t,n,i),r.settings=n=e.extend({colors:"000000,993300,333300,003300,003366,000080,333399,333333,800000,FF6600,808000,008000,008080,0000FF,666699,808080,FF0000,FF9900,99CC00,339966,33CCCC,3366FF,800080,999999,FF00FF,FFCC00,FFFF00,00FF00,00FFFF,00CCFF,993366,C0C0C0,FF99CC,FFCC99,FFFF99,CCFFCC,CCFFFF,99CCFF,CC99FF,FFFFFF",grid_width:8,default_color:"#888888"},r.settings),r.onShowMenu=new e.util.Dispatcher(r),r.onHideMenu=new e.util.Dispatcher(r),r.value=n.default_color
},showMenu:function(){var e,i,r=this;if(!r.isDisabled()){if(r.isMenuRendered||(r.renderMenu(),r.isMenuRendered=!0),r.isMenuVisible)return r.hideMenu();e=t.get(r.id),t.show(r.id+"_menu"),t.addClass(e,"mceSplitButtonSelected"),i=t.getPos(e),t.setStyles(r.id+"_menu",{left:i.x,top:i.y+e.clientHeight,zIndex:2e5}),e=0,n.add(t.doc,"mousedown",r.hideMenu,r),r.onShowMenu.dispatch(r),r._focused&&(r._keyHandler=n.add(r.id+"_menu","keydown",function(e){27==e.keyCode&&r.hideMenu()}),t.select("a",r.id+"_menu")[0].focus()),r.isMenuVisible=1}},hideMenu:function(e){var i=this;if(i.isMenuVisible){if(e&&"mousedown"==e.type&&t.getParent(e.target,function(e){return e.id===i.id+"_open"}))return;e&&t.getParent(e.target,".mceSplitButtonMenu")||(t.removeClass(i.id,"mceSplitButtonSelected"),n.remove(t.doc,"mousedown",i.hideMenu,i),n.remove(i.id+"_menu","keydown",i._keyHandler),t.hide(i.id+"_menu")),i.isMenuVisible=0,i.onHideMenu.dispatch()}},renderMenu:function(){var o,s,a,l,c,u,d=this,h=0,f=d.settings;return c=t.add(f.menu_container,"div",{role:"listbox",id:d.id+"_menu","class":f.menu_class+" "+f["class"],style:"position:absolute;left:0;top:-1000px;"}),o=t.add(c,"div",{"class":f["class"]+" mceSplitButtonMenu"}),t.add(o,"span",{"class":"mceMenuLine"}),s=t.add(o,"table",{role:"presentation","class":"mceColorSplitMenu"}),a=t.add(s,"tbody"),h=0,r(i(f.colors,"array")?f.colors:f.colors.split(","),function(n){n=n.replace(/^#/,""),h--||(l=t.add(a,"tr"),h=f.grid_width-1),s=t.add(l,"td");var i={href:"javascript:;",style:{backgroundColor:"#"+n},title:d.editor.getLang("colors."+n,n),"data-mce-color":"#"+n};e.isIE||(i.role="option"),s=t.add(s,"a",i),d.editor.forcedHighContrastMode&&(s=t.add(s,"canvas",{width:16,height:16,"aria-hidden":"true"}),s.getContext&&(u=s.getContext("2d"))?(u.fillStyle="#"+n,u.fillRect(0,0,16,16)):t.remove(s))}),f.more_colors_func&&(s=t.add(a,"tr"),s=t.add(s,"td",{colspan:f.grid_width,"class":"mceMoreColors"}),s=t.add(s,"a",{role:"option",id:d.id+"_more",href:"javascript:;",onclick:"return false;","class":"mceMoreColors"},f.more_colors_title),n.add(s,"click",function(e){return f.more_colors_func.call(f.more_colors_scope||this),n.cancel(e)})),t.addClass(o,"mceColorSplitMenu"),new e.ui.KeyboardNavigation({root:d.id+"_menu",items:t.select("a",d.id+"_menu"),onCancel:function(){d.hideMenu(),d.focus()}}),n.add(d.id+"_menu","mousedown",function(e){return n.cancel(e)}),n.add(d.id+"_menu","click",function(e){var i;return e=t.getParent(e.target,"a",a),e&&"a"==e.nodeName.toLowerCase()&&(i=e.getAttribute("data-mce-color"))&&d.setColor(i),n.cancel(e)}),c},setColor:function(e){this.displayColor(e),this.hideMenu(),this.settings.onselect(e)},displayColor:function(e){var n=this;t.setStyle(n.id+"_preview","backgroundColor",e),n.value=e},postRender:function(){var e=this,n=e.id;e.parent(),t.add(n+"_action","div",{id:n+"_preview","class":"mceColorPreview"}),t.setStyle(e.id+"_preview","backgroundColor",e.value)},destroy:function(){this.parent(),n.clear(this.id+"_menu"),n.clear(this.id+"_more"),t.remove(this.id+"_menu")}})}(tinymce),function(e){var t=e.DOM,n=e.each,i=e.dom.Event;e.create("tinymce.ui.ToolbarGroup:tinymce.ui.Container",{renderHTML:function(){var n=this,i=[],r=n.controls,o=e.each,s=n.settings;return i.push('<div id="'+n.id+'" role="group" aria-labelledby="'+n.id+'_voice">'),i.push("<span role='application'>"),i.push('<span id="'+n.id+'_voice" class="mceVoiceLabel" style="display:none;">'+t.encode(s.name)+"</span>"),o(r,function(e){i.push(e.renderHTML())}),i.push("</span>"),i.push("</div>"),i.join("")},focus:function(){var e=this;t.get(e.id).focus()},postRender:function(){var i=this,r=[];n(i.controls,function(e){n(e.controls,function(e){e.id&&r.push(e)})}),i.keyNav=new e.ui.KeyboardNavigation({root:i.id,items:r,onCancel:function(){e.isWebKit&&t.get(i.editor.id+"_ifr").focus(),i.editor.focus()},excludeFromTabOrder:!i.settings.tab_focus_toolbar})},destroy:function(){var e=this;e.parent(),e.keyNav.destroy(),i.clear(e.id)}})}(tinymce),function(e){var t=e.DOM;e.each,e.create("tinymce.ui.Toolbar:tinymce.ui.Container",{renderHTML:function(){var e,n,i,r,o,s,a=this,l="",c=a.settings;for(s=a.controls,i=0;i<s.length;i++)n=s[i],r=s[i-1],o=s[i+1],0===i&&(e="mceToolbarStart",n.Button?e+=" mceToolbarStartButton":n.SplitButton?e+=" mceToolbarStartSplitButton":n.ListBox&&(e+=" mceToolbarStartListBox"),l+=t.createHTML("td",{"class":e},t.createHTML("span",null,"<!-- IE -->"))),r&&n.ListBox&&(r.Button||r.SplitButton)&&(l+=t.createHTML("td",{"class":"mceToolbarEnd"},t.createHTML("span",null,"<!-- IE -->"))),l+=t.stdMode?'<td style="position: relative">'+n.renderHTML()+"</td>":"<td>"+n.renderHTML()+"</td>",o&&n.ListBox&&(o.Button||o.SplitButton)&&(l+=t.createHTML("td",{"class":"mceToolbarStart"},t.createHTML("span",null,"<!-- IE -->")));return e="mceToolbarEnd",n.Button?e+=" mceToolbarEndButton":n.SplitButton?e+=" mceToolbarEndSplitButton":n.ListBox&&(e+=" mceToolbarEndListBox"),l+=t.createHTML("td",{"class":e},t.createHTML("span",null,"<!-- IE -->")),t.createHTML("table",{id:a.id,"class":"mceToolbar"+(c["class"]?" "+c["class"]:""),cellpadding:"0",cellspacing:"0",align:a.settings.align||"",role:"presentation",tabindex:"-1"},"<tbody><tr>"+l+"</tr></tbody>")}})}(tinymce),function(e){var t=e.util.Dispatcher;e.each,e.create("tinymce.AddOnManager",{AddOnManager:function(){var e=this;e.items=[],e.urls={},e.lookup={},e.onAdd=new t(e)},get:function(e){return this.lookup[e]?this.lookup[e].instance:void 0},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t){var n=e.settings;n&&n.language&&n.language_load!==!1&&e.ScriptLoader.add(this.urls[t]+"/langs/"+n.language+".js")},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},this.onAdd.dispatch(this,e,t),t},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var i=this.urls[t];e.each(n,function(t){e.ScriptLoader.add(i+"/"+t)})},load:function(t,n,i,r){function o(){var o=s.dependencies(t);e.each(o,function(e){var t=s.createUrl(n,e);s.load(t.resource,t,void 0,void 0)}),i&&(r?i.call(r):i.call(e.ScriptLoader))}var s=this,a=n;s.urls[t]||("object"==typeof n&&(a=n.prefix+n.resource+n.suffix),0!=a.indexOf("/")&&-1==a.indexOf("://")&&(a=e.baseURL+"/"+a),s.urls[t]=a.substring(0,a.lastIndexOf("/")),s.lookup[t]?o():e.ScriptLoader.add(a,o,r))}}),e.PluginManager=new e.AddOnManager,e.ThemeManager=new e.AddOnManager}(tinymce),function(e){var t,n=e.each,i=e.extend,r=e.DOM,o=e.dom.Event,s=(e.ThemeManager,e.PluginManager,e.explode),a=e.util.Dispatcher,l=0;e.documentBaseURL=window.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e.documentBaseURL)||(e.documentBaseURL+="/"),e.baseURL=new e.util.URI(e.documentBaseURL).toAbsolute(e.baseURL),e.baseURI=new e.util.URI(e.baseURL),e.onBeforeUnload=new a(e),o.add(window,"beforeunload",function(t){e.onBeforeUnload.dispatch(e,t)}),e.onAddEditor=new a(e),e.onRemoveEditor=new a(e),e.EditorManager=i(e,{editors:[],i18n:{},activeEditor:null,init:function(t){function a(t,n,i){var r=t[n];if(r)return e.is(r,"string")&&(i=r.replace(/\.\w+$/,""),i=i?e.resolve(i):0,r=e.resolve(r)),r.apply(i||this,Array.prototype.slice.call(arguments,2))}var c,u,d=this,h=(e.ScriptLoader,[]);t=i({theme:"simple",language:"en"},t),d.settings=t,o.add(document,"init",function(){function i(e,t){return t.constructor===RegExp?t.test(e.className):r.hasClass(e,t)}var o,f;switch(a(t,"onpageload"),t.mode){case"exact":o=t.elements||"",o.length>0&&n(s(o),function(i){r.get(i)?(u=new e.Editor(i,t),h.push(u),u.render(1)):n(document.forms,function(o){n(o.elements,function(n){n.name===i&&(i="mce_editor_"+l++,r.setAttrib(n,"id",i),u=new e.Editor(i,t),h.push(u),u.render(1))})})});break;case"textareas":case"specific_textareas":n(r.select("textarea"),function(n){t.editor_deselector&&i(n,t.editor_deselector)||(!t.editor_selector||i(n,t.editor_selector))&&(c=r.get(n.name),n.id||c||(n.id=n.name),(!n.id||d.get(n.id))&&(n.id=r.uniqueId()),u=new e.Editor(n.id,t),h.push(u),u.render(1))})}t.oninit&&(o=f=0,n(h,function(e){f++,e.initialized?o++:e.onInit.add(function(){o++,o==f&&a(t,"oninit")}),o==f&&a(t,"oninit")}))})},get:function(e){return e===t?this.editors:this.editors[e]},getInstanceById:function(e){return this.get(e)},add:function(t){var n=this,i=n.editors;return i[t.id]=t,i.push(t),n._setActive(t),n.onAddEditor.dispatch(n,t),e.adapter&&e.adapter.patchEditor(t),t},remove:function(e){var t,n=this,i=n.editors;if(!i[e.id])return null;for(delete i[e.id],t=0;t<i.length;t++)if(i[t]==e){i.splice(t,1);break}return n.activeEditor==e&&n._setActive(i[0]),e.destroy(),n.onRemoveEditor.dispatch(n,e),e},execCommand:function(t,n,i){function r(){a.destroy(),o.detachEvent("onunload",r),o=o.tinyMCE=o.tinymce=null}var o,s=this,a=s.get(i);switch(t){case"mceFocus":return a.focus(),!0;case"mceAddEditor":case"mceAddControl":return s.get(i)||new e.Editor(i,s.settings).render(),!0;case"mceAddFrameControl":return o=i.window,o.tinyMCE=tinyMCE,o.tinymce=e,e.DOM.doc=o.document,e.DOM.win=o,a=new e.Editor(i.element_id,i),a.render(),e.isIE&&o.attachEvent("onunload",r),i.page_window=null,!0;case"mceRemoveEditor":case"mceRemoveControl":return a&&a.remove(),!0;case"mceToggleEditor":return a?(a.isHidden()?a.show():a.hide(),!0):(s.execCommand("mceAddControl",0,i),!0)}return s.activeEditor?s.activeEditor.execCommand(t,n,i):!1},execInstanceCommand:function(e,t,n,i){var r=this.get(e);return r?r.execCommand(t,n,i):!1},triggerSave:function(){n(this.editors,function(e){e.save()})},addI18n:function(t,i){var r=this.i18n;e.is(t,"string")?n(i,function(e,n){r[t+"."+n]=e}):n(t,function(e,t){n(e,function(e,i){n(e,function(e,n){"common"===i?r[t+"."+n]=e:r[t+"."+i+"."+n]=e})})})},_setActive:function(e){this.selectedInstance=this.activeEditor=e}})}(tinymce),function(e){var t=e.DOM,n=e.dom.Event,i=e.extend,r=e.util.Dispatcher,o=e.each,s=e.isGecko,a=e.isIE,l=(e.isWebKit,e.is),c=e.ThemeManager,u=e.PluginManager,d=(e.inArray,e.grep,e.explode),h=e.VK;e.create("tinymce.Editor",{Editor:function(t,n){var s=this;s.id=s.editorId=t,s.execCommands={},s.queryStateCommands={},s.queryValueCommands={},s.isNotDirty=!1,s.plugins={},o(["onPreInit","onBeforeRenderUI","onPostRender","onLoad","onInit","onRemove","onActivate","onDeactivate","onClick","onEvent","onMouseUp","onMouseDown","onDblClick","onKeyDown","onKeyUp","onKeyPress","onContextMenu","onSubmit","onReset","onPaste","onPreProcess","onPostProcess","onBeforeSetContent","onBeforeGetContent","onSetContent","onGetContent","onLoadContent","onSaveContent","onNodeChange","onChange","onBeforeExecCommand","onExecCommand","onUndo","onRedo","onVisualAid","onSetProgressState","onSetAttrib"],function(e){s[e]=new r(s)}),s.settings=n=i({id:t,language:"en",docs_language:"en",theme:"simple",skin:"default",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e.documentBaseURL,add_form_submit_trigger:1,submit_patch:1,add_unload_trigger:1,convert_urls:1,relative_urls:1,remove_script_host:1,table_inline_editing:0,object_resizing:1,cleanup:1,accessibility_focus:1,custom_shortcuts:1,custom_undo_redo_keyboard_shortcuts:1,custom_undo_redo_restore_selection:1,custom_undo_redo:1,doctype:e.isIE6?'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">':"<!DOCTYPE>",visual_table_class:"mceItemTable",visual:1,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",apply_source_formatting:1,directionality:"ltr",forced_root_block:"p",hidden_input:1,padd_empty_editor:1,render_ui:1,init_theme:1,force_p_newlines:1,indentation:"30px",keep_styles:1,fix_table_elements:1,inline_styles:1,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr",validate:!0,entity_encoding:"named",url_converter:s.convertURL,url_converter_scope:s,ie7_compat:!0},n),s.documentBaseURI=new e.util.URI(n.document_base_url||e.documentBaseURL,{base_uri:tinyMCE.baseURI}),s.baseURI=e.baseURI,s.contentCSS=[],s.execCallback("setup",s)},render:function(){function i(){s.language&&s.language_load!==!1&&l.add(e.baseURL+"/langs/"+s.language+".js"),s.theme&&"-"!=s.theme.charAt(0)&&!c.urls[s.theme]&&c.load(s.theme,"themes/"+s.theme+"/editor_template"+e.suffix+".js"),o(d(s.plugins),function(t){if(t&&!u.urls[t])if("-"==t.charAt(0)){t=t.substr(1,t.length);var n=u.dependencies(t);o(n,function(t){var n={prefix:"plugins/",resource:t,suffix:"/editor_plugin"+e.suffix+".js"},t=u.createUrl(n,t);u.load(t.resource,t)})}else{if("safari"==t)return;u.load(t,{prefix:"plugins/",resource:t,suffix:"/editor_plugin"+e.suffix+".js"})}}),l.loadQueue(function(){r.removed||r.init()})}var r=this,s=r.settings,a=r.id,l=e.ScriptLoader;return n.domLoaded?(tinyMCE.settings=s,r.getElement()&&(!e.isIDevice||e.isIOS5)&&(!/TEXTAREA|INPUT/i.test(r.getElement().nodeName)&&s.hidden_input&&t.getParent(a,"form")&&t.insertAfter(t.create("input",{type:"hidden",name:a}),a),e.WindowManager&&(r.windowManager=new e.WindowManager(r)),"xml"==s.encoding&&r.onGetContent.add(function(e,n){n.save&&(n.content=t.encode(n.content))}),s.add_form_submit_trigger&&r.onSubmit.addToTop(function(){r.initialized&&(r.save(),r.isNotDirty=1)}),s.add_unload_trigger&&(r._beforeUnload=tinyMCE.onBeforeUnload.add(function(){!r.initialized||r.destroyed||r.isHidden()||r.save({format:"raw",no_events:!0})})),e.addUnload(r.destroy,r),s.submit_patch&&r.onBeforeRenderUI.add(function(){var t=r.getElement().form;t&&(t._mceOldSubmit||(t.submit.nodeType||t.submit.length||(r.formElement=t,t._mceOldSubmit=t.submit,t.submit=function(){return e.triggerSave(),r.isNotDirty=1,r.formElement._mceOldSubmit(r.formElement)}),t=null))}),i()),void 0):(n.add(document,"init",function(){r.render()}),void 0)},init:function(){function n(t){var i,r=u.get(t),s=u.urls[t]||e.documentBaseURL.replace(/\/$/,"");r&&-1===e.inArray(x,t)&&(o(u.dependencies(t),function(e){n(e)}),i=new r(b,s),b.plugins[t]=i,i.init&&(i.init(b,s),x.push(t)))}function i(e,t){t&&t.initial||b.execCommand("mceRepaint")}var r,l,h,f,p,m,g,v,y,b=this,_=b.settings,w=b.getElement(),x=[];for(e.add(b),_.aria_label=_.aria_label||t.getAttrib(w,"aria-label",b.getLang("aria.rich_text_area")),_.theme&&(_.theme=_.theme.replace(/-/,""),f=c.get(_.theme),b.theme=new f,b.theme.init&&_.init_theme&&b.theme.init(b,c.urls[_.theme]||e.documentBaseURL.replace(/\/$/,""))),o(d(_.plugins.replace(/\-/g,"")),n),_.popup_css!==!1&&(_.popup_css=_.popup_css?b.documentBaseURI.toAbsolute(_.popup_css):b.baseURI.toAbsolute("themes/"+_.theme+"/skins/"+_.skin+"/dialog.css")),_.popup_css_add&&(_.popup_css+=","+b.documentBaseURI.toAbsolute(_.popup_css_add)),b.controlManager=new e.ControlManager(b),_.custom_undo_redo&&(b.onBeforeExecCommand.add(function(e,t,n,i,r){"Undo"==t||"Redo"==t||"mceRepaint"==t||r&&r.skip_undo||b.undoManager.beforeChange()}),b.onExecCommand.add(function(e,t,n,i,r){"Undo"==t||"Redo"==t||"mceRepaint"==t||r&&r.skip_undo||b.undoManager.add()})),b.onExecCommand.add(function(e,t){/^(FontName|FontSize)$/.test(t)||b.nodeChanged()}),s&&(b.onUndo.add(i),b.onRedo.add(i),b.onSetContent.add(i)),b.onBeforeRenderUI.dispatch(b,b.controlManager),_.render_ui&&(l=_.width||w.style.width||w.offsetWidth,h=_.height||w.style.height||w.offsetHeight,b.orgDisplay=w.style.display,v=/^[0-9\.]+(|px)$/i,v.test(""+l)&&(l=Math.max(parseInt(l)+(f.deltaWidth||0),100)),v.test(""+h)&&(h=Math.max(parseInt(h)+(f.deltaHeight||0),100)),f=b.theme.renderUI({targetNode:w,width:l,height:h,deltaWidth:_.delta_width,deltaHeight:_.delta_height}),b.editorContainer=f.editorContainer),document.domain&&location.hostname!=document.domain&&(e.relaxedDomain=document.domain),t.setStyles(f.sizeContainer||f.editorContainer,{width:l,height:h}),_.content_css&&e.each(d(_.content_css),function(e){b.contentCSS.push(b.documentBaseURI.toAbsolute(e))}),h=(f.iframeHeight||h)+("number"==typeof h?f.deltaHeight||0:""),100>h&&(h=100),b.iframeHTML=_.doctype+'<html><head xmlns="https://web.archive.org/web/20140621124411/http://www.w3.org/1999/xhtml">',_.document_base_url!=e.documentBaseURL&&(b.iframeHTML+='<base href="'+b.documentBaseURI.getURI()+'" />'),b.iframeHTML+=_.ie7_compat?'<meta http-equiv="X-UA-Compatible" content="IE=7" />':'<meta http-equiv="X-UA-Compatible" content="IE=edge" />',b.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',y=0;y<b.contentCSS.length;y++)b.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+b.contentCSS[y]+'" />';m=_.body_id||"tinymce",-1!=m.indexOf("=")&&(m=b.getParam("body_id","","hash"),m=m[b.id]||m),g=_.body_class||"",-1!=g.indexOf("=")&&(g=b.getParam("body_class","","hash"),g=g[b.id]||""),b.iframeHTML+='</head><body id="'+m+'" class="mceContentBody '+g+'" onload="window.parent.tinyMCE.get(\''+b.id+"').onLoad.dispatch();\"><br></body></html>",e.relaxedDomain&&(a||e.isOpera&&parseFloat(opera.version())<11)&&(p='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinyMCE.get("'+b.id+'");document.write(ed.iframeHTML);document.close();ed.setupIframe();})()'),r=t.add(f.iframeContainer,"iframe",{id:b.id+"_ifr",src:p||'javascript:""',frameBorder:"0",allowTransparency:"true",title:_.aria_label,style:{width:"100%",height:h,display:"block"}}),b.contentAreaContainer=f.iframeContainer,t.get(f.editorContainer).style.display=b.orgDisplay,t.get(b.id).style.display="none",t.setAttrib(b.id,"aria-hidden",!0),e.relaxedDomain&&p||b.setupIframe(),w=r=f=null},setupIframe:function(){function i(e){o(e.dom.select("a"),function(t){var n=t.parentNode;e.dom.isBlock(n)&&n.lastChild===t&&e.dom.add(n,"br",{"data-mce-bogus":1})})}var r,l=this,c=l.settings,u=t.get(l.id),d=l.getDoc();a&&e.relaxedDomain||(d.open(),d.write(l.iframeHTML),d.close(),e.relaxedDomain&&(d.domain=e.relaxedDomain)),r=l.getBody(),r.disabled=!0,c.readonly||(r.contentEditable=!0),r.disabled=!1,l.schema=new e.html.Schema(c),l.dom=new e.dom.DOMUtils(l.getDoc(),{keep_values:!0,url_converter:l.convertURL,url_converter_scope:l,hex_colors:c.force_hex_style_colors,class_filter:c.class_filter,update_styles:1,fix_ie_paragraphs:1,schema:l.schema}),l.parser=new e.html.DomParser(c,l.schema),l.settings.allow_html_in_named_anchor||l.parser.addAttributeFilter("name",function(e){for(var t,n,i,r,o=e.length;o--;)if(r=e[o],"a"===r.name&&r.firstChild){i=r.parent,t=r.lastChild;do n=t.prev,i.insert(t,r),t=n;while(t)}}),l.parser.addAttributeFilter("src,href,style",function(e,t){for(var n,i,r,o=e.length,s=l.dom;o--;)n=e[o],i=n.attr(t),r="data-mce-"+t,n.attributes.map[r]||("style"===t?n.attr(r,s.serializeStyle(s.parseStyle(i),n.name)):n.attr(r,l.convertURL(i,t,n.name)))}),l.parser.addNodeFilter("script",function(e){for(var t,n=e.length;n--;)t=e[n],t.attr("type","mce-"+(t.attr("type")||"text/javascript"))}),l.parser.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),l.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var n,i=t.length,r=l.schema.getNonEmptyElements();i--;)n=t[i],n.isEmpty(r)&&(n.empty().append(new e.html.Node("br",1)).shortEnded=!0)}),l.serializer=new e.dom.Serializer(c,l.dom,l.schema),l.selection=new e.dom.Selection(l.dom,l.getWin(),l.serializer),l.formatter=new e.Formatter(this),l.formatter.register({alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"}},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"}},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"}},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignfull:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"justify"}}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){o(n,function(t,n){l.dom.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),o("p h1 h2 h3 h4 h5 h6 div address pre div code dt dd samp".split(/\s/),function(e){l.formatter.register(e,{block:e,remove:"all"})}),l.formatter.register(l.settings.formats),l.undoManager=new e.UndoManager(l),l.undoManager.onAdd.add(function(e,t){return e.hasUndo()?l.onChange.dispatch(l,t,e):void 0}),l.undoManager.onUndo.add(function(e,t){return l.onUndo.dispatch(l,t,e)}),l.undoManager.onRedo.add(function(e,t){return l.onRedo.dispatch(l,t,e)}),l.forceBlocks=new e.ForceBlocks(l,{forced_root_block:c.forced_root_block}),l.editorCommands=new e.EditorCommands(l),l.serializer.onPreProcess.add(function(e,t){return l.onPreProcess.dispatch(l,t,e)}),l.serializer.onPostProcess.add(function(e,t){return l.onPostProcess.dispatch(l,t,e)}),l.onPreInit.dispatch(l),c.gecko_spellcheck||(l.getBody().spellcheck=0),c.readonly||l._addEvents(),l.controlManager.onPostRender.dispatch(l,l.controlManager),l.onPostRender.dispatch(l),l.quirks=new e.util.Quirks(this),c.directionality&&(l.getBody().dir=c.directionality),c.nowrap&&(l.getBody().style.whiteSpace="nowrap"),c.handle_node_change_callback&&l.onNodeChange.add(function(e,t,n){l.execCallback("handle_node_change_callback",l.id,n,-1,-1,!0,l.selection.isCollapsed())}),c.save_callback&&l.onSaveContent.add(function(e,t){var n=l.execCallback("save_callback",l.id,t.content,l.getBody());n&&(t.content=n)}),c.onchange_callback&&l.onChange.add(function(e,t){l.execCallback("onchange_callback",l,t)}),c.protect&&l.onBeforeSetContent.add(function(e,t){c.protect&&o(c.protect,function(e){t.content=t.content.replace(e,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),c.convert_newlines_to_brs&&l.onBeforeSetContent.add(function(e,t){t.initial&&(t.content=t.content.replace(/\r?\n/g,"<br />"))}),c.preformatted&&l.onPostProcess.add(function(e,t){t.content=t.content.replace(/^\s*<pre.*?>/,""),t.content=t.content.replace(/<\/pre>\s*$/,""),t.set&&(t.content='<pre class="mceItemHidden">'+t.content+"</pre>")}),c.verify_css_classes&&(l.serializer.attribValueFilter=function(e,t){var n,i;return"class"==e?(l.classesRE||(i=l.dom.getClasses(),i.length>0&&(n="",o(i,function(e){n+=(n?"|":"")+e["class"]}),l.classesRE=new RegExp("("+n+")","gi"))),!l.classesRE||/(\bmceItem\w+\b|\bmceTemp\w+\b)/g.test(t)||l.classesRE.test(t)?t:""):t}),c.cleanup_callback&&(l.onBeforeSetContent.add(function(e,t){t.content=l.execCallback("cleanup_callback","insert_to_editor",t.content,t)}),l.onPreProcess.add(function(e,t){t.set&&l.execCallback("cleanup_callback","insert_to_editor_dom",t.node,t),t.get&&l.execCallback("cleanup_callback","get_from_editor_dom",t.node,t)}),l.onPostProcess.add(function(e,t){t.set&&(t.content=l.execCallback("cleanup_callback","insert_to_editor",t.content,t)),t.get&&(t.content=l.execCallback("cleanup_callback","get_from_editor",t.content,t))})),c.save_callback&&l.onGetContent.add(function(e,t){t.save&&(t.content=l.execCallback("save_callback",l.id,t.content,l.getBody()))}),c.handle_event_callback&&l.onEvent.add(function(e,t,i){l.execCallback("handle_event_callback",t,e,i)===!1&&n.cancel(t)}),l.onSetContent.add(function(){l.addVisual(l.getBody())}),c.padd_empty_editor&&l.onPostProcess.add(function(e,t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),s&&(l.onExecCommand.add(function(e,t){"CreateLink"===t&&i(e)}),l.onSetContent.add(l.selection.onSetContent.add(i))),l.load({initial:!0,format:"html"}),l.startContent=l.getContent({format:"raw"}),l.undoManager.add(),l.initialized=!0,l.onInit.dispatch(l),l.execCallback("setupcontent_callback",l.id,l.getBody(),l.getDoc()),l.execCallback("init_instance_callback",l),l.focus(!0),l.nodeChanged({initial:1}),o(l.contentCSS,function(e){l.dom.loadCSS(e)}),c.auto_focus&&setTimeout(function(){var t=e.get(c.auto_focus);t.selection.select(t.getBody(),1),t.selection.collapse(1),t.getBody().focus(),t.getWin().focus()},100),u=null},focus:function(t){var n,i,r,o=this,s=o.selection,a=o.settings.content_editable,l=o.getDoc();t||(i=s.getRng(),i.item&&(r=i.item(0)),o._refreshContentEditable(),a||o.getWin().focus(),e.isGecko&&o.getBody().focus(),r&&r.ownerDocument==l&&(i=l.body.createControlRange(),i.addElement(r),i.select())),e.activeEditor!=o&&(null!=(n=e.activeEditor)&&n.onDeactivate.dispatch(n,o),o.onActivate.dispatch(o,n)),e._setActive(o)},execCallback:function(t){var n,i=this,r=i.settings[t];if(r)return i.callbackLookup&&(n=i.callbackLookup[t])&&(r=n.func,n=n.scope),l(r,"string")&&(n=r.replace(/\.\w+$/,""),n=n?e.resolve(n):0,r=e.resolve(r),i.callbackLookup=i.callbackLookup||{},i.callbackLookup[t]={func:r,scope:n}),r.apply(n||i,Array.prototype.slice.call(arguments,1))},translate:function(t){var n=this.settings.language||"en",i=e.i18n;return t?i[n+"."+t]||t.replace(/{\#([^}]+)\}/g,function(e,t){return i[n+"."+t]||"{#"+t+"}"}):""},getLang:function(t,n){return e.i18n[(this.settings.language||"en")+"."+t]||(l(n)?n:"{#"+t+"}")},getParam:function(t,n,i){var r,s=e.trim,a=l(this.settings[t])?this.settings[t]:n;return"hash"===i?(r={},l(a,"string")?o(a.indexOf("=")>0?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(","),function(e){e=e.split("="),r[s(e[0])]=e.length>1?s(e[1]):s(e)}):r=a,r):a},nodeChanged:function(e){var t=this,n=t.selection,i=n.getStart()||t.getBody();t.initialized&&(e=e||{},i=a&&i.ownerDocument!=t.getDoc()?t.getBody():i,e.parents=[],t.dom.getParent(i,function(t){return"BODY"==t.nodeName?!0:(e.parents.push(t),void 0)}),t.onNodeChange.dispatch(t,e?e.controlManager||t.controlManager:t.controlManager,i,n.isCollapsed(),e))},addButton:function(e,t){var n=this;n.buttons=n.buttons||{},n.buttons[e]=t},addCommand:function(e,t,n){this.execCommands[e]={func:t,scope:n||this}},addQueryStateHandler:function(e,t,n){this.queryStateCommands[e]={func:t,scope:n||this}},addQueryValueHandler:function(e,t,n){this.queryValueCommands[e]={func:t,scope:n||this}},addShortcut:function(e,t,n,i){var r,s=this;return s.settings.custom_shortcuts?(s.shortcuts=s.shortcuts||{},l(n,"string")&&(r=n,n=function(){s.execCommand(r,!1,null)}),l(n,"object")&&(r=n,n=function(){s.execCommand(r[0],r[1],r[2])}),o(d(e),function(e){var r={func:n,scope:i||this,desc:t,alt:!1,ctrl:!1,shift:!1};o(d(e,"+"),function(e){switch(e){case"alt":case"ctrl":case"shift":r[e]=!0;break;default:r.charCode=e.charCodeAt(0),r.keyCode=e.toUpperCase().charCodeAt(0)}}),s.shortcuts[(r.ctrl?"ctrl":"")+","+(r.alt?"alt":"")+","+(r.shift?"shift":"")+","+r.keyCode]=r}),!0):!1},execCommand:function(e,t,n,i){var r,s,a=this,l=0;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint|SelectAll)$/.test(e)||i&&i.skip_focus||a.focus(),r={},a.onBeforeExecCommand.dispatch(a,e,t,n,r),r.terminate?!1:a.execCallback("execcommand_callback",a.id,a.selection.getNode(),e,t,n)?(a.onExecCommand.dispatch(a,e,t,n,i),!0):(r=a.execCommands[e])&&(s=r.func.call(r.scope,t,n),s!==!0)?(a.onExecCommand.dispatch(a,e,t,n,i),s):(o(a.plugins,function(r){return r.execCommand&&r.execCommand(e,t,n)?(a.onExecCommand.dispatch(a,e,t,n,i),l=1,!1):void 0}),l?!0:a.theme&&a.theme.execCommand&&a.theme.execCommand(e,t,n)?(a.onExecCommand.dispatch(a,e,t,n,i),!0):a.editorCommands.execCommand(e,t,n)?(a.onExecCommand.dispatch(a,e,t,n,i),!0):(a.getDoc().execCommand(e,t,n),a.onExecCommand.dispatch(a,e,t,n,i),void 0))},queryCommandState:function(e){var t,n,i=this;if(!i._isHidden()){if((t=i.queryStateCommands[e])&&(n=t.func.call(t.scope),n!==!0))return n;if(t=i.editorCommands.queryCommandState(e),-1!==t)return t;try{return this.getDoc().queryCommandState(e)}catch(r){}}},queryCommandValue:function(e){var t,n,i=this;if(!i._isHidden()){if((t=i.queryValueCommands[e])&&(n=t.func.call(t.scope),n!==!0))return n;if(t=i.editorCommands.queryCommandValue(e),l(t))return t;try{return this.getDoc().queryCommandValue(e)}catch(r){}}},show:function(){var e=this;t.show(e.getContainer()),t.hide(e.id),e.load()},hide:function(){var e=this,n=e.getDoc();a&&n&&n.execCommand("SelectAll"),e.save(),t.hide(e.getContainer()),t.setStyle(e.id,"display",e.orgDisplay)},isHidden:function(){return!t.isHidden(this.id)},setProgressState:function(e,t,n){return this.onSetProgressState.dispatch(this,e,t,n),e},load:function(e){var t,n=this,i=n.getElement();return i?(e=e||{},e.load=!0,t=n.setContent(l(i.value)?i.value:i.innerHTML,e),e.element=i,e.no_events||n.onLoadContent.dispatch(n,e),e.element=i=null,t):void 0},save:function(e){var n,i,r=this,s=r.getElement();if(s&&r.initialized)return e=e||{},e.save=!0,e.no_events||(r.undoManager.typing=!1,r.undoManager.add()),e.element=s,n=e.content=r.getContent(e),e.no_events||r.onSaveContent.dispatch(r,e),n=e.content,/TEXTAREA|INPUT/i.test(s.nodeName)?s.value=n:(s.innerHTML=n,(i=t.getParent(r.id,"form"))&&o(i.elements,function(e){return e.name==r.id?(e.value=n,!1):void 0})),e.element=s=null,n},setContent:function(t,n){var i,r=this,o=r.getBody();return n=n||{},n.format=n.format||"html",n.set=!0,n.content=t,n.no_events||r.onBeforeSetContent.dispatch(r,n),t=n.content,e.isIE||0!==t.length&&!/^\s+$/.test(t)?("raw"!==n.format&&(t=new e.html.Serializer({},r.schema).serialize(r.parser.parse(t))),n.content=e.trim(t),r.dom.setHTML(o,n.content),n.no_events||r.onSetContent.dispatch(r,n),r.selection.normalize(),n.content):(i=r.settings.forced_root_block,t=i?"<"+i+'><br data-mce-bogus="1"></'+i+">":'<br data-mce-bogus="1">',o.innerHTML=t,r.selection.select(o,!0),r.selection.collapse(!0),void 0)},getContent:function(t){var n,i=this;return t=t||{},t.format=t.format||"html",t.get=!0,t.no_events||i.onBeforeGetContent.dispatch(i,t),n="raw"==t.format?i.getBody().innerHTML:i.serializer.serialize(i.getBody(),t),t.content=e.trim(n),t.no_events||i.onGetContent.dispatch(i,t),t.content},isDirty:function(){var t=this;return e.trim(t.startContent)!=e.trim(t.getContent({format:"raw",no_events:1}))&&!t.isNotDirty},getContainer:function(){var e=this;return e.container||(e.container=t.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return t.get(this.settings.content_element||this.id)},getWin:function(){var e,n=this;return n.contentWindow||(e=t.get(n.id+"_ifr"),e&&(n.contentWindow=e.contentWindow)),n.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")?e:r.relative_urls?i.documentBaseURI.toRelative(e):e=i.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var t=this,n=t.settings;e=e||t.getBody(),l(t.hasVisual)||(t.hasVisual=n.visual),o(t.dom.select("table,a",e),function(e){var i;switch(e.nodeName){case"TABLE":return i=t.dom.getAttrib(e,"border"),i&&"0"!=i||(t.hasVisual?t.dom.addClass(e,n.visual_table_class):t.dom.removeClass(e,n.visual_table_class)),void 0;case"A":return i=t.dom.getAttrib(e,"name"),i&&(t.hasVisual?t.dom.addClass(e,"mceItemAnchor"):t.dom.removeClass(e,"mceItemAnchor")),void 0}}),t.onVisualAid.dispatch(t,e,t.hasVisual)},remove:function(){var n=this,i=n.getContainer();n.removed=1,n.hide(),n.execCallback("remove_instance_callback",n),n.onRemove.dispatch(n),n.onExecCommand.listeners=[],e.remove(n),t.remove(i)},destroy:function(t){var i=this;i.destroyed||(t||(e.removeUnload(i.destroy),tinyMCE.onBeforeUnload.remove(i._beforeUnload),i.theme&&i.theme.destroy&&i.theme.destroy(),i.controlManager.destroy(),i.selection.destroy(),i.dom.destroy(),i.settings.content_editable||(n.clear(i.getWin()),n.clear(i.getDoc())),n.clear(i.getBody()),n.clear(i.formElement)),i.formElement&&(i.formElement.submit=i.formElement._mceOldSubmit,i.formElement._mceOldSubmit=null),i.contentAreaContainer=i.formElement=i.container=i.settings.content_element=i.bodyElement=i.contentDocument=i.contentWindow=null,i.selection&&(i.selection=i.selection.win=i.selection.dom=i.selection.dom.doc=null),i.destroyed=1)
},_addEvents:function(){function i(e,t){e.type,f.removed||f.onEvent.dispatch(f,e,t)!==!1&&f[g[e.fakeType||e.type]].dispatch(f,e,t)}function r(){var e=this,t=e.getDoc(),n=e.settings;if(s&&!n.readonly){e._refreshContentEditable();try{t.execCommand("styleWithCSS",0,!1)}catch(i){if(!e._isHidden())try{t.execCommand("useCSS",0,!0)}catch(i){}}if(!n.table_inline_editing)try{t.execCommand("enableInlineTableEditing",!1,!1)}catch(i){}if(!n.object_resizing)try{t.execCommand("enableObjectResizing",!1,!1)}catch(i){}}}function a(t){var n=null;return t.altKey||t.ctrlKey||t.metaKey?(o(f.shortcuts,function(i){return e.isMac&&i.ctrl!=t.metaKey||!e.isMac&&i.ctrl!=t.ctrlKey||i.alt!=t.altKey||i.shift!=t.shiftKey?void 0:t.keyCode==i.keyCode||t.charCode&&t.charCode==i.charCode?(n=i,!1):void 0}),n):n}function l(){f.undoManager.typing=!1,f.undoManager.add()}function c(){var e=f.dom.getAttribs(f.selection.getStart().cloneNode(!1));return function(){var t=f.selection.getStart();t!==f.getBody()&&(f.dom.setAttrib(t,"style",null),o(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function u(){var e=f.selection;return!e.isCollapsed()&&e.getStart()!=e.getEnd()}var d,f=this,p=f.settings,m=f.dom,g={mouseup:"onMouseUp",mousedown:"onMouseDown",click:"onClick",keyup:"onKeyUp",keydown:"onKeyDown",keypress:"onKeyPress",submit:"onSubmit",reset:"onReset",contextmenu:"onContextMenu",dblclick:"onDblClick",paste:"onPaste"};if(o(g,function(e,n){switch(n){case"contextmenu":m.bind(f.getDoc(),n,i);break;case"paste":m.bind(f.getBody(),n,function(e){i(e)});break;case"submit":case"reset":m.bind(f.getElement().form||t.getParent(f.id,"form"),n,i);break;default:m.bind(p.content_editable?f.getBody():f.getDoc(),n,i)}}),m.bind(p.content_editable?f.getBody():s?f.getDoc():f.getWin(),"focus",function(){f.focus(!0)}),e.isGecko&&m.bind(f.getDoc(),"DOMNodeInserted",function(e){var t;e=e.target,1===e.nodeType&&"IMG"===e.nodeName&&(t=e.getAttribute("data-mce-src"))&&(e.src=f.documentBaseURI.toAbsolute(t))}),s&&(f.onBeforeExecCommand.add(r),f.onMouseDown.add(r)),f.onMouseUp.add(f.nodeChanged),f.onKeyUp.add(function(t,n){var i=n.keyCode;(i>=33&&36>=i||i>=37&&40>=i||13==i||45==i||46==i||8==i||e.isMac&&(91==i||93==i)||n.ctrlKey)&&f.nodeChanged()}),f.onKeyDown.add(function(e,t){if(t.keyCode==h.BACKSPACE){var n=e.selection.getRng();if(n.collapsed){for(var i=n.startContainer,r=n.startOffset;i&&i.nodeType&&1!=i.nodeType&&i.parentNode;)i=i.parentNode;i&&i.parentNode&&"BLOCKQUOTE"===i.parentNode.tagName&&i.parentNode.firstChild==i&&0==r&&(e.formatter.toggle("blockquote",null,i.parentNode),n.setStart(i,0),n.setEnd(i,0),e.selection.setRng(n),e.selection.collapse(!1))}}}),f.onReset.add(function(){f.setContent(f.startContent,{format:"raw"})}),p.custom_shortcuts){for(p.custom_undo_redo_keyboard_shortcuts&&(f.addShortcut("ctrl+z",f.getLang("undo_desc"),"Undo"),f.addShortcut("ctrl+y",f.getLang("redo_desc"),"Redo")),f.addShortcut("ctrl+b",f.getLang("bold_desc"),"Bold"),f.addShortcut("ctrl+i",f.getLang("italic_desc"),"Italic"),f.addShortcut("ctrl+u",f.getLang("underline_desc"),"Underline"),d=1;6>=d;d++)f.addShortcut("ctrl+"+d,"",["FormatBlock",!1,"h"+d]);f.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),f.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),f.addShortcut("ctrl+9","",["FormatBlock",!1,"address"]),f.onKeyUp.add(function(e,t){var i=a(t);return i?n.cancel(t):void 0}),f.onKeyPress.add(function(e,t){var i=a(t);return i?n.cancel(t):void 0}),f.onKeyDown.add(function(e,t){var i=a(t);return i?(i.func.call(i.scope),n.cancel(t)):void 0})}e.isIE&&m.bind(f.getDoc(),"controlselect",function(e){var t,i=f.resizeInfo;e=e.target,"IMG"===e.nodeName&&(i&&m.unbind(i.node,i.ev,i.cb),m.hasClass(e,"mceItemNoResize")?(ev="resizestart",t=m.bind(e,"resizestart",n.cancel,n)):(ev="resizeend",t=m.bind(e,ev,function(e){var t;e=e.target,(t=m.getStyle(e,"width"))&&(m.setAttrib(e,"width",t.replace(/[^0-9%]+/g,"")),m.setStyle(e,"width","")),(t=m.getStyle(e,"height"))&&(m.setAttrib(e,"height",t.replace(/[^0-9%]+/g,"")),m.setStyle(e,"height",""))})),i=f.resizeInfo={node:e,ev:ev,cb:t})}),e.isOpera&&f.onClick.add(function(e,t){n.prevent(t)}),p.custom_undo_redo&&(m.bind(f.getDoc(),"focusout",function(){!f.removed&&f.undoManager.typing&&l()}),f.dom.bind(f.dom.getRoot(),"dragend",function(){l()}),f.onKeyUp.add(function(e,t){var n=t.keyCode;(n>=33&&36>=n||n>=37&&40>=n||13==n||45==n||t.ctrlKey)&&l()}),f.onKeyDown.add(function(t,i){var r,o=i.keyCode;return 8==o&&(r=f.getDoc().selection,r&&r.createRange&&r.createRange().item)?(f.undoManager.beforeChange(),t.dom.remove(r.createRange().item(0)),l(),n.cancel(i)):o>=33&&36>=o||o>=37&&40>=o||13==o||45==o?(e.isIE&&13==o&&f.undoManager.beforeChange(),f.undoManager.typing&&l(),void 0):((16>o||o>20)&&224!=o&&91!=o&&!f.undoManager.typing&&(f.undoManager.beforeChange(),f.undoManager.typing=!0,f.undoManager.add()),void 0)}),f.onMouseDown.add(function(){f.undoManager.typing&&l()})),e.isGecko&&(f.onKeyPress.add(function(e,t){var i;return 8!=t.keyCode&&46!=t.keyCode||!u()?void 0:(i=c(),f.getDoc().execCommand("delete",!1,null),i(),n.cancel(t))}),f.dom.bind(f.getDoc(),"cut",function(){var e;u()&&(e=c(),f.onKeyUp.addToTop(n.cancel,n),setTimeout(function(){e(),f.onKeyUp.remove(n.cancel,n)},0))}))},_refreshContentEditable:function(){var e,t,n=this;n._isHidden()&&(e=n.getBody(),t=e.parentNode,t.removeChild(e),t.appendChild(e),e.focus())},_isHidden:function(){var e;return s?(e=this.selection.getSel(),!e||!e.rangeCount||0==e.rangeCount):0}})}(tinymce),function(e){var t,n=e.each,i=!0,r=!1;e.EditorCommands=function(o){function s(e,t,n){var o;return e=e.toLowerCase(),(o=y.exec[e])?(o(e,t,n),i):r}function a(e){var t;return e=e.toLowerCase(),(t=y.state[e])?t(e):-1}function l(e){var t;return e=e.toLowerCase(),(t=y.value[e])?t(e):r}function c(e,t){t=t||"exec",n(e,function(e,i){n(i.toLowerCase().split(","),function(n){y[t][n]=e})})}function u(e,n,i){return n===t&&(n=r),i===t&&(i=null),o.getDoc().execCommand(e,n,i)}function d(e){return _.match(e)}function h(e,n){_.toggle(e,n?{value:n}:t)}function f(e){m=v.getBookmark(e)}function p(){v.moveToBookmark(m)}var m,g=o.dom,v=o.selection,y={state:{},exec:{},value:{}},b=o.settings,_=o.formatter;e.extend(this,{execCommand:s,queryCommandState:a,queryCommandValue:l,addCommands:c}),c({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){o.undoManager.add()},"Cut,Copy,Paste":function(t){var n,r=o.getDoc();try{u(t)}catch(s){n=i}(n||!r.queryCommandSupported(t))&&(e.isGecko?o.windowManager.confirm(o.getLang("clipboard_msg"),function(e){e&&open("https://web.archive.org/web/20140621124411/http://www.mozilla.org/editor/midasdemo/securityprefs.html","_blank")}):o.windowManager.alert(o.getLang("clipboard_no_support")))},unlink:function(e){v.isCollapsed()&&v.select(v.getNode()),u(e),v.collapse(r)},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t=e.substring(7);n("left,center,right,full".split(","),function(e){t!=e&&_.remove("align"+e)}),h("align"+t),s("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;u(e),t=g.getParent(v.getNode(),"ol,ul"),t&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(f(),g.split(n,t),p()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){h(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){h(e,n)},FontSize:function(t,n,i){var r,o;i>=1&&7>=i&&(o=e.explode(b.font_size_style_values),r=e.explode(b.font_size_classes),i=r?r[i-1]||i:o[i-1]||i),h(t,i)},RemoveFormat:function(e){_.remove(e)},mceBlockQuote:function(){h("blockquote")},FormatBlock:function(e,t,n){return h(n||"p")},mceCleanup:function(){var e=v.getBookmark();o.setContent(o.getContent({cleanup:i}),{cleanup:i}),v.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var r=n||v.getNode();r!=o.getBody()&&(f(),o.dom.remove(r,i),p())},mceSelectNodeDepth:function(e,t,n){var i=0;g.getParent(v.getNode(),function(e){return 1==e.nodeType&&i++==n?(v.select(e),r):void 0},o.getBody())},mceSelectNode:function(e,t,n){v.select(n)},mceInsertContent:function(t,n,i){var r,s,a,l,c,u,d,h,f,p,m,y,b,_;if(r=o.parser,s=new e.html.Serializer({},o.schema),b='<span id="mce_marker" data-mce-type="bookmark">﻿</span>',u={content:i,format:"html"},v.onBeforeSetContent.dispatch(v,u),i=u.content,-1==i.indexOf("{$caret}")&&(i+="{$caret}"),i=i.replace(/\{\$caret\}/,b),v.isCollapsed()||o.getDoc().execCommand("Delete",!1,null),a=v.getNode(),u={context:a.nodeName.toLowerCase()},c=r.parse(i,u),m=c.lastChild,"mce_marker"==m.attr("id"))for(d=m,m=m.prev;m;m=m.walk(!0))if(3==m.type||!g.isBlock(m.name)){m.parent.insert(d,m,"br"===m.name);break}if(u.invalid){for(v.setContent(b),a=o.selection.getNode(),l=o.getBody(),9==a.nodeType?a=m=l:m=a;m!==l;)a=m,m=m.parentNode;i=a==l?l.innerHTML:g.getOuterHTML(a),i=s.serialize(r.parse(i.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return s.serialize(c)}))),a==l?g.setHTML(l,i):g.setOuterHTML(a,i)}else i=s.serialize(c),m=a.firstChild,y=a.lastChild,!m||m===y&&"BR"===m.nodeName?g.setHTML(a,i):v.setContent(i);d=g.get("mce_marker"),h=g.getRect(d),f=g.getViewPort(o.getWin()),(h.y+h.h>f.y+f.h||h.y<f.y||h.x>f.x+f.w||h.x<f.x)&&(_=e.isIE?o.getDoc().documentElement:o.getBody(),_.scrollLeft=h.x,_.scrollTop=h.y-f.h+25),p=g.createRng(),m=d.previousSibling,m&&3==m.nodeType?p.setStart(m,m.nodeValue.length):(p.setStartBefore(d),p.setEndBefore(d)),g.remove(d),v.setRng(p),v.onSetContent.dispatch(v,u),o.addVisual()},mceInsertRawHTML:function(e,t,n){v.setContent("tiny_mce_marker"),o.setContent(o.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceSetContent:function(e,t,n){o.setContent(n)},"Indent,Outdent":function(e){var t,i,r;t=b.indentation,i=/[a-z%]+$/i.exec(t),t=parseInt(t),a("InsertUnorderedList")||a("InsertOrderedList")?u(e):n(v.getSelectedBlocks(),function(n){"outdent"==e?(r=Math.max(0,parseInt(n.style.paddingLeft||0)-t),g.setStyle(n,"paddingLeft",r?r+i:"")):g.setStyle(n,"paddingLeft",parseInt(n.style.paddingLeft||0)+t+i)})},mceRepaint:function(){if(e.isGecko)try{f(i),v.getSel()&&v.getSel().selectAllChildren(o.getBody()),v.collapse(i),p()}catch(t){}},mceToggleFormat:function(e,t,n){_.toggle(n)},InsertHorizontalRule:function(){o.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){o.hasVisual=!o.hasVisual,o.addVisual()},mceReplaceContent:function(e,t,n){o.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,v.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;"string"==typeof n&&(n={href:n}),i=g.getParent(v.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||_.remove("link"),n.href&&_.apply("link",n,i)},selectAll:function(){var e=g.getRoot(),t=g.createRng();t.setStart(e,0),t.setEnd(e,e.childNodes.length),o.selection.setRng(t)}}),c({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(t){var n="align"+t.substring(7),r=v.isCollapsed()?[v.getNode()]:v.getSelectedBlocks(),o=e.map(r,function(e){return!!_.matchNode(e,n)});return-1!==e.inArray(o,i)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return d(e)},mceBlockQuote:function(){return d("blockquote")},Outdent:function(){var e;if(b.inline_styles){if((e=g.getParent(v.getStart(),g.isBlock))&&parseInt(e.style.paddingLeft)>0)return i;if((e=g.getParent(v.getEnd(),g.isBlock))&&parseInt(e.style.paddingLeft)>0)return i}return a("InsertUnorderedList")||a("InsertOrderedList")||!b.inline_styles&&!!g.getParent(v.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){return g.getParent(v.getNode(),"insertunorderedlist"==e?"UL":"OL")}},"state"),c({"FontSize,FontName":function(e){var t,n=0;return(t=g.getParent(v.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),b.custom_undo_redo&&c({Undo:function(){o.undoManager.undo()},Redo:function(){o.undoManager.redo()}})}}(tinymce),function(e){var t=e.util.Dispatcher;e.UndoManager=function(n){function i(){return e.trim(n.getContent({format:"raw",no_events:1}))}var r,o,s=0,a=[];return r={typing:!1,onAdd:new t(r),onUndo:new t(r),onRedo:new t(r),beforeChange:function(){o=n.selection.getBookmark(2,!0)},add:function(e){var t,l,c=n.settings;if(e=e||{},e.content=i(),l=a[s],l&&l.content==e.content)return null;if(a[s]&&(a[s].beforeBookmark=o),c.custom_undo_redo_levels&&a.length>c.custom_undo_redo_levels){for(t=0;t<a.length-1;t++)a[t]=a[t+1];a.length--,s=a.length}return e.bookmark=n.selection.getBookmark(2,!0),s<a.length-1&&(a.length=s+1),a.push(e),s=a.length-1,r.onAdd.dispatch(r,e),n.isNotDirty=0,e},undo:function(){var e;return r.typing&&(r.add(),r.typing=!1),s>0&&(e=a[--s],n.setContent(e.content,{format:"raw"}),n.selection.moveToBookmark(e.beforeBookmark),r.onUndo.dispatch(r,e)),e},redo:function(){var e;return s<a.length-1&&(e=a[++s],n.setContent(e.content,{format:"raw"}),n.selection.moveToBookmark(e.bookmark),r.onRedo.dispatch(r,e)),e},clear:function(){a=[],s=0,r.typing=!1},hasUndo:function(){return s>0||this.typing},hasRedo:function(){return s<a.length-1&&!this.typing}}}}(tinymce),function(e){function t(e){var t,n,i;do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(e.nodeName)&&(t?(n=e.cloneNode(!1),n.appendChild(t),t=n):t=i=e.cloneNode(!1),t.removeAttribute("id"));while(e=e.parentNode);return t?{wrapper:t,inner:i}:void 0}function n(e,t){var n=t.ownerDocument.createRange();return n.setStart(e.endContainer,e.endOffset),n.setEndAfter(t),0==n.cloneContents().textContent.length}function i(e,t,n){var i,r;return t.isEmpty(n)?(i=t.getParent(n,"ul,ol"),t.getParent(i.parentNode,"ul,ol")||(t.split(i,n),r=t.create("p",0,'<br data-mce-bogus="1" />'),t.replace(r,n),e.select(r,1)),c):l}var r=e.dom.Event,o=e.isIE,s=e.isGecko,a=e.isOpera,l=(e.each,e.extend,!0),c=!1;e.create("tinymce.ForceBlocks",{ForceBlocks:function(e){var t,n=this,i=e.settings;n.editor=e,n.dom=e.dom,t=(i.forced_root_block||"p").toLowerCase(),i.element=t.toUpperCase(),e.onPreInit.add(n.setup,n)},setup:function(){function n(){var e,t,n,i,r,o,s,a=h.getStart(),l=c.getBody(),p=-16777215;if(a&&1===a.nodeType){for(;a!=l;){if(f[a.nodeName])return;a=a.parentNode}for(e=h.getRng(),e.setStart?(t=e.startContainer,n=e.startOffset,i=e.endContainer,r=e.endOffset):(e.item&&(e=c.getDoc().body.createTextRange(),e.moveToElementText(e.item(0))),tmpRng=e.duplicate(),tmpRng.collapse(!0),n=-1*tmpRng.move("character",p),tmpRng.collapsed||(tmpRng=e.duplicate(),tmpRng.collapse(!1),r=-1*tmpRng.move("character",p)-n)),a=l.firstChild;a;a)3===a.nodeType||1==a.nodeType&&!f[a.nodeName]?(o||(o=d.create(u.forced_root_block),a.parentNode.insertBefore(o,a)),s=a,a=a.nextSibling,o.appendChild(s)):(o=null,a=a.nextSibling);if(e.setStart)e.setStart(t,n),e.setEnd(i,r),h.setRng(e);else try{e=c.getDoc().body.createTextRange(),e.moveToElementText(l),e.collapse(!0),e.moveStart("character",n),r>0&&e.moveEnd("character",r),e.select()}catch(m){}c.nodeChanged()}}function i(e){var t,n,i=h.getRng(),r=d.create("div",null," "),o=d.getViewPort(e.getWin()).h;i.insertNode(t=d.create("br")),i.setStartAfter(t),i.setEndAfter(t),h.setRng(i),h.getSel().focusNode==t.previousSibling&&(h.select(d.insertAfter(d.doc.createTextNode(" "),t)),h.collapse(l)),d.insertAfter(r,t),n=d.getPos(r).y,d.remove(r),n>o&&e.getWin().scrollTo(0,n)}var a=this,c=a.editor,u=c.settings,d=c.dom,h=c.selection,f=c.schema.getBlockElements();u.forced_root_block&&(c.onKeyUp.add(n),c.onClick.add(n)),u.force_br_newlines&&o&&c.onKeyPress.add(function(e,t){var n;return 13==t.keyCode&&"LI"!=h.getNode().nodeName?(h.setContent('<br id="__" /> ',{format:"raw"}),n=d.get("__"),n.removeAttribute("id"),h.select(n),h.collapse(),r.cancel(t)):void 0}),u.force_p_newlines&&(o?(e.addUnload(function(){a._previousFormats=0}),c.onKeyPress.add(function(e,n){a._previousFormats=0,13==n.keyCode&&!n.shiftKey&&e.selection.isCollapsed()&&u.keep_styles&&(a._previousFormats=t(e.selection.getStart()))}),c.onKeyUp.add(function(e,t){if(13==t.keyCode&&!t.shiftKey){var n=e.selection.getStart(),i=a._previousFormats;!n.hasChildNodes()&&i&&(n=d.getParent(n,d.isBlock),n&&"LI"!=n.nodeName&&(n.innerHTML="",a._previousFormats?(n.appendChild(i.wrapper),i.inner.innerHTML="﻿"):n.innerHTML="﻿",h.select(n,1),h.collapse(!0),e.getDoc().execCommand("Delete",!1,null),a._previousFormats=0))}})):c.onKeyPress.add(function(e,t){13!=t.keyCode||t.shiftKey||a.insertPara(t)||r.cancel(t)}),s&&c.onKeyDown.add(function(e,t){8!=t.keyCode&&46!=t.keyCode||t.shiftKey||a.backspaceDelete(t,8==t.keyCode)})),e.isWebKit&&c.onKeyPress.add(function(e,t){13==t.keyCode&&(t.shiftKey||u.force_br_newlines&&!d.getParent(h.getNode(),"h1,h2,h3,h4,h5,h6,ol,ul"))&&(i(e),r.cancel(t))}),o&&"P"!=u.element&&(c.onKeyPress.add(function(){a.lastElm=h.getNode().nodeName}),c.onKeyUp.add(function(e,t){var n,i=h.getNode(),r=e.getBody();1===r.childNodes.length&&"P"==i.nodeName?(i=d.rename(i,u.element),h.select(i),h.collapse(),e.nodeChanged()):13!=t.keyCode||t.shiftKey||"P"==a.lastElm||(n=d.getParent(i,"p"),n&&(d.rename(n,u.element),e.nodeChanged()))}))},getParentBlock:function(e){var t=this.dom;return t.getParent(e,t.isBlock)},insertPara:function(){function e(e,t){var n,i,r,o=[];if(e.innerHTML="",T.keep_styles){i=t;do/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U)$/.test(i.nodeName)&&(n=i.cloneNode(c),S.setAttrib(n,"id",""),o.push(n));while(i=i.parentNode)}if(o.length>0){for(r=o.length-1,n=e;r>=0;r--)n=n.appendChild(o[r]);return o[0].innerHTML=a?" ":"<br />",o[0]}e.innerHTML=a?" ":"<br />"}var t,r,o,s,u,d,h,f,p,m,g,v,y,b,_,w,x,C=this,k=C.editor,S=k.dom,E=k.getDoc(),T=k.settings,N=k.selection.getSel(),A=N.getRangeAt(0),M=E.body,D=S.getViewPort(k.getWin());if(k.undoManager.beforeChange(),t=E.createRange(),t.setStart(N.anchorNode,N.anchorOffset),t.collapse(l),r=E.createRange(),r.setStart(N.focusNode,N.focusOffset),r.collapse(l),o=t.compareBoundaryPoints(t.START_TO_END,r)<0,s=o?N.anchorNode:N.focusNode,u=o?N.anchorOffset:N.focusOffset,d=o?N.focusNode:N.anchorNode,h=o?N.focusOffset:N.anchorOffset,s===d&&/^(TD|TH)$/.test(s.nodeName))return"BR"==s.firstChild.nodeName&&S.remove(s.firstChild),0==s.childNodes.length?(k.dom.add(s,T.element,null,"<br />"),v=k.dom.add(s,T.element,null,"<br />")):(_=s.innerHTML,s.innerHTML="",k.dom.add(s,T.element,null,_),v=k.dom.add(s,T.element,null,"<br />")),A=E.createRange(),A.selectNodeContents(v),A.collapse(1),k.selection.setRng(A),c;if(s==M&&d==M&&M.firstChild&&k.dom.isBlock(M.firstChild)&&(s=d=s.firstChild,u=h=0,t=E.createRange(),t.setStart(s,0),r=E.createRange(),r.setStart(d,0)),E.body.hasChildNodes()||E.body.appendChild(S.create("br")),s="HTML"==s.nodeName?E.body:s,s="BODY"==s.nodeName?s.firstChild:s,d="HTML"==d.nodeName?E.body:d,d="BODY"==d.nodeName?d.firstChild:d,f=C.getParentBlock(s),p=C.getParentBlock(d),m=f?f.nodeName:T.element,_=C.dom.getParent(f,"li,pre"))return"LI"==_.nodeName?i(k.selection,C.dom,_):l;f&&("CAPTION"==f.nodeName||/absolute|relative|fixed/gi.test(S.getStyle(f,"position",1)))&&(m=T.element,f=null),p&&("CAPTION"==p.nodeName||/absolute|relative|fixed/gi.test(S.getStyle(f,"position",1)))&&(m=T.element,p=null),(/(TD|TABLE|TH|CAPTION)/.test(m)||f&&"DIV"==m&&/left|right/gi.test(S.getStyle(f,"float",1)))&&(m=T.element,f=p=null),g=f&&f.nodeName==m?f.cloneNode(0):k.dom.create(m),v=p&&p.nodeName==m?p.cloneNode(0):k.dom.create(m),v.removeAttribute("id"),/^(H[1-6])$/.test(m)&&n(A,f)&&(v=k.dom.create(T.element)),_=y=s;do{if(_==M||9==_.nodeType||C.dom.isBlock(_)||/(TD|TABLE|TH|CAPTION)/.test(_.nodeName))break;y=_}while(_=_.previousSibling?_.previousSibling:_.parentNode);_=b=d;do{if(_==M||9==_.nodeType||C.dom.isBlock(_)||/(TD|TABLE|TH|CAPTION)/.test(_.nodeName))break;b=_}while(_=_.nextSibling?_.nextSibling:_.parentNode);y.nodeName==m?t.setStart(y,0):t.setStartBefore(y),t.setEnd(s,u),g.appendChild(t.cloneContents()||E.createTextNode(""));try{r.setEndAfter(b)}catch(L){}return r.setStart(d,h),v.appendChild(r.cloneContents()||E.createTextNode("")),A=E.createRange(),y.previousSibling||y.parentNode.nodeName!=m?t.startContainer.nodeName==m&&0==t.startOffset?A.setStartBefore(t.startContainer):A.setStart(t.startContainer,t.startOffset):A.setStartBefore(y.parentNode),b.nextSibling||b.parentNode.nodeName!=m?A.setEnd(r.endContainer,r.endOffset):A.setEndAfter(b.parentNode),A.deleteContents(),a&&k.getWin().scrollTo(0,D.y),g.firstChild&&g.firstChild.nodeName==m&&(g.innerHTML=g.firstChild.innerHTML),v.firstChild&&v.firstChild.nodeName==m&&(v.innerHTML=v.firstChild.innerHTML),S.isEmpty(g)&&e(g,s),S.isEmpty(v)&&(x=e(v,d)),a&&parseFloat(opera.version())<9.5?(A.insertNode(g),A.insertNode(v)):(A.insertNode(v),A.insertNode(g)),v.normalize(),g.normalize(),k.selection.select(v,!0),k.selection.collapse(!0),w=k.dom.getPos(v).y,(w<D.y||w+25>D.y+D.h)&&k.getWin().scrollTo(0,w<D.y?w:w-D.h+25),k.undoManager.add(),c},backspaceDelete:function(t,n){var i,i,o,s,a,l=this,u=l.editor,d=u.getBody(),h=(u.dom,u.selection),f=h.getRng(),p=f.startContainer;if(!n&&f.collapsed&&1==p.nodeType&&f.startOffset==p.childNodes.length)for(a=new e.dom.TreeWalker(p.lastChild,p),i=p.lastChild;i;i=a.prev())if(3==i.nodeType)return f.setStart(i,i.nodeValue.length),f.collapse(!0),h.setRng(f),void 0;if(p&&u.dom.isBlock(p)&&!/^(TD|TH)$/.test(p.nodeName)&&n&&(0==p.childNodes.length||1==p.childNodes.length&&"BR"==p.firstChild.nodeName)){for(i=p;(i=i.previousSibling)&&!u.dom.isBlock(i););if(i){if(p!=d.firstChild){for(o=u.dom.doc.createTreeWalker(i,NodeFilter.SHOW_TEXT,null,c);s=o.nextNode();)i=s;f=u.getDoc().createRange(),f.setStart(i,i.nodeValue?i.nodeValue.length:0),f.setEnd(i,i.nodeValue?i.nodeValue.length:0),h.setRng(f),u.dom.remove(p)}return r.cancel(t)}}}})}(tinymce),function(e){var t=(e.DOM,e.dom.Event),n=e.each,i=e.extend;e.create("tinymce.ControlManager",{ControlManager:function(t,i){var r=this;i=i||{},r.editor=t,r.controls={},r.onAdd=new e.util.Dispatcher(r),r.onPostRender=new e.util.Dispatcher(r),r.prefix=i.prefix||t.id+"_",r._cls={},r.onPostRender.add(function(){n(r.controls,function(e){e.postRender()})})},get:function(e){return this.controls[this.prefix+e]||this.controls[e]},setActive:function(e,t){var n=null;return(n=this.get(e))&&n.setActive(t),n},setDisabled:function(e,t){var n=null;return(n=this.get(e))&&n.setDisabled(t),n},add:function(e){var t=this;return e&&(t.controls[e.id]=e,t.onAdd.dispatch(e,t)),e},createControl:function(e){var t,i=this,r=i.editor;switch(n(r.plugins,function(n){return n.createControl&&(t=n.createControl(e,i))?!1:void 0}),e){case"|":case"separator":return i.createSeparator()}return!t&&r.buttons&&(t=r.buttons[e])?i.createButton(e,t):i.add(t)},createDropMenu:function(t,n,r){var o,s,a,l,c=this,u=c.editor;return n=i({"class":"mceDropDown",constrain:u.settings.constrain_menus},n),n["class"]=n["class"]+" "+u.getParam("skin")+"Skin",(a=u.getParam("skin_variant"))&&(n["class"]+=" "+u.getParam("skin")+"Skin"+a.substring(0,1).toUpperCase()+a.substring(1)),t=c.prefix+t,l=r||c._cls.dropmenu||e.ui.DropMenu,o=c.controls[t]=new l(t,n),o.onAddItem.add(function(e,t){var n=t.settings;n.title=u.getLang(n.title,n.title),n.onclick||(n.onclick=function(){n.cmd&&u.execCommand(n.cmd,n.ui||!1,n.value)})}),u.onRemove.add(function(){o.destroy()}),e.isIE&&(o.onShowMenu.add(function(){u.focus(),s=u.selection.getBookmark(1)}),o.onHideMenu.add(function(){s&&(u.selection.moveToBookmark(s),s=0)})),c.add(o)},createListBox:function(n,r,o){function s(t){return t.settings.use_accessible_selects&&!e.isGecko}var a,l,c=this,u=c.editor;return c.get(n)?null:(r.title=u.translate(r.title),r.scope=r.scope||u,r.onselect||(r.onselect=function(e){u.execCommand(r.cmd,r.ui||!1,e||r.value)}),r=i({title:r.title,"class":"mce_"+n,scope:r.scope,control_manager:c},r),n=c.prefix+n,u.settings.use_native_selects||s(u)?a=new e.ui.NativeListBox(n,r):(l=o||c._cls.listbox||e.ui.ListBox,a=new l(n,r,u)),c.controls[n]=a,e.isWebKit&&a.onPostRender.add(function(e,n){t.add(n,"mousedown",function(){u.bookmark=u.selection.getBookmark(1)}),t.add(n,"focus",function(){u.selection.moveToBookmark(u.bookmark),u.bookmark=null})}),a.hideMenu&&u.onMouseDown.add(a.hideMenu,a),c.add(a))},createButton:function(t,n,r){var o,s,a=this,l=a.editor;return a.get(t)?null:(n.title=l.translate(n.title),n.label=l.translate(n.label),n.scope=n.scope||l,n.onclick||n.menu_button||(n.onclick=function(){l.execCommand(n.cmd,n.ui||!1,n.value)}),n=i({title:n.title,"class":"mce_"+t,unavailable_prefix:l.getLang("unavailable",""),scope:n.scope,control_manager:a},n),t=a.prefix+t,n.menu_button?(s=r||a._cls.menubutton||e.ui.MenuButton,o=new s(t,n,l),l.onMouseDown.add(o.hideMenu,o)):(s=a._cls.button||e.ui.Button,o=new s(t,n,l)),a.add(o))},createMenuButton:function(e,t,n){return t=t||{},t.menu_button=1,this.createButton(e,t,n)},createSplitButton:function(t,n,r){var o,s,a=this,l=a.editor;return a.get(t)?null:(n.title=l.translate(n.title),n.scope=n.scope||l,n.onclick||(n.onclick=function(e){l.execCommand(n.cmd,n.ui||!1,e||n.value)}),n.onselect||(n.onselect=function(e){l.execCommand(n.cmd,n.ui||!1,e||n.value)}),n=i({title:n.title,"class":"mce_"+t,scope:n.scope,control_manager:a},n),t=a.prefix+t,s=r||a._cls.splitbutton||e.ui.SplitButton,o=a.add(new s(t,n,l)),l.onMouseDown.add(o.hideMenu,o),o)},createColorSplitButton:function(t,n,r){var o,s,a,l=this,c=l.editor;return l.get(t)?null:(n.title=c.translate(n.title),n.scope=n.scope||c,n.onclick||(n.onclick=function(t){e.isIE&&(a=c.selection.getBookmark(1)),c.execCommand(n.cmd,n.ui||!1,t||n.value)}),n.onselect||(n.onselect=function(e){c.execCommand(n.cmd,n.ui||!1,e||n.value)}),n=i({title:n.title,"class":"mce_"+t,menu_class:c.getParam("skin")+"Skin",scope:n.scope,more_colors_title:c.getLang("more_colors")},n),t=l.prefix+t,s=r||l._cls.colorsplitbutton||e.ui.ColorSplitButton,o=new s(t,n,c),c.onMouseDown.add(o.hideMenu,o),c.onRemove.add(function(){o.destroy()}),e.isIE&&(o.onShowMenu.add(function(){c.focus(),a=c.selection.getBookmark(1)}),o.onHideMenu.add(function(){a&&(c.selection.moveToBookmark(a),a=0)})),l.add(o))},createToolbar:function(t,n,i){var r,o,s=this;return t=s.prefix+t,o=i||s._cls.toolbar||e.ui.Toolbar,r=new o(t,n,s.editor),s.get(t)?null:s.add(r)},createToolbarGroup:function(t,n,i){var r,o,s=this;return t=s.prefix+t,o=i||this._cls.toolbarGroup||e.ui.ToolbarGroup,r=new o(t,n,s.editor),s.get(t)?null:s.add(r)},createSeparator:function(t){var n=t||this._cls.separator||e.ui.Separator;return new n},setControlType:function(e,t){return this._cls[e.toLowerCase()]=t},destroy:function(){n(this.controls,function(e){e.destroy()}),this.controls=null}})}(tinymce),function(e){var t=e.util.Dispatcher,n=e.each,i=e.isIE,r=e.isOpera;e.create("tinymce.WindowManager",{WindowManager:function(e){var n=this;n.editor=e,n.onOpen=new t(n),n.onClose=new t(n),n.params={},n.features={}},open:function(t,o){var s,a,l,c,u=this,d="",h="modal"==u.editor.settings.dialog_type,f=e.DOM.getViewPort();t=t||{},o=o||{},a=r?f.w:screen.width,l=r?f.h:screen.height,t.name=t.name||"mc_"+(new Date).getTime(),t.width=parseInt(t.width||320),t.height=parseInt(t.height||240),t.resizable=!0,t.left=t.left||parseInt(a/2)-t.width/2,t.top=t.top||parseInt(l/2)-t.height/2,o.inline=!1,o.mce_width=t.width,o.mce_height=t.height,o.mce_auto_focus=t.auto_focus,h&&i&&(t.center=!0,t.help=!1,t.dialogWidth=t.width+"px",t.dialogHeight=t.height+"px",t.scroll=t.scrollbars||!1),n(t,function(t,n){e.is(t,"boolean")&&(t=t?"yes":"no"),/^(name|url)$/.test(n)||(d+=i&&h?(d?";":"")+n+":"+t:(d?",":"")+n+"="+t)}),u.features=t,u.params=o,u.onOpen.dispatch(u,t,o),c=t.url||t.file,c=e._addVer(c);try{i&&h?(s=1,window.showModalDialog(c,window,d)):s=window.open(c,t.name,d)}catch(p){}s||alert(u.editor.getLang("popup_blocked"))},close:function(e){e.close(),this.onClose.dispatch(this)},createInstance:function(t,n,i,r,o,s){var a=e.resolve(t);return new a(n,i,r,o,s)},confirm:function(e,t,n,i){i=i||window,t.call(n||this,i.confirm(this._decode(this.editor.getLang(e,e))))},alert:function(e,t,n,i){var r=this;i=i||window,i.alert(r._decode(r.editor.getLang(e,e))),t&&t.call(n||r)},resizeBy:function(e,t,n){n.resizeBy(e,t)},_decode:function(t){return e.DOM.decode(t).replace(/\\n/g,"\n")}})}(tinymce),function(e){e.Formatter=function(t){function n(e,t){return L.getParents(e,t,L.getRoot())}function i(e){return 1===e.nodeType&&("mceinline"===e.face||"mceinline"===e.style.fontFamily)}function r(e){return e?M[e]:M}function o(e,t){e&&("string"!=typeof e?D(e,function(e,t){o(t,e)}):(t=t.length?t:[t],D(t,function(e){e.deep===A&&(e.deep=!e.selector),e.split===A&&(e.split=!e.selector||e.inline),e.remove===A&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),M[e]=t))}function s(n,o,s){function a(e,t){t=t||w,e&&(t.onformat&&t.onformat(e,t,o,s),D(t.styles,function(t,n){L.setStyle(e,n,g(t,o))}),D(t.attributes,function(t,n){L.setAttrib(e,n,g(t,o))}),D(t.classes,function(t){t=g(t,o),L.hasClass(e,t)||L.addClass(e,t)}))}function l(){function e(e,t){var n=new F(t);for(s=n.current();s;s=n.prev())if(s.childNodes.length>1||s==e)return s}var n=t.selection.getRng(),i=n.startContainer,r=n.endContainer;if(i!=r&&0==n.endOffset){var o=e(i,r),a=3==o.nodeType?o.length:o.childNodes.length;n.setEnd(o,a)}return n}function u(t,n,i,r,o){var s,a,l=[],c=-1,u=-1,d=-1;return D(t.childNodes,function(e,t){return"UL"===e.nodeName||"OL"===e.nodeName?(c=t,s=e,!1):void 0}),D(t.childNodes,function(e,t){"SPAN"===e.nodeName&&"bookmark"==L.getAttrib(e,"data-mce-type")&&(e.id==n.id+"_start"?u=t:e.id==n.id+"_end"&&(d=t))}),0>=c||c>u&&d>c?(D(e.grep(t.childNodes),o),0):(a=i.cloneNode(z),D(e.grep(t.childNodes),function(e,t){(c>u&&c>t||u>c&&t>c)&&(l.push(e),e.parentNode.removeChild(e))}),c>u?t.insertBefore(a,s):u>c&&t.insertBefore(a,s.nextSibling),r.push(a),D(l,function(e){a.appendChild(e)}),a)}function d(t,r,s){var l,d,h=[];l=w.inline||w.block,d=L.create(l),a(d),P.walk(t,function(t){function f(t){var g,v=t.nodeName.toLowerCase(),b=t.parentNode.nodeName.toLowerCase();return p(v,"br")?(m=0,w.block&&L.remove(t),void 0):w.wrapper&&c(t,n,o)?(m=0,void 0):w.block&&!w.wrapper&&S(v)?(t=L.rename(t,l),a(t),h.push(t),m=0,void 0):w.selector&&(D(y,function(e){"collapsed"in e&&e.collapsed!==E||L.is(t,e.selector)&&!i(t)&&(a(t,e),g=!0)}),!w.inline||g)?(m=0,void 0):(R(l,v)&&R(b,l)&&(s||3!==t.nodeType||1!==t.nodeValue.length||65279!==t.nodeValue.charCodeAt(0))&&"_mce_caret"!==t.id?(m||(m=d.cloneNode(z),t.parentNode.insertBefore(m,t),h.push(m)),m.appendChild(t)):"li"==v&&r?m=u(t,r,d,h,f):(m=0,D(e.grep(t.childNodes),f),m=0),void 0)}var m;D(t,f)}),w.wrap_links===!1&&D(h,function(t){function n(t){var i,r,o;if("A"===t.nodeName){for(r=d.cloneNode(z),h.push(r),o=e.grep(t.childNodes),i=0;i<o.length;i++)r.appendChild(o[i]);t.appendChild(r)}D(e.grep(t.childNodes),n)}n(t)}),D(h,function(e){function t(e){var t=0;return D(e.childNodes,function(e){v(e)||C(e)||t++}),t}function r(e){var t,n;return D(e.childNodes,function(e){return 1!=e.nodeType||C(e)||i(e)?void 0:(t=e,z)}),t&&f(t,w)&&(n=t.cloneNode(z),a(n),L.replace(n,e,U),L.remove(t,1)),n||e}var s;if(s=t(e),(h.length>1||!O(e))&&0===s)return L.remove(e,1),void 0;if(w.inline||w.wrapper){if(w.exact||1!==s||(e=r(e)),D(y,function(t){D(L.select(t.inline,e),function(e){var n;if(t.wrap_links===!1){n=e.parentNode;do if("A"===n.nodeName)return;while(n=n.parentNode)}_(t,o,e,t.exact?e:null)})}),c(e.parentNode,n,o))return L.remove(e,1),e=0,U;w.merge_with_parents&&L.getParent(e.parentNode,function(t){return c(t,n,o)?(L.remove(e,1),e=0,U):void 0}),e&&w.merge_siblings!==!1&&(e=k(x(e),e),e=k(e,x(e,U)))}})}var h,m,y=r(n),w=y[0],E=I.isCollapsed();if(w)if(s)s.nodeType?(m=L.createRng(),m.setStartBefore(s),m.setEndAfter(s),d(b(m,y),null,!0)):d(s,null,!0);else if(E&&w.inline&&!L.select("td.mceSelected,th.mceSelected").length)T("apply",n,o);else{var A=t.selection.getNode();t.selection.setRng(l()),h=I.getBookmark(),d(b(I.getRng(U),y),h),w.styles&&(w.styles.color||w.styles.textDecoration)&&(e.walk(A,W,"childNodes"),W(A)),I.moveToBookmark(h),N(I.getRng(U)),t.nodeChanged()}}function a(i,o,s){function a(t){var n,i,r;for(n=e.grep(t.childNodes),i=0,r=v.length;r>i&&!_(v[i],o,t,t);i++);if(w.deep)for(i=0,r=n.length;r>i;i++)a(n[i])}function l(e){var t;return D(n(e.parentNode).reverse(),function(e){var n;t||"_start"==e.id||"_end"==e.id||(n=c(e,i,o),n&&n.split!==!1&&(t=e))}),t}function d(e,t,n,i){var r,s,a,l,c,u;if(e){for(u=e.parentNode,r=t.parentNode;r&&r!=u;r=r.parentNode){for(s=r.cloneNode(z),c=0;c<v.length;c++)if(_(v[c],o,s,s)){s=0;break}s&&(a&&s.appendChild(a),l||(l=s),a=s)}!i||w.mixed&&O(e)||(t=L.split(e,t)),a&&(n.parentNode.insertBefore(a,n),l.appendChild(n))}return t}function h(e){return d(l(e),e,e,!0)}function f(e){var t=L.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return C(n)&&(n=n[e?"firstChild":"lastChild"]),L.remove(t,!0),n}function p(e){var n,i;e=b(e,v,U),w.split&&(n=E(e,U),i=E(e),n!=i?(n=y(n,"span",{id:"_start","data-mce-type":"bookmark"}),i=y(i,"span",{id:"_end","data-mce-type":"bookmark"}),h(n),h(i),n=f(U),i=f()):n=i=h(n),e.startContainer=n.parentNode,e.startOffset=B(n),e.endContainer=i.parentNode,e.endOffset=B(i)+1),P.walk(e,function(e){D(e,function(e){a(e),1===e.nodeType&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===q(e.parentNode)&&_({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)
})})}var m,g,v=r(i),w=v[0];return s?(s.nodeType?(g=L.createRng(),g.setStartBefore(s),g.setEndAfter(s),p(g)):p(s),void 0):(I.isCollapsed()&&w.inline&&!L.select("td.mceSelected,th.mceSelected").length?T("remove",i,o):(m=I.getBookmark(),p(I.getRng(U)),I.moveToBookmark(m),w.inline&&u(i,o,I.getStart())&&N(I.getRng(!0)),t.nodeChanged()),e.isWebKit&&t.execCommand("mceCleanup"),void 0)}function l(e,t,n){var i=r(e);!u(e,t,n)||"toggle"in i[0]&&!i[0].toggle?s(e,t,n):a(e,t,n)}function c(e,t,n,i){function o(e,t,r){var o,s,a,l=t[r];if(t.onmatch)return t.onmatch(e,t,r);if(l)if(l.length===A){for(o in l)if(l.hasOwnProperty(o)){if(s="attributes"===r?L.getAttrib(e,o):m(e,o),i&&!s&&!t.exact)return;if((!i||t.exact)&&!p(s,g(l[o],n)))return}}else for(a=0;a<l.length;a++)if("attributes"===r?L.getAttrib(e,l[a]):m(e,l[a]))return t;return t}var s,a,l,c=r(t);if(c&&e)for(a=0;a<c.length;a++)if(s=c[a],f(e,s)&&o(e,s,"attributes")&&o(e,s,"styles")){if(l=s.classes)for(a=0;a<l.length;a++)if(!L.hasClass(e,l[a]))return;return s}}function u(e,t,n){function i(n){return n=L.getParent(n,function(n){return!!c(n,e,t,!0)}),c(n,e,t)}var r;return n?i(n):(n=I.getNode(),i(n)?U:(r=I.getStart(),r!=n&&i(r)?U:z))}function d(e,t){var n,i=[],r={};return n=I.getStart(),L.getParent(n,function(n){var o,s;for(o=0;o<e.length;o++)s=e[o],!r[s]&&c(n,s,t)&&(r[s]=!0,i.push(s))}),i}function h(e){var t,i,o,s,a,l=r(e);if(l)for(t=I.getStart(),i=n(t),s=l.length-1;s>=0;s--){if(a=l[s].selector,!a)return U;for(o=i.length-1;o>=0;o--)if(L.is(i[o],a))return U}return z}function f(e,t){return p(e,t.inline)?U:p(e,t.block)?U:t.selector?L.is(e,t.selector):void 0}function p(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function m(e,t){var n=L.getStyle(e,t);return("color"==t||"backgroundColor"==t)&&(n=L.toHex(n)),"fontWeight"==t&&700==n&&(n="bold"),""+n}function g(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function v(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function y(e,t,n){var i=L.create(t,n);return e.parentNode.insertBefore(i,e),i.appendChild(e),i}function b(e,i,r){function o(e){var t,n,r,o;if(t=n=e?f:g,o=e?"previousSibling":"nextSibling",root=L.getRoot(),3==t.nodeType&&!v(t)&&(e?m>0:y<t.nodeValue.length))return t;for(;;){if(n==root||!i[0].block_expand&&O(n))return n;for(r=n[o];r;r=r[o])if(!C(r)&&!v(r))return n;n=n.parentNode}return t}function s(e,t){for(t===A&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function a(e,n,i){function o(e,t){var n,o,s=e.nodeValue;return"undefined"==typeof t&&(t=i?s.length:0),i?(n=s.lastIndexOf(" ",t),o=s.lastIndexOf(" ",t),n=n>o?n:o,-1===n||r||n++):(n=s.indexOf(" ",t),o=s.indexOf(" ",t),n=-1!==n&&(-1===o||o>n)?n:o),n}var s,a,l,c;if(3===e.nodeType){if(l=o(e,n),-1!==l)return{container:e,offset:l};c=e}for(s=new F(e,L.getParent(e,O)||t.getBody());a=s[i?"prev":"next"]();)if(3===a.nodeType){if(c=a,l=o(a),-1!==l)return{container:a,offset:l}}else if(O(a))break;return c?(n=i?0:c.length,{container:c,offset:n}):void 0}function l(t,r){var o,s,a,l;for(3==t.nodeType&&0==t.nodeValue.length&&t[r]&&(t=t[r]),o=n(t),s=0;s<o.length;s++)for(a=0;a<i.length;a++)if(l=i[a],!("collapsed"in l&&l.collapsed!==e.collapsed)&&L.is(o[s],l.selector))return o[s];return t}function c(e,t){var r;if(i[0].wrapper||(r=L.getParent(e,i[0].block)),r||(r=L.getParent(3==e.nodeType?e.parentNode:e,O)),r&&i[0].wrapper&&(r=n(r,"ul,ol").reverse()[0]||r),!r)for(r=e;r[t]&&!O(r[t])&&(r=r[t],!p(r,"br")););return r||e}var u,d,h,f=e.startContainer,m=e.startOffset,g=e.endContainer,y=e.endOffset;if(1==f.nodeType&&f.hasChildNodes()&&(u=f.childNodes.length-1,f=f.childNodes[m>u?u:m],3==f.nodeType&&(m=0)),1==g.nodeType&&g.hasChildNodes()&&(u=g.childNodes.length-1,g=g.childNodes[y>u?u:y-1],3==g.nodeType&&(y=g.nodeValue.length)),(C(f.parentNode)||C(f))&&(f=C(f)?f:f.parentNode,f=f.nextSibling||f,3==f.nodeType&&(m=0)),(C(g.parentNode)||C(g))&&(g=C(g)?g:g.parentNode,g=g.previousSibling||g,3==g.nodeType&&(y=g.length)),i[0].inline&&(e.collapsed&&(h=a(f,m,!0),h&&(f=h.container,m=h.offset),h=a(g,y),h&&(g=h.container,y=h.offset)),d=s(g,y),d.node)){for(;d.node&&0===d.offset&&d.node.previousSibling;)d=s(d.node.previousSibling);d.node&&d.offset>0&&3===d.node.nodeType&&" "===d.node.nodeValue.charAt(d.offset-1)&&(d.offset>1?(g=d.node,g.splitText(d.offset-1)):d.node.previousSibling)}return(i[0].inline||i[0].block_expand)&&(i[0].inline&&3==f.nodeType&&0!==m||(f=o(!0)),i[0].inline&&3==g.nodeType&&y!==g.nodeValue.length||(g=o())),i[0].selector&&i[0].expand!==z&&!i[0].inline&&(f=l(f,"previousSibling"),g=l(g,"nextSibling")),(i[0].block||i[0].selector)&&(f=c(f,"previousSibling"),g=c(g,"nextSibling"),i[0].block&&(O(f)||(f=o(!0)),O(g)||(g=o()))),1==f.nodeType&&(m=B(f),f=f.parentNode),1==g.nodeType&&(y=B(g)+1,g=g.parentNode),{startContainer:f,startOffset:m,endContainer:g,endOffset:y}}function _(e,t,n,i){var r,o,s;if(!f(n,e))return z;if("all"!=e.remove)for(D(e.styles,function(e,r){e=g(e,t),"number"==typeof r&&(r=e,i=0),(!i||p(m(i,r),e))&&L.setStyle(n,r,""),s=1}),s&&""==L.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),D(e.attributes,function(e,r){var o;if(e=g(e,t),"number"==typeof r&&(r=e,i=0),!i||p(L.getAttrib(i,r),e)){if("class"==r&&(e=L.getAttrib(n,r),e&&(o="",D(e.split(/\s+/),function(e){/mce\w+/.test(e)&&(o+=(o?" ":"")+e)}),o)))return L.setAttrib(n,r,o),void 0;"class"==r&&n.removeAttribute("className"),j.test(r)&&n.removeAttribute("data-mce-"+r),n.removeAttribute(r)}}),D(e.classes,function(e){e=g(e,t),(!i||L.hasClass(i,e))&&L.removeClass(n,e)}),o=L.getAttribs(n),r=0;r<o.length;r++)if(0!==o[r].nodeName.indexOf("_"))return z;return"none"!=e.remove?(w(n,e),U):void 0}function w(t,n){function i(e,t,n){return e=x(e,t,n),!e||"BR"==e.nodeName||O(e)}var r,o=t.parentNode;n.block&&($?o==L.getRoot()&&(n.list_block&&p(t,n.list_block)||D(e.grep(t.childNodes),function(e){R($,e.nodeName.toLowerCase())?r?r.appendChild(e):r=y(e,$):r=0})):O(t)&&!O(o)&&(i(t,z)||i(t.firstChild,U,1)||t.insertBefore(L.create("br"),t.firstChild),i(t,U)||i(t.lastChild,z,1)||t.appendChild(L.create("br")))),n.selector&&n.inline&&!p(n.inline,t)||L.remove(t,1)}function x(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!v(e))return e}function C(e){return e&&1==e.nodeType&&"bookmark"==e.getAttribute("data-mce-type")}function k(t,n){function i(e,t){function n(e){var t={};return D(L.getAttribs(e),function(n){var i=n.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&(t[i]=L.getAttrib(e,i))}),t}function i(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(n=t[i],n===A)return z;if(e[i]!=n)return z;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return z;return U}return e.nodeName!=t.nodeName?z:i(n(e),n(t))?i(L.parseStyle(L.getAttrib(e,"style")),L.parseStyle(L.getAttrib(t,"style")))?U:z:z}function r(e,t){for(o=e;o;o=o[t]){if(3==o.nodeType&&0!==o.nodeValue.length)return e;if(1==o.nodeType&&!C(o))return o}return e}var o,s;if(t&&n&&(t=r(t,"previousSibling"),n=r(n,"nextSibling"),i(t,n))){for(o=t.nextSibling;o&&o!=n;)s=o,o=o.nextSibling,t.appendChild(s);return L.remove(n),D(e.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n}function S(e){return/^(h[1-6]|p|div|pre|address|dl|dt|dd)$/.test(e)}function E(e,n){var i,r,o;return i=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],1==i.nodeType&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[r>o?o:r]),3===i.nodeType&&n&&r>=i.nodeValue.length&&(i=new F(i,t.getBody()).next()||i),3!==i.nodeType||n||0!=r||(i=new F(i,t.getBody()).prev()||i),i}function T(n,i,o){function l(e){var n=L.create("span",{id:v,"data-mce-bogus":!0,style:y?"color:red":""});return e&&n.appendChild(t.getDoc().createTextNode(g)),n}function u(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==g||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function d(e){for(;e;){if(e.id===v)return e;e=e.parentNode}}function h(e){var t;if(e)for(t=new F(e,e),e=t.current();e;e=t.next())if(3===e.nodeType)return e}function f(e,t){var n,i;if(e)i=I.getRng(!0),u(e)?(t!==!1&&(i.setStartBefore(e),i.setEndBefore(e)),L.remove(e)):(n=h(e),n.nodeValue.charAt(0)===H&&(n=n.deleteData(0,1)),L.remove(e,1)),I.setRng(i);else if(e=d(I.getStart()),!e)for(;e=L.get(v);)f(e,!1)}function p(){var e,t,n,a,c,u,f;e=I.getRng(!0),a=e.startOffset,u=e.startContainer,f=u.nodeValue,t=d(I.getStart()),t&&(n=h(t)),f&&a>0&&a<f.length&&/\w/.test(f.charAt(a))&&/\w/.test(f.charAt(a-1))?(c=I.getBookmark(),e.collapse(!0),e=b(e,r(i)),e=P.split(e),s(i,o,e),I.moveToBookmark(c)):(t&&n.nodeValue===g?s(i,o,t):(t=l(!0),n=t.firstChild,e.insertNode(t),a=1,s(i,o,t)),I.setCursorLocation(n,a))}function m(){var e,t,n,s,u,d,h,f,p=I.getRng(!0),m=[];for(e=p.startContainer,t=p.startOffset,u=e,3==e.nodeType&&((t!=e.nodeValue.length||e.nodeValue===g)&&(s=!0),u=u.parentNode);u;){if(c(u,i,o)){d=u;break}u.nextSibling&&(s=!0),m.push(u),u=u.parentNode}if(d)if(s)n=I.getBookmark(),p.collapse(!0),p=b(p,r(i),!0),p=P.split(p),a(i,o,p),I.moveToBookmark(n);else{for(f=l(),u=f,h=m.length-1;h>=0;h--)u.appendChild(m[h].cloneNode(!1)),u=u.firstChild;u.appendChild(L.doc.createTextNode(g)),u=u.firstChild,L.insertAfter(f,d),I.setCursorLocation(u,1)}}var g,v="_mce_caret",y=t.settings.caret_debug;g=e.isGecko?"​":H,self._hasCaretEvents||(t.onBeforeGetContent.addToTop(function(){var e,t=[];if(u(d(I.getStart()),t))for(e=t.length;e--;)L.setAttrib(t[e],"data-mce-bogus","1")}),e.each("onMouseUp onKeyUp".split(" "),function(e){t[e].addToTop(function(){f()})}),t.onKeyDown.addToTop(function(e,t){var n=t.keyCode;(8==n||37==n||39==n)&&f(d(I.getStart()))}),self._hasCaretEvents=!0),"apply"==n?p():m()}function N(e){var t,n,i,r,o=e.startContainer,s=e.startOffset;if(3==o.nodeType&&s>=o.nodeValue.length-1&&(o=o.parentNode,s=B(o)+1),1==o.nodeType)for(i=o.childNodes,o=i[Math.min(s,i.length-1)],t=new F(o),s>i.length-1&&t.next(),n=t.current();n;n=t.next())if(3==n.nodeType&&!v(n))return r=L.create("a",null,H),n.parentNode.insertBefore(r,n),e.setStart(n,0),I.setRng(e),L.remove(r),void 0}var A,M={},D=e.each,L=t.dom,I=t.selection,F=e.dom.TreeWalker,P=new e.dom.RangeUtils(L),R=t.schema.isValidChild,O=L.isBlock,$=t.settings.forced_root_block,B=L.nodeIndex,H="﻿",j=/^(src|href|style)$/,z=!1,U=!0,q=function(e){var n;return t.dom.getParent(e,function(e){return n=t.dom.getStyle(e,"text-decoration"),n&&"none"!==n}),n},W=function(e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=q(e.parentNode),t.dom.getStyle(e,"color")&&n?t.dom.setStyle(e,"text-decoration",n):t.dom.getStyle(e,"textdecoration")===n&&t.dom.setStyle(e,"text-decoration",null))};e.extend(this,{get:r,register:o,apply:s,remove:a,toggle:l,match:u,matchAll:d,matchNode:c,canApply:h})}}(tinymce),tinymce.onAddEditor.add(function(e,t){function n(t,n){e.each(n,function(e,n){e&&s.setStyle(t,n,e)}),s.rename(t,"span")}function i(n,i){s=n.dom,a.convert_fonts_to_spans&&e.each(s.select("font,u,strike",i.node),function(e){r[e.nodeName.toLowerCase()](t.dom,e)})}var r,o,s,a=t.settings;a.inline_styles&&(o=e.explode(a.font_size_legacy_values),r={font:function(e,t){n(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:o[parseInt(t.size)-1]})},u:function(e,t){n(t,{textDecoration:"underline"})},strike:function(e,t){n(t,{textDecoration:"line-through"})}},t.onPreProcess.add(i),t.onSetContent.add(i),t.onInit.add(function(){t.selection.onSetContent.add(i)}))}),function(e){function t(){function t(e){"remove"===e&&this.each(function(e,t){var n=r(t);n&&n.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(e,t){var n=tinyMCE.get(t.id.replace(/_parent$/,""));n&&n.remove()})}function i(e){var i,r=this;if(e!==n)t.call(r),r.each(function(t,n){var i;(i=tinyMCE.get(n.id))&&i.setContent(e)});else if(r.length>0&&(i=tinyMCE.get(r[0].id)))return i.getContent()}function r(e){var t=null;return e&&e.id&&o.tinymce&&(t=tinyMCE.get(e.id)),t}function s(e){return!!(e&&e.length&&o.tinymce&&e.is(":tinymce"))}var a={};e.each(["text","html","val"],function(t,o){var l=a[o]=e.fn[o],c="text"===o;e.fn[o]=function(t){var o=this;if(!s(o))return l.apply(o,arguments);if(t!==n)return i.call(o.filter(":tinymce"),t),l.apply(o.not(":tinymce"),arguments),o;var a="",u=arguments;return(c?o:o.eq(0)).each(function(t,n){var i=r(n);a+=i?c?i.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):i.getContent():l.apply(e(n),u)}),a}}),e.each(["append","prepend"],function(t,i){var o=a[i]=e.fn[i],l="prepend"===i;e.fn[i]=function(e){var t=this;return s(t)?e!==n?(t.filter(":tinymce").each(function(t,n){var i=r(n);i&&i.setContent(l?e+i.getContent():i.getContent()+e)}),o.apply(t.not(":tinymce"),arguments),t):void 0:o.apply(t,arguments)}}),e.each(["remove","replaceWith","replaceAll","empty"],function(n,i){var r=a[i]=e.fn[i];e.fn[i]=function(){return t.call(this,i),r.apply(this,arguments)}}),a.attr=e.fn.attr,e.fn.attr=function(t,o,l){var c=this;if(!t||"value"!==t||!s(c))return a.attr.call(c,t,o,l);if(o!==n)return i.call(c.filter(":tinymce"),o),a.attr.call(c.not(":tinymce"),t,o,l),c;var u=c[0],d=r(u);return d?d.getContent():a.attr.call(e(u),t,o,l)}}var n,i,r=[],o=window;e.fn.tinymce=function(n){function s(){var i=[],r=0;t&&(t(),t=null),d.each(function(e,t){var o,s=t.id,a=n.oninit;s||(t.id=s=tinymce.DOM.uniqueId()),o=new tinymce.Editor(s,n),i.push(o),o.onInit.add(function(){var e,t=a;d.css("visibility",""),a&&++r==i.length&&(tinymce.is(t,"string")&&(e=-1===t.indexOf(".")?null:tinymce.resolve(t.replace(/\.\w+$/,"")),t=tinymce.resolve(t)),t.apply(e||tinymce,i))})}),e.each(i,function(e,t){t.render()})}var a,l,c,u,d=this,h="",f="";return d.length?n?(d.css("visibility","hidden"),o.tinymce||i||!(a=n.script_url)?1===i?r.push(s):s():(i=1,l=a.substring(0,a.lastIndexOf("/")),/_(src|dev)\.js/g.test(a)&&(f="_src"),c=a.lastIndexOf("?"),-1!=c&&(h=a.substring(c+1)),o.tinyMCEPreInit=o.tinyMCEPreInit||{base:l,suffix:f,query:h},-1!=a.indexOf("gzip")&&(u=n.language||"en",a=a+(/\?/.test(a)?"&":"?")+"js=true&core=true&suffix="+escape(f)+"&themes="+escape(n.theme)+"&plugins="+escape(n.plugins)+"&languages="+u,o.tinyMCE_GZ||(tinyMCE_GZ={start:function(){function t(e){tinymce.ScriptLoader.markDone(tinyMCE.baseURI.toAbsolute(e))}tinymce.suffix=f,t("langs/"+u+".js"),t("themes/"+n.theme+"/editor_template"+f+".js"),t("themes/"+n.theme+"/langs/"+u+".js"),e.each(n.plugins.split(","),function(e,n){n&&(t("plugins/"+n+"/editor_plugin"+f+".js"),t("plugins/"+n+"/langs/"+u+".js"))})},end:function(){}})),e.ajax({type:"GET",url:a,dataType:"script",cache:!0,success:function(){tinymce.dom.Event.domLoaded=1,i=2,n.script_loaded&&n.script_loaded(),s(),e.each(r,function(e,t){t()})}})),d):tinyMCE.get(d[0].id):d},e.extend(e.expr[":"],{tinymce:function(e){return!(!e.id||!tinyMCE.get(e.id))}})}(jQuery),function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var n=e.scrollTo=function(t,n,i){e(window).scrollTo(t,n,i)};n.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},n.window=function(){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!n)return t;var i=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==i.compatMode?i.body:i.documentElement})},e.fn.scrollTo=function(i,r,o){return"object"==typeof r&&(o=r,r=0),"function"==typeof o&&(o={onAfter:o}),"max"==i&&(i=9e9),o=e.extend({},n.defaults,o),r=r||o.duration,o.queue=o.queue&&o.axis.length>1,o.queue&&(r/=2),o.offset=t(o.offset),o.over=t(o.over),this._scrollable().each(function(){function s(e){c.animate(d,r,o.easing,e&&function(){e.call(this,i,o)})}if(null!=i){var a,l=this,c=e(l),u=i,d={},h=c.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(u)){u=t(u);break}if(u=e(u,this),!u.length)return;case"object":(u.is||u.style)&&(a=(u=e(u)).offset())}e.each(o.axis.split(""),function(e,t){var i="x"==t?"Left":"Top",r=i.toLowerCase(),f="scroll"+i,p=l[f],m=n.max(l,t);if(a)d[f]=a[r]+(h?0:p-c.offset()[r]),o.margin&&(d[f]-=parseInt(u.css("margin"+i))||0,d[f]-=parseInt(u.css("border"+i+"Width"))||0),d[f]+=o.offset[r]||0,o.over[r]&&(d[f]+=u["x"==t?"width":"height"]()*o.over[r]);else{var g=u[r];d[f]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*m:g}o.limit&&/^\d+$/.test(d[f])&&(d[f]=d[f]<=0?0:Math.min(d[f],m)),!e&&o.queue&&(p!=d[f]&&s(o.onAfterFirst),delete d[f])}),s(o.onAfter)}}).end()},n.max=function(t,n){var i="x"==n?"Width":"Height",r="scroll"+i;if(!e(t).is("html,body"))return t[r]-e(t)[i.toLowerCase()]();var o="client"+i,s=t.ownerDocument.documentElement,a=t.ownerDocument.body;return Math.max(s[r],a[r])-Math.min(s[o],a[o])}}(jQuery),/*!
 * jQuery UI Widget 1.10.3
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(o){}r(t)},e.widget=function(t,n,i){var r,o,s,a,l={},c=t.split(".")[0];t=t.split(".")[1],r=c+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[c]=e[c]||{},o=e[c][t],s=e[c][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new s(e,t)},e.extend(s,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),a=new n,a.options=e.widget.extend({},a.options),e.each(i,function(t,i){return e.isFunction(i)?(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}(),void 0):(l[t]=i,void 0)}),s.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:t},l,{constructor:s,namespace:c,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s)},e.widget.extend=function(n){for(var r,o,s=i.call(arguments,1),a=0,l=s.length;l>a;a++)for(r in s[a])o=s[a][r],s[a].hasOwnProperty(r)&&o!==t&&(n[r]=e.isPlainObject(o)?e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;e.fn[n]=function(s){var a="string"==typeof s,l=i.call(arguments,1),c=this;return s=!a&&l.length?e.widget.extend.apply(null,[s].concat(l)):s,a?this.each(function(){var i,r=e.data(this,o);return r?e.isFunction(r[s])&&"_"!==s.charAt(0)?(i=r[s].apply(r,l),i!==r&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+s+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+s+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(s||{})._init():e.data(this,o,new r(s,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,s,a=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(a={},r=n.split("."),n=r.shift(),r.length){for(o=a[n]=e.widget.extend({},this.options[n]),s=0;s<r.length-1;s++)o[r[s]]=o[r[s]]||{},o=o[r[s]];if(n=r.pop(),i===t)return o[n]===t?null:o[n];o[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];a[n]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,s){function a(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,c,a):n.bind(c,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&e.effects&&e.effects.effect[a]?i[t](r):a!==t&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}})}(jQuery),/*
 * jQuery Iframe Transport Plugin 1.7
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var i,r,o;return{send:function(s,a){i=e('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),t+=1,r=e('<iframe src="javascript:false;" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",function(){var t;try{if(t=r.contents(),!t.length||!t[0].firstChild)throw new Error}catch(n){t=void 0}a(200,"success",{iframe:t}),e('<iframe src="javascript:false;"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",o[t]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),i.submit(),t&&t.length&&n.fileInput.each(function(n,i){var r=e(t[n]);e(i).prop("name",r.prop("name")),r.replaceWith(i)})}),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src","javascript".concat(":false;")),i&&i.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),/*
 * jQuery File Upload Plugin 5.32.5
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){"use strict";e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){(n.autoUpload||n.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=8*(t-this.loaded)*(1e3/i),this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"==typeof t.formData?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var n,i=Date.now?Date.now():(new Date).getTime();if(t._time&&t.progressInterval&&i-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=i,n=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=n-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=n,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(i,n,t.bitrateInterval),this._trigger("progress",e,t),this._trigger("progressall",e,this._progress)}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).bind("progress",function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,n._onProgress(e,t)}),t.xhr=function(){return i})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,i=this,r=t.files[0],o=t.multipart||!e.support.xhrFileUpload,s=t.paramName[0];t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",r)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:s,value:t.blob}):e.each(t.files,function(e,i){n.push({name:t.paramName[e]||s,value:i})})):(i._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?n.append(s,t.blob,r.name):e.each(t.files,function(e,r){(i._isInstanceOf("File",r)||i._isInstanceOf("Blob",r))&&n.append(t.paramName[e]||s,r,r.name)})),t.data=n):(t.contentType=r.type,t.data=t.blob||r),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",r=(t.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var r=e.Deferred(),o=r.promise();return n=n||this.options.context||o,t===!0?r.resolveWith(n,i):t===!1&&r.rejectWith(n,i),o.abort=r.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,n){var i=this,r=function(t){return e.Deferred().resolveWith(i,[t]).promise()};n.process=function(e,t){return(e||t)&&(n._processQueue=this._processQueue=(this._processQueue||r(this)).pipe(e,t)),this._processQueue||r(this)},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=i._trigger("submit",t,this)!==!1&&i._onSend(t,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():i._getXHRPromise()},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var i,r,o=this,s=t.files[0],a=s.size,l=t.uploadedBytes,c=t.maxChunkSize||a,u=this._blobSlice,d=e.Deferred(),h=d.promise();return this._isXHRUpload(t)&&u&&(l||a>c)&&!t.data?n?!0:l>=a?(s.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",s.error])):(r=function(){var n=e.extend({},t),h=n._progress.loaded;n.blob=u.call(s,l,l+c,s.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+a,o._initXHRData(n),o._initProgressListener(n),i=(o._trigger("chunksend",null,n)!==!1&&e.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(i,s,c){l=o._getUploadedBytes(c)||l+n.chunkSize,h+n.chunkSize-n._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=s,n.jqXHR=c,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),a>l?r():d.resolveWith(n.context,[i,s,c])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),d.rejectWith(n.context,[e,t,i])})},this._enhancePromise(h),h.abort=function(){return i.abort()},r(),h):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,i,r){var o=r._progress.total,s=r._response;r._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),r),s.result=r.result=t,s.textStatus=r.textStatus=n,s.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(e,t,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=e,r.textStatus=i.textStatus=t,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var i,r,o,s,a=this,l=a._getAJAXSettings(n),c=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,i=i||((r||a._trigger("send",t,l)===!1)&&a._getXHRPromise(!1,l.context,r)||a._chunkedUpload(l)||e.ajax(l)).done(function(e,t,n){a._onDone(e,t,n,l)}).fail(function(e,t,n){a._onFail(e,t,n,l)}).always(function(e,t,n){if(a._onAlways(e,t,n,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),s=o.pipe(c)):(this._sequence=this._sequence.pipe(c,c),s=this._sequence),s.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(o&&o.rejectWith(l.context,r),c())},this._enhancePromise(s)):c()},_onAdd:function(t,n){var i,r,o,s,a=this,l=!0,c=e.extend({},this.options,n),u=c.limitMultiFileUploads,d=this._getParamName(c);if((c.singleFileUploads||u)&&this._isXHRUpload(c))if(!c.singleFileUploads&&u)for(o=[],i=[],s=0;s<n.files.length;s+=u)o.push(n.files.slice(s,s+u)),r=d.slice(s,s+u),r.length||(r=d),i.push(r);else i=d;else o=[n.files],i=[d];return n.originalFiles=n.files,e.each(o||n.files,function(r,s){var c=e.extend({},n);return c.files=o?s:[s],c.paramName=i[r],a._initResponseObject(c),a._initProgressObject(c),a._addConvenienceMethods(t,c),l=a._trigger("add",t,c)}),l},_replaceFileInput:function(t){var n=t.clone(!0);e("<form></form>").append(n)[0].reset(),t.after(n).detach(),e.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,i){return i===t[0]?n[0]:i}),t[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,n){var i,r=this,o=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,o.resolve(t._file)):t.file(function(e){e.relativePath=n,o.resolve(e)},s):t.isDirectory?(i=t.createReader(),i.readEntries(function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){o.resolve(e)}).fail(s)},s)):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,n){var i=this;return e.when.apply(e,e.map(t,function(e){return i._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,i,r=t.prop("webkitEntries")||t.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(i=t.prop("value"),!i)return e.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(e){i.files=e,n.options.replaceFileInput&&n._replaceFileInput(i.fileInput),n._trigger("change",t,i)!==!1&&n._onAdd(t,i)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)}),this._trigger("paste",t,i)!==!1&&this._onAdd(t,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=this,n=e.dataTransfer,i={};n&&n.files&&n.files.length&&(e.preventDefault(),this._getDroppedFiles(n).always(function(n){i.files=n,t._trigger("drop",e,i)!==!1&&t._onAdd(e,i)}))},_onDragOver:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=t.dataTransfer,i={dropEffect:"copy",preventDefault:!0};n&&-1!==e.inArray("Files",n.types)&&this._trigger("dragover",t,i)!==!1&&(n.dropEffect=i.dropEffect,i.preventDefault&&t.preventDefault())},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var i=-1!==e.inArray(t,this._specialOptions);i&&this._destroyEventHandlers(),this._super(t,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options;e.each(e(this.element[0].cloneNode(!1)).data(),function(e,i){t._isRegExpOption(e,i)&&(i=t._getRegExp(i)),n[e]=i})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,r=this,o=e.Deferred(),s=o.promise();return s.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),s)},this._getFileInputFiles(t.fileInput).always(function(e){if(!i){if(!e.length)return o.reject(),void 0;t.files=e,n=r._onSend(null,t).then(function(e,t,n){o.resolve(e,t,n)},function(e,t,n){o.reject(e,t,n)})}}),this._enhancePromise(s)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),/* ===================================================
 * bootstrap-transition.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),/* ==========================================================
 * bootstrap-alert.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){i.trigger("closed").remove()}var i,r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),i=e(o),t&&t.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,n):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("alert");r||i.data("alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),/* =============================================================
 * bootstrap-collapse.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,i,r;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(r=i.data("collapse"),r&&r.transitioning)return;i.collapse("hide"),r||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,i){var r=this,o=function(){"show"==n.type&&r.reset(),r.transitioning=0,r.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),r=i.data("collapse"),o=e.extend({},e.fn.collapse.defaults,i.data(),"object"==typeof n&&n);r||i.data("collapse",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),r=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=e(r).data("collapse")?"toggle":i.data();i[e(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(r).collapse(o)})}(window.jQuery),/* ============================================================
 * bootstrap-dropdown.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";function t(){e(".dropdown-backdrop").remove(),e(i).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,i=t.attr("data-target");return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&e(i),n&&n.length||(n=t.parent()),n}var i="[data-toggle=dropdown]",r=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var i,r,o=e(this);if(!o.is(".disabled, :disabled"))return i=n(o),r=i.hasClass("open"),t(),r||("ontouchstart"in document.documentElement&&e('<div class="dropdown-backdrop"/>').insertBefore(e(this)).on("click",t),i.toggleClass("open")),o.focus(),!1},keydown:function(t){var r,o,s,a,l;if(/(38|40|27)/.test(t.keyCode)&&(r=e(this),t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled"))){if(s=n(r),a=s.hasClass("open"),!a||a&&27==t.keyCode)return 27==t.which&&s.find(i).focus(),r.click();o=e("[role=menu] li:not(.divider):visible a",s),o.length&&(l=o.index(o.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus())}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",i,r.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(window.jQuery),/* =========================================================
 * bootstrap-modal.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var i=e(this),r=i.data("modal"),o=e.extend({},e.fn.modal.defaults,i.data(),"object"==typeof n&&n);r||i.data("modal",r=new t(this,o)),"string"==typeof n?r[n]():o.show&&r.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),r=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),n.data());t.preventDefault(),r.modal(o).one("hide",function(){n.focus()})})}(window.jQuery),/* ========================================================
 * bootstrap-tab.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */
!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,r=this.element,o=r.closest("ul:not(.dropdown-menu)"),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(t=o.find(".active:last a")[0],i=e.Event("show",{relatedTarget:t}),r.trigger(i),i.isDefaultPrevented()||(n=e(s),this.activate(r.parent("li"),o),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),s=i&&e.support.transition&&o.hasClass("fade");s?o.one(e.support.transition.end,r):r(),o.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),r=i.data("tab");r||i.data("tab",r=new t(this)),"string"==typeof n&&r[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),/* ===========================================================
 * bootstrap-tooltip.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var r,o,s,a,l;for(this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,s=this.options.trigger.split(" "),l=s.length;l--;)a=s[l],"click"==a?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=a&&(r="hover"==a?"mouseenter":"focus",o="hover"==a?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n,i=e.fn[this.type].defaults,r={};return this._options&&e.each(this._options,function(e,t){i[e]!=t&&(r[e]=t)},this),n=e(t.currentTarget)[this.type](r).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var t,n,i,r,o,s,a=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),i=t[0].offsetWidth,r=t[0].offsetHeight,o){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":s={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":s={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(s,o),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,i,r,o,s=this.tip(),a=s[0].offsetWidth,l=s[0].offsetHeight;s.offset(e).addClass(t).addClass("in"),n=s[0].offsetWidth,i=s[0].offsetHeight,"top"==t&&i!=l&&(e.top=e.top+l-i,o=!0),"bottom"==t||"top"==t?(r=0,e.left<0&&(r=-2*e.left,e.left=0,s.offset(e),n=s[0].offsetWidth,i=s[0].offsetHeight),this.replaceArrow(r-a+n,n,"left")):this.replaceArrow(i-l,i,"top"),o&&s.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var n=this.tip(),i=e.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("tooltip"),o="object"==typeof n&&n;r||i.data("tooltip",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),function(){jQuery(function(){$("[rel=tooltip]").tooltip()})}.call(this),// Copyright (c) 2011 Harvest http://getharvest.com
function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,i,r,o,s;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),o=e.childNodes,s=[],i=0,r=o.length;r>i;i++)n=o[i],s.push(this.add_option(n,t,e.disabled));return s},e.prototype.add_option=function(e,t,n){return"OPTION"===e.nodeName?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:n===!0?n:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e}(),e.select_to_array=function(t){var n,i,r,o,s;for(i=new e,s=t.childNodes,r=0,o=s.length;o>r;r++)n=s[r],i.add_node(n);return i.parsed},this.SelectParser=e}.call(this),/*
Chosen source: generate output using 'cake build'
Copyright (c) 2011 by Harvest
*/
function(){var e,t;t=this,e=function(){function e(e,t){this.form_field=e,this.options=null!=t?t:{},this.set_default_values(),this.is_multiple=this.form_field.multiple,this.set_default_text(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options":this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option",this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;return this.active_field?void 0:setTimeout(function(){return e.container_mousedown()},50)},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.result_add_option=function(e){var t,n;return e.disabled?"":(e.dom_id=this.container_id+"_o_"+e.array_index,t=e.selected&&this.is_multiple?[]:["active-result"],e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),n=""!==e.style.cssText?' style="'+e.style+'"':"",'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+n+">"+e.html+"</li>")},e.prototype.results_update_field=function(){return this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.generate_field_id=function(){var e;return e=this.generate_random_id(),this.form_field.id=e,e},e.prototype.generate_random_char=function(){var e,t,n;return e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=Math.floor(Math.random()*e.length),t=e.substring(n,n+1)},e}(),t.AbstractChosen=e}.call(this),/*
Chosen source: generate output using 'cake build'
Copyright (c) 2011 by Harvest
*/
function(){var e,t,n,i,r=Object.prototype.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=this,e=jQuery,e.fn.extend({chosen:function(n){return!e.browser.msie||"6.0"!==e.browser.version&&"7.0"!==e.browser.version?this.each(function(){var i;return i=e(this),i.hasClass("chzn-done")?void 0:i.data("chosen",new t(this,n))}):this}}),t=function(t){function r(){r.__super__.constructor.apply(this,arguments)}return o(r,t),r.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_value=this.form_field_jq.val(),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},r.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},r.prototype.set_up_html=function(){var t,i,r,o;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",this.f_width=this.form_field_jq.outerWidth(),t=e("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;"}),this.is_multiple?t.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):t.html('<a href="javascript:void(0)" class="chzn-single chzn-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(t),this.container=e("#"+this.container_id),this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single")),this.dropdown=this.container.find("div.chzn-drop").first(),i=this.container.height(),r=this.f_width-n(this.dropdown),this.dropdown.css({width:r+"px",top:i+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),o=r-n(this.search_container)-n(this.search_field),this.search_field.css({width:o+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},r.prototype.register_observers=function(){var e=this;return this.container.mousedown(function(t){return e.container_mousedown(t)}),this.container.mouseup(function(t){return e.container_mouseup(t)}),this.container.mouseenter(function(t){return e.mouse_enter(t)}),this.container.mouseleave(function(t){return e.mouse_leave(t)}),this.search_results.mouseup(function(t){return e.search_results_mouseup(t)}),this.search_results.mouseover(function(t){return e.search_results_mouseover(t)}),this.search_results.mouseout(function(t){return e.search_results_mouseout(t)}),this.form_field_jq.bind("liszt:updated",function(t){return e.results_update_field(t)}),this.search_field.blur(function(t){return e.input_blur(t)}),this.search_field.keyup(function(t){return e.keyup_checker(t)}),this.search_field.keydown(function(t){return e.keydown_checker(t)}),this.is_multiple?(this.search_choices.click(function(t){return e.choices_click(t)}),this.search_field.focus(function(t){return e.input_focus(t)})):this.container.click(function(e){return e.preventDefault()})},r.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},r.prototype.container_mousedown=function(t){var n;return this.is_disabled?void 0:(n=null!=t?e(t.target).hasClass("search-choice-close"):!1,t&&"mousedown"===t.type&&!this.results_showing&&t.stopPropagation(),this.pending_destroy_click||n?this.pending_destroy_click=!1:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chzn-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field()))},r.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},r.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},r.prototype.close_field=function(){return e(document).unbind("click",this.click_test_action),this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1)),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},r.prototype.activate_field=function(){return this.is_multiple||this.active_field||(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1)),this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},r.prototype.test_active_click=function(t){return e(t.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},r.prototype.results_build=function(){var e,t,n,r,o;for(this.parsing=!0,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),e="",o=this.results_data,n=0,r=o.length;r>n;n++)t=o[n],t.group?e+=this.result_add_group(t):t.empty||(e+=this.result_add_option(t),t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(t.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(e),this.parsing=!1},r.prototype.result_add_group=function(t){return t.disabled?"":(t.dom_id=this.container_id+"_g_"+t.array_index,'<li id="'+t.dom_id+'" class="group-result">'+e("<div />").text(t.label).html()+"</li>")},r.prototype.result_do_highlight=function(e){var t,n,i,r,o;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),r=i+o,n=this.result_highlight.position().top+this.search_results.scrollTop(),t=n+this.result_highlight.outerHeight(),t>=r)return this.search_results.scrollTop(t-i>0?t-i:0);if(o>n)return this.search_results.scrollTop(n)}},r.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},r.prototype.results_show=function(){var e;if(this.is_multiple){if(this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1}else this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected);return e=this.is_multiple?this.container.height():this.container.height()-1,this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.dropdown.css({top:e+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},r.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},r.prototype.set_tab_index=function(){var e;return this.form_field_jq.attr("tabindex")?(e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.is_multiple?this.search_field.attr("tabindex",e):(this.selected_item.attr("tabindex",e),this.search_field.attr("tabindex",-1))):void 0},r.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},r.prototype.search_results_mouseup=function(t){var n;return n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),n.length?(this.result_highlight=n,this.result_select(t)):void 0},r.prototype.search_results_mouseover=function(t){var n;return n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),n?this.result_do_highlight(n):void 0},r.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},r.prototype.choices_click=function(t){return t.preventDefault(),!this.active_field||e(t.target).hasClass("search-choice")||this.results_showing?void 0:this.results_show()},r.prototype.choice_build=function(t){var n,i,r=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(n=this.container_id+"_c_"+t.array_index,this.choices+=1,this.search_container.before('<li class="search-choice" id="'+n+'"><span>'+t.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+t.array_index+'"></a></li>'),i=e("#"+n).find("a").first(),i.click(function(e){return r.choice_destroy_link_click(e)}))},r.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),this.is_disabled?t.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(e(t.target)))},r.prototype.choice_destroy=function(e){return this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),this.result_deselect(e.attr("rel")),e.parents("li").first().remove()},r.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},r.prototype.results_reset_cleanup=function(){return this.selected_item.find("abbr").remove()},r.prototype.result_select=function(e){var t,n,i,r;return this.result_highlight?(t=this.result_highlight,n=t.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(t):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=t,this.selected_item.removeClass("chzn-default")),t.addClass("result-selected"),r=n.substr(n.lastIndexOf("_")+1),i=this.results_data[r],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.is_multiple?this.choice_build(i):(this.selected_item.find("span").first().text(i.text),this.allow_single_deselect&&this.single_deselect_control_build()),e.metaKey&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field_jq.val()!==this.current_value)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_value=this.form_field_jq.val(),this.search_field_scale()):void 0},r.prototype.result_activate=function(e){return e.addClass("active-result")},r.prototype.result_deactivate=function(e){return e.removeClass("active-result")},r.prototype.result_deselect=function(t){var n,i;return i=this.results_data[t],i.selected=!1,this.form_field.options[i.options_index].selected=!1,n=e("#"+this.container_id+"_o_"+t),n.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[i.options_index].value}),this.search_field_scale()},r.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},r.prototype.winnow_results=function(){var t,n,i,r,o,s,a,l,c,u,d,h,f,p,m,g,v,y;for(this.no_results_clear(),c=0,u=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html(),s=this.search_contains?"":"^",o=new RegExp(s+u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),f=new RegExp(u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),y=this.results_data,p=0,g=y.length;g>p;p++)if(n=y[p],!n.disabled&&!n.empty)if(n.group)e("#"+n.dom_id).css("display","none");else if(!this.is_multiple||!n.selected){if(t=!1,l=n.dom_id,a=e("#"+l),o.test(n.html))t=!0,c+=1;else if((n.html.indexOf(" ")>=0||0===n.html.indexOf("["))&&(r=n.html.replace(/\[|\]/g,"").split(" "),r.length))for(m=0,v=r.length;v>m;m++)i=r[m],o.test(i)&&(t=!0,c+=1);t?(u.length?(d=n.html.search(f),h=n.html.substr(0,d+u.length)+"</em>"+n.html.substr(d+u.length),h=h.substr(0,d)+"<em>"+h.substr(d)):h=n.html,a.html(h),this.result_activate(a),null!=n.group_array_index&&e("#"+this.results_data[n.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a))}return 1>c&&u.length?this.no_results(u):this.winnow_results_set_highlight()},r.prototype.winnow_results_clear=function(){var t,n,i,r,o;for(this.search_field.val(""),n=this.search_results.find("li"),o=[],i=0,r=n.length;r>i;i++)t=n[i],t=e(t),t.hasClass("group-result")?o.push(t.css("display","auto")):this.is_multiple&&t.hasClass("result-selected")?o.push(void 0):o.push(this.result_activate(t));return o},r.prototype.winnow_results_set_highlight=function(){var e,t;return this.result_highlight||(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null==e)?void 0:this.result_do_highlight(e)},r.prototype.no_results=function(t){var n;return n=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(t),this.search_results.append(n)},r.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},r.prototype.keydown_arrow=function(){var t,n;return this.result_highlight?this.results_showing&&(n=this.result_highlight.nextAll("li.active-result").first(),n&&this.result_do_highlight(n)):(t=this.search_results.find("li.active-result").first(),t&&this.result_do_highlight(e(t))),this.results_showing?void 0:this.results_show()},r.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},r.prototype.keydown_backstroke=function(){return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(this.pending_backstroke=this.search_container.siblings("li.search-choice").last(),this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus"))},r.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},r.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},r.prototype.search_field_scale=function(){var t,n,i,r,o,s,a,l,c;if(this.is_multiple){for(i=0,a=0,o="position:absolute; left: -1000px; top: -1000px; display:none;",s=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,c=s.length;c>l;l++)r=s[l],o+=r+":"+this.search_field.css(r)+";";return n=e("<div />",{style:o}),n.text(this.search_field.val()),e("body").append(n),a=n.width()+25,n.remove(),a>this.f_width-10&&(a=this.f_width-10),this.search_field.css({width:a+"px"}),t=this.container.height(),this.dropdown.css({top:t+"px"})}},r.prototype.generate_random_id=function(){var t;for(t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();e("#"+t).length>0;)t+=this.generate_random_char();return t},r}(AbstractChosen),n=function(e){var t;return t=e.outerWidth()-e.width()},i.get_side_border_padding=n}.call(this),function(e){for(var t,n=function(){},i="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");t=i.pop();)e[t]=e[t]||n}(window.console=window.console||{}),jQuery.fn.rangeinput=function(e){e=e?e:{};var t=$(this),n=$('<div id="'+t.attr("id")+'_slider" class="'+(t.attr("class")||"")+'"></div>'),i=t.clone().wrap("<div/>").parent().html(),r=$(i.replace(/type=/i,"type=text data-orig-type="));r.wrap("<div class=ui-slider-value>"+(e.unit?e.unit:"")+"</div>").prop("size",6),e.input_events&&r.on(e.input_events),e.mask&&r.mask(e.mask);var o=jQuery.extend({min:parseFloat(t.attr("min")),max:parseFloat(t.attr("max")),step:parseFloat(t.attr("step")),value:parseFloat(t.val()),range:"min"},e),s=function(t,n){e.formatter&&"function"==jQuery.type(e.formatter)&&(n.value=e.formatter(n.value)),$(this).val(n.value)};return n.insertAfter(t).wrap('<div class="ui-slider-wrapper"></div>').on("slidechange",s).append(r.parent()).slider(o),t.remove(),n},$.extend($.expr[":"],{range:function(e){var t=e.getAttribute("type");return t&&"range"==t||!!$(e).filter("input").data("rangeinput")}}),/*!
 * jQuery UI 1.8.19
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
function(e,t){function n(t,n){var r=t.nodeName.toLowerCase();if("area"===r){var o,s=t.parentNode,a=s.name;return t.href&&a&&"map"===s.nodeName.toLowerCase()?(o=e("img[usemap=#"+a+"]")[0],!!o&&i(o)):!1}return(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"==r?t.href||n:n)&&i(t)}function i(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.curCSS(this,"visibility")||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"@VERSION",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({propAttr:e.fn.prop||e.fn.attr,_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var i=this;setTimeout(function(){e(i).focus(),n&&n.call(i)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,i&&(n-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),r&&(n-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?a["inner"+i].call(this):this.each(function(){e(this).css(s,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){e(this).css(s,r(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r=e.ui[t].prototype;for(var o in i)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([n,i[o]])},call:function(e,t,n){var i=e.plugins[t];if(i&&e.element[0].parentNode)for(var r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)},isOverAxis:function(e,t,n){return e>t&&t+n>e},isOver:function(t,n,i,r,o,s){return e.ui.isOverAxis(t,i,o)&&e.ui.isOverAxis(n,r,s)}}))}(jQuery),/*!
 * jQuery UI Widget 1.8.19
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
function(e,t){if(e.cleanData){var n=e.cleanData;e.cleanData=function(t){for(var i,r=0;null!=(i=t[r]);r++)try{e(i).triggerHandler("remove")}catch(o){}n(t)}}else{var i=e.fn.remove;e.fn.remove=function(t,n){return this.each(function(){return n||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(t){}}),i.call(e(this),t,n)})}}e.widget=function(t,n,i){var r,o=t.split(".")[0];t=t.split(".")[1],r=o+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r]=function(n){return!!e.data(n,t)},e[o]=e[o]||{},e[o][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var s=new n;s.options=e.extend(!0,{},s.options),e[o][t].prototype=e.extend(!0,s,{namespace:o,widgetName:t,widgetEventPrefix:e[o][t].prototype.widgetEventPrefix||t,widgetBaseClass:r},i),e.widget.bridge(t,e[o][t])},e.widget.bridge=function(n,i){e.fn[n]=function(r){var o="string"==typeof r,s=Array.prototype.slice.call(arguments,1),a=this;return r=!o&&s.length?e.extend.apply(null,[!0,r].concat(s)):r,o&&"_"===r.charAt(0)?a:(o?this.each(function(){var i=e.data(this,n),o=i&&e.isFunction(i[r])?i[r].apply(i,s):i;return o!==i&&o!==t?(a=o,!1):void 0}):this.each(function(){var t=e.data(this,n);t?t.option(r||{})._init():e.data(this,n,new i(r,this))}),a)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){e.data(n,this.widgetName,this),this.element=e(n),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var i=this;this.element.bind("remove."+this.widgetName,function(){i.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(n,i){var r=n;if(0===arguments.length)return e.extend({},this.options);if("string"==typeof n){if(i===t)return this.options[n];r={},r[n]=i}return this._setOptions(r),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,i){var r,o,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&s.call(this.element[0],n,i)===!1||n.isDefaultPrevented())}}}(jQuery),/*!
 * jQuery UI Mouse 1.8.19
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1==n.which,o="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return!e.browser.msie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*!
 * jQuery UI Slider 1.8.19
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Slider
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var n=this,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",s=i.values&&i.values.length||1,a=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(i.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),i.range&&(i.range===!0&&(i.values||(i.values=[this._valueMin(),this._valueMin()]),i.values.length&&2!==i.values.length&&(i.values=[i.values[0],i.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===i.range||"max"===i.range?" ui-slider-range-"+i.range:"")));for(var l=r.length;s>l;l+=1)a.push(o);this.handles=r.add(e(a.join("")).appendTo(n.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).hover(function(){i.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){i.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("index.ui-slider-handle",t)}),this.handles.keydown(function(i){var r,o,s,a,l=e(this).data("index.ui-slider-handle");if(!n.options.disabled){switch(i.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i.preventDefault(),!n._keySliding&&(n._keySliding=!0,e(this).addClass("ui-state-active"),r=n._start(i,l),r===!1))return}switch(a=n.options.step,o=s=n.options.values&&n.options.values.length?n.values(l):n.value(),i.keyCode){case e.ui.keyCode.HOME:s=n._valueMin();break;case e.ui.keyCode.END:s=n._valueMax();break;case e.ui.keyCode.PAGE_UP:s=n._trimAlignValue(o+(n._valueMax()-n._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:s=n._trimAlignValue(o-(n._valueMax()-n._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(o===n._valueMax())return;s=n._trimAlignValue(o+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(o===n._valueMin())return;s=n._trimAlignValue(o-a)}n._slide(i,l,s)}}).keyup(function(t){var i=e(this).data("index.ui-slider-handle");n._keySliding&&(n._keySliding=!1,n._stop(t,i),n._change(t,i),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(t){var n,i,r,o,s,a,l,c,u,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,s=this,this.handles.each(function(t){var n=Math.abs(i-s.values(t));r>n&&(r=n,o=e(this),a=t)}),d.range===!0&&this.values(1)===d.min&&(a+=1,o=e(this.handles[a])),l=this._start(t,a),l===!1?!1:(this._mouseSliding=!0,s._handleIndex=a,o.addClass("ui-state-active").focus(),c=o.offset(),u=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:t.pageX-c.left-o.width()/2,top:t.pageY-c.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/t,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>i||1===t&&i>n)&&(n=i),n!==this.values(t)&&(r=this.values(),r[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:r}),i=this.values(t?0:1),o!==!1&&this.values(t,n,!0))):n!==this.value()&&(o=this._trigger("slide",e,{handle:this.handles[t],value:n}),o!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,n){var i,r,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch(e.isArray(this.options.values)&&(r=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":n?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;r>i;i+=1)this._change(null,i);this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,i,r,o,s=this.options.range,a=this.options,l=this,c=this._animateOff?!1:a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(i){t=100*((l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())),u["horizontal"===l.orientation?"left":"bottom"]=t+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:t+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({width:t-n+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:t+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({height:t-n+"%"},{queue:!1,duration:a.animate}))),n=t}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),t=o!==r?100*((i-r)/(o-r)):0,u["horizontal"===l.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:t+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:t+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:a.animate}))}}),e.extend(e.ui.slider,{version:"@VERSION"})}(jQuery),/*!

    Copyright (c) 2011 Peter van der Spek

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in
    all copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
    THE SOFTWARE.
    
 */
function(e){function t(){if(!d){d=!0;for(var t in u)e(t).each(function(){var n,i;n=e(this),i=n.data("jqae"),(i.containerWidth!=n.innerWidth()||i.containerHeight!=n.innerHeight())&&l(n,u[t])});d=!1}}function n(e){u[e]&&(delete u[e],u.length||c&&(window.clearInterval(c),c=void 0))}function i(e,n){u[e]=n,c||(c=window.setInterval(function(){t()},200))}function r(){return 3===this.nodeType}function o(t){if(t.contents().length){var n=t.contents(),i=n.eq(n.length-1);if(i.filter(r).length){var s=i.get(0).nodeValue;return s=e.trim(s),""==s?(i.remove(),!0):!1}for(;o(i););return i.contents().length?!1:(i.remove(),!0)}return!1}function s(e){if(e.contents().length){var t=e.contents(),n=t.eq(t.length-1);return n.filter(r).length?n:s(n)}e.append("");var t=e.contents();return t.eq(t.length-1)}function a(t){var n=s(t);if(n.length){var i=n.get(0).nodeValue,r=i.lastIndexOf(" ");return r>-1?(i=e.trim(i.substring(0,r)),n.get(0).nodeValue=i):n.get(0).nodeValue="",!0}return!1}function l(t,n){var i=t.data("jqae");i||(i={});var r=i.wrapperElement;r||(r=t.wrapInner("<div/>").find(">div"));var l=r.data("jqae");l||(l={});var c=l.originalContent;c?r=l.originalContent.clone(!0).data("jqae",{originalContent:c}).replaceAll(r):r.data("jqae",{originalContent:r.clone(!0)}),t.data("jqae",{wrapperElement:r,containerWidth:t.innerWidth(),containerHeight:t.innerHeight()});var u=!1,d=r;n.selector&&(d=e(r.find(n.selector).get().reverse())),d.each(function(){var i=e(this),l=i.text(),c=!1;if(r.innerHeight()-i.innerHeight()>t.innerHeight())i.remove();else if(o(i),i.contents().length){for(u&&(s(i).get(0).nodeValue+=n.ellipsis,u=!1);r.innerHeight()>t.innerHeight();){if(c=a(i),!c){u=!0,i.remove();break}if(o(i),!i.contents().length){u=!0,i.remove();break}s(i).get(0).nodeValue+=n.ellipsis}"onEllipsis"==n.setTitle&&c||"always"==n.setTitle?i.attr("title",l):"never"!=n.setTitle&&i.removeAttr("title")}})}var c,u={},d=!1,h={ellipsis:"...",setTitle:"never",live:!1};e.fn.ellipsis=function(t,r){var o,s;return o=e(this),"string"!=typeof t&&(r=t,t=void 0),s=e.extend({},h,r),s.selector=t,o.each(function(){var t=e(this);l(t,s)}),s.live?i(o.selector,s):n(o.selector),this}}(jQuery),/*!
 * jQuery Browser Plugin v0.0.3
 * https://github.com/gabceb/jquery-browser-plugin
 *
 * Original jquery-browser code Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * http://jquery.org/license
 *
 * Modifications Copyright 2013 Gabriel Cebrian
 * https://github.com/gabceb
 *
 * Released under the MIT license
 *
 * Date: 2013-07-29T17:23:27-07:00
 */
function(e,t){"use strict";var n,i;e.uaMatch=function(e){e=e.toLowerCase();var t=/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=/(ipad)/.exec(e)||/(iphone)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0",platform:n[0]||""}},n=e.uaMatch(t.navigator.userAgent),i={},n.browser&&(i[n.browser]=!0,i.version=n.version),n.platform&&(i[n.platform]=!0),i.chrome||i.opr?i.webkit=!0:i.webkit&&(i.safari=!0),i.rv&&(i.msie=!0),i.opr&&(i.opera=!0),e.browser=i}(jQuery,window),/**
 * jQuery Cookie plugin
 *
 * Copyright (c) 2010 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
jQuery.cookie=function(e,t,n){if(arguments.length>1&&(null===t||"object"!=typeof t)){if(n=jQuery.extend({},n),null===t&&(n.expires=-1),"number"==typeof n.expires){var i=n.expires,r=n.expires=new Date;r.setDate(r.getDate()+i)}return document.cookie=[encodeURIComponent(e),"=",n.raw?String(t):encodeURIComponent(String(t)),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=t||{};var o,s=n.raw?function(e){return e}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?s(o[1]):null},function(e){e.fn.spin=function(t,n){var i={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}};if(Spinner)return this.each(function(){var r=e(this),o=r.data();o.spinner&&(o.spinner.stop(),delete o.spinner),t!==!1&&("string"==typeof t&&(t=t in i?i[t]:{},n&&(t.color=n)),o.spinner=new Spinner(e.extend({color:r.css("color")},t)).spin(this))});throw"Spinner class not available."}}(jQuery),/*!
 * jQuery UI Sortable @VERSION
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Sortables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.sortable",e.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){e.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget()[n?"addClass":"removeClass"]("ui-sortable-disabled")):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var r=null,o=this;if(e(t.target).parents().each(function(){return e.data(this,i.widgetName+"-item")==o?(r=e(this),!1):void 0}),e.data(t.target,i.widgetName+"-item")==o&&(r=e(t.target)),!r)return!1;if(this.options.handle&&!n){var s=!1;if(e(this.options.handle,r).find("*").andSelf().each(function(){this==t.target&&(s=!0)}),!s)return!1}return this.currentItem=r,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,i){var r=this.options,o=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",r.cursor)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(var s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,o._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var n=this.options,i=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),i!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var r=this.items.length-1;r>=0;r--){var o=this.items[r],s=o.item[0],a=this._intersectsWithPointer(o);if(a&&s!=this.currentItem[0]&&this.placeholder[1==a?"next":"prev"]()[0]!=s&&!e.ui.contains(this.placeholder[0],s)&&("semi-dynamic"==this.options.type?!e.ui.contains(this.element[0],s):!0)){if(this.direction=1==a?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(o))break;this._rearrange(t,o),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=i.placeholder.offset();i.reverting=!0,e(this.helper).animate({left:r.left-this.offset.parent.left-i.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:r.top-this.offset.parent.top-i.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){var t=this;if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("deactivate",null,t._uiHash(this)),this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",null,t._uiHash(this)),this.containers[n].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d=i+c>a&&l>i+c&&t+u>o&&s>t+u;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=n&&i,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return r?this.floating?s&&"right"==s||"down"==o?2:1:o&&("down"==o?2:1):!1},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"==o&&i||"left"==o&&!i:r&&("down"==r&&n||"up"==r&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],i=[],r=this._connectWith();if(r&&t)for(var o=r.length-1;o>=0;o--)for(var s=e(r[o]),a=s.length-1;a>=0;a--){var l=e.data(s[a],this.widgetName);l&&l!=this&&!l.options.disabled&&i.push([e.isFunction(l.options.items)?l.options.items.call(l.element):e(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}i.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var o=i.length-1;o>=0;o--)i[o][0].each(function(){n.push(this)});return e(n)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data("+this.widgetName+"-item)"),t=0;t<this.items.length;t++)for(var n=0;n<e.length;n++)e[n]==this.items[t].item[0]&&this.items.splice(t,1)},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,i=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],r=this._connectWith();if(r&&this.ready)for(var o=r.length-1;o>=0;o--)for(var s=e(r[o]),a=s.length-1;a>=0;a--){var l=e.data(s[a],this.widgetName);l&&l!=this&&!l.options.disabled&&(i.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l))}for(var o=i.length-1;o>=0;o--)for(var c=i[o][1],u=i[o][0],a=0,d=u.length;d>a;a++){var h=e(u[a]);h.data(this.widgetName+"-item",c),n.push({item:h,instance:c,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var i=this.items[n];if(i.instance==this.currentContainer||!this.currentContainer||i.item[0]==this.currentItem[0]){var r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item;t||(i.width=r.outerWidth(),i.height=r.outerHeight());var o=r.offset();i.left=o.left,i.top=o.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var o=this.containers[n].element.offset();this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){var n=t||this,i=n.options;if(!i.placeholder||i.placeholder.constructor==String){var r=i.placeholder;i.placeholder={element:function(){var t=e(document.createElement(n.currentItem[0].nodeName)).addClass(r||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper").html("&nbsp;")[0];return r||(t.style.visibility="hidden"),t},update:function(e,t){(!r||i.forcePlaceholderSize)&&(t.height()||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}}n.placeholder=e(i.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),i.placeholder.update(n,n.placeholder)},_contactContainers:function(t){for(var n=null,i=null,r=this.containers.length-1;r>=0;r--)if(!e.ui.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(n&&e.ui.contains(this.containers[r].element[0],n.element[0]))continue;n=this.containers[r],i=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(n)if(1===this.containers.length)this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1;else if(this.currentContainer!=this.containers[i]){for(var o=1e4,s=null,a=this.positionAbs[this.containers[i].floating?"left":"top"],l=this.items.length-1;l>=0;l--)if(e.ui.contains(this.containers[i].element[0],this.items[l].item[0])){var c=this.items[l][this.containers[i].floating?"left":"top"];Math.abs(c-a)<o&&(o=Math.abs(c-a),s=this.items[l])}if(!s&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[i],s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[i].element,!0),this._trigger("change",t,this._uiHash()),this.containers[i]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"==n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!=n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(""==i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],i=e(t.containment).offset(),r="hidden"!=e(n).css("overflow");this.containment=[i.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,i.left+(r?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(r?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"==t?1:-1,r=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i),left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i)}},_generatePosition:function(t){var n=this.options,i="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var o=t.pageX,s=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),n.grid)){var a=this.originalPageY+Math.round((s-this.originalPageY)/n.grid[1])*n.grid[1];s=this.containment?a-this.offset.click.top<this.containment[1]||a-this.offset.click.top>this.containment[3]?a-this.offset.click.top<this.containment[1]?a+n.grid[1]:a-n.grid[1]:a:a;var l=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0];o=this.containment?l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2]?l-this.offset.click.left<this.containment[0]?l+n.grid[0]:l-n.grid[0]:l:l}return{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this,o=this.counter;window.setTimeout(function(){o==r.counter&&r.refreshPositions(!i)},0)},_clear:function(t,n){this.reverting=!1;var i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var r in this._storedCSS)("auto"==this._storedCSS[r]||"static"==this._storedCSS[r])&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!n&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||n||i.push(function(e){this._trigger("update",e,this._uiHash())}),!e.ui.contains(this.element[0],this.currentItem[0])){n||i.push(function(e){this._trigger("remove",e,this._uiHash())});for(var r=this.containers.length-1;r>=0;r--)e.ui.contains(this.containers[r].element[0],this.currentItem[0])&&!n&&(i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.containers[r])),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.containers[r])))}for(var r=this.containers.length-1;r>=0;r--)n||i.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over&&(i.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(var r=0;r<i.length;r++)i[r].call(this,t);this._trigger("stop",t,this._uiHash())}return!1}if(n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!n){for(var r=0;r<i.length;r++)i[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.extend(e.ui.sortable,{version:"@VERSION"})}(jQuery),/*!
 * jQuery UI Touch Punch 0.2.2
 *
 * Copyright 2011, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var n=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}if(e.support.touch="ontouchend"in document,e.support.touch){var n,i=e.ui.mouse.prototype,r=i._mouseInit;i._touchStart=function(e){var i=this;!n&&i._mouseCapture(e.originalEvent.changedTouches[0])&&(n=!0,i._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},i._touchMove=function(e){n&&(this._touchMoved=!0,t(e,"mousemove"))},i._touchEnd=function(e){n&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),n=!1)},i._mouseInit=function(){var t=this;t.element.bind("touchstart",e.proxy(t,"_touchStart")).bind("touchmove",e.proxy(t,"_touchMove")).bind("touchend",e.proxy(t,"_touchEnd")),r.call(t)}}}(jQuery),/**
 * @license jQuery paging plugin v1.8 06/21/2010
 * http://www.xarg.org/project/jquery-color-plugin-xcolor/
 *
 * Copyright (c) 2010, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
function(e,t){function n(e){function i(e,n){var i;if(t!==e&&(e=parseFloat(e)),t===n)n=255,i=255;else if(1===n){if(t===e||1===e)return 1;n=100,i=1}else i=n;return isNaN(e)||0>=e?0:e>n?i:1>e||1===n?1===i?e:0|e*i:e*i/n}function r(e,t,n){function r(e,t,n){return n=++n%1,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+(t-e)*(4-6*n):e}if(e=i(e,360)/360,t=i(t,1),n=i(n,1),0===t)return n=Math.round(255*n),[n,n,n];var o=.5>n?n+n*t:n+t-n*t,s=n+n-o;return[Math.round(255*r(s,o,e+1/3)),Math.round(255*r(s,o,e)),Math.round(255*r(s,o,e-1/3))]}function a(e,t,n){e=i(e,360)/60,t=i(t,1),n=i(n,1);var r=0|e,o=e-r,s=Math.round(255*n*(1-t)),a=Math.round(255*n*(1-t*o)),l=Math.round(255*n*(1-t*(1-o)));switch(n=Math.round(255*n),r){case 1:return[a,n,s];case 2:return[s,n,l];case 3:return[s,a,n];case 4:return[l,s,n];case 5:return[n,s,a]}return[n,l,s]}this.setColor=function(e){if(this.success=!0,"number"==typeof e)return this.a=(255&e>>24)/255,this.r=255&e>>16,this.g=255&e>>8,this.b=255&e,void 0;for(;"object"==typeof e;){if(0 in e&&1 in e&&2 in e)return this.a=i(e[3],1),this.r=i(e[0]),this.g=i(e[1]),this.b=i(e[2]),void 0;if("r"in e&&"g"in e&&"b"in e)return this.a=i(e.a,1),this.r=i(e.r),this.g=i(e.g),this.b=i(e.b),void 0;if("h"in e&&"s"in e){var n;if("l"in e)n=r(e.h,e.s,e.l);else if("v"in e)n=a(e.h,e.s,e.v);else{if(!("b"in e))break;n=a(e.h,e.s,e.b)}return this.a=i(e.a,1),this.r=n[0],this.g=n[1],this.b=n[2],void 0}break}if("string"==typeof e){e=e.toLowerCase().replace(/[^a-z0-9,.()#%]/g,"");var o,l;if("transparent"===e)return this.a=this.r=this.g=this.b=0,void 0;if("rand"===e)return l=0|16777215*Math.random(),this.a=1,this.r=255&l>>16,this.g=255&l>>8,this.b=255&l,void 0;if(t!==s[e]&&(e="#"+s[e]),o=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/.exec(e))return this.a=1,this.r=parseInt(o[1],16),this.g=parseInt(o[2],16),this.b=parseInt(o[3],16),void 0;if(o=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/.exec(e))return this.a=1,this.r=parseInt(o[1]+o[1],16),this.g=parseInt(o[2]+o[2],16),this.b=parseInt(o[3]+o[3],16),void 0;if(o=/^rgba?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?\)$/.exec(e))return this.a=i(o[5],1),this.r=i(o[1]),this.g=i(o[2]),this.b=i(o[3]),void 0;if(o=/^rgba?\(([0-9.]+\%),([0-9.]+\%),([0-9.]+\%)(,([0-9.]+)\%?)?\)$/.exec(e))return this.a=i(o[5],1),this.r=Math.round(2.55*i(o[1],100)),this.g=Math.round(2.55*i(o[2],100)),this.b=Math.round(2.55*i(o[3],100)),void 0;if(o=/^hs([bvl])a?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?\)$/.exec(e)){var c;return c="l"===o[1]?r:a,l=c(parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10)),this.a=i(o[6],1),this.r=l[0],this.g=l[1],this.b=l[2],void 0}if(o=/^(\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?$/.exec(e))return this.a=i(o[5],1),this.r=i(o[1]),this.g=i(o[2]),this.b=i(o[3]),void 0}this.success=!1},this.getColor=function(e){if(t!==e)switch(e.toLowerCase()){case"rgb":return this.getRGB();case"hsv":case"hsb":return this.getHSV();case"hsl":return this.getHSL();case"int":return this.getInt();case"array":return this.getArray();case"fraction":return this.getFraction();case"css":case"style":return this.getCSS();case"name":return this.getName()}return this.getHex()},this.getRGB=function(){return this.success?{r:this.r,g:this.g,b:this.b,a:this.a}:null},this.getCSS=function(){return this.success?0===this.a?"transparent":1===this.a?"rgb("+this.r+","+this.g+","+this.b+")":o(this.r,this.g,this.b,this.a):null},this.getArray=function(){return this.success?[this.r,this.g,this.b,0|100*this.a]:null},this.getName=function(){if(this.success){var e,t=null,i=s,r=this.getHSL();for(var o in i){var a=new n(i[o]).getHSL(),l=Math.sqrt(.5*(r.h-a.h)*(r.h-a.h)+.5*(r.s-a.s)*(r.s-a.s)+(r.l-a.l)*(r.l-a.l));(null===t||t>l)&&(t=l,e=o)}return e}return null},this.getFraction=function(){return this.success?{r:this.r/255,g:this.g/255,b:this.b/255,a:this.a}:null},this.getHSL=function(){if(this.success){var e,t,n=this.r/255,i=this.g/255,r=this.b/255,o=Math.min(n,i,r),s=Math.max(n,i,r),a=s-o,l=(s+o)/2;return 0===a?(e=0,t=0):(e=n===s?(i-r)/a:i===s?2+(r-n)/a:4+(n-i)/a,t=a/(.5>l?s+o:2-s-o)),{h:Math.round(60*((6+e)%6)),s:Math.round(100*t),l:Math.round(100*l),a:this.a}}return null},this.getHSV=function(){if(this.success){var e,t,n=this.r/255,i=this.g/255,r=this.b/255,o=Math.min(n,i,r),s=Math.max(n,i,r),a=s-o,l=s;return t=0===s?0:a/s,e=0===a?0:n===s?(i-r)/a:i===s?2+(r-n)/a:4+(n-i)/a,{h:Math.round(60*((6+e)%6)),s:Math.round(100*t),v:Math.round(100*l),a:this.a}}return null},this.getHex=function(){if(this.success){var e="0123456789abcdef",t=this.r>>4,n=this.g>>4,i=this.b>>4,r=15&this.r,o=15&this.g,s=15&this.b;return 0===(t^r|n^o|i^s)?"#"+e.charAt(t)+e.charAt(n)+e.charAt(i):"#"+e.charAt(t)+e.charAt(r)+e.charAt(n)+e.charAt(o)+e.charAt(i)+e.charAt(s)}return null},this.getInt=function(e){return this.success?t!==e?(0|100*this.a)<<24^this.r<<16^this.g<<8^this.b:16777215&(this.r<<16^this.g<<8^this.b):null},this.toString=function(){return this.getHex()},this.setColor(e)}function i(t,i){var r="";do if(r=e.curCSS(t,i),""!==r&&"transparent"!==r&&"rgba(0, 0, 0, 0)"!==r||e.nodeName(t,"body"))break;while(t=t.parentNode);return""===r&&(r=e.support.rgba?"transparent":"backgroundColor"===i?"white":"black"),new n(r)}function r(){this.test=function(e){var t=new n(e);return t.success?t:null},this.red=function(e){var t=new n(e);return t.success?(t.g=255,t.b=255,t):null},this.blue=function(e){var t=new n(e);return t.success?(t.r=255,t.g=255,t):null},this.green=function(e){var t=new n(e);return t.success?(t.r=255,t.b=255,t):null},this.sepia=function(e){var t=new n(e);if(t.success){var i=t.r,r=t.g,o=t.b;return t.r=Math.round(.393*i+.769*r+.189*o),t.g=Math.round(.349*i+.686*r+.168*o),t.b=Math.round(.272*i+.534*r+.131*o),t}return null},this.random=function(){return new n([0|255*Math.random(),0|255*Math.random(),0|255*Math.random()])},this.inverse=function(e){var t=new n(e);return t.success?(t.r^=255,t.g^=255,t.b^=255,t):null},this.opacity=function(e,t,i){var r=new n(e),o=new n(t);return r.success&o.success?(i>1&&(i/=100),i=Math.max(i-1+o.a,0),r.r=Math.round((o.r-r.r)*i+r.r),r.g=Math.round((o.g-r.g)*i+r.g),r.b=Math.round((o.b-r.b)*i+r.b),r):null},this.greyfilter=function(e,t){var i,r=new n(e);if(r.success){switch(t){case 1:i=.35+13*(r.r+r.g+r.b)/60;break;case 2:i=(13*(r.r+r.g+r.b)+5355)/60;break;default:i=.3*r.r+.59*r.g+.11*r.b}return r.r=r.g=r.b=Math.min(0|i,255),r}return null},this.webround=function(e){var t=new n(e);return t.success?((t.r+=51-t.r%51)>255&&(t.r=255),(t.g+=51-t.g%51)>255&&(t.g=255),(t.b+=51-t.b%51)>255&&(t.b=255),t):null},this.distance=function(e,t){var i=new n(e),r=new n(t);return i.success&r.success?Math.sqrt(3*(r.r-i.r)*(r.r-i.r)+4*(r.g-i.g)*(r.g-i.g)+2*(r.b-i.b)*(r.b-i.b)):null},this.readable=function(e,t,i){var r=new n(t),o=new n(e);if(i=i||10,r.success&o.success){var s=.299*o.r+.587*o.g+.114*o.b-.299*r.r-.587*r.g-.114*r.b;return!(s<1.5+141.162*Math.pow(.975,i)&&s>-.5-154.709*Math.pow(.99,i))}return null},this.combine=function(e,t){var i=new n(e),r=new n(t);return i.success&r.success?(i.r^=r.r,i.g^=r.g,i.b^=r.b,i):null},this.breed=function(e,t){var i=new n(e),r=new n(t),o=0,s=6;if(i.success&r.success){for(;s--;)Math.random()<.5&&(o|=15<<(s<<2));return i.r=i.r&(255&o>>16)|r.r&(255^255&o>>16),i.g=i.g&(255&o>>8)|r.g&(255^255&o>>8),i.b=i.b&(255&o>>0)|r.b&(255^255&o>>0),i}return null},this.additive=function(e,t){var i=new n(e),r=new n(t);return i.success&r.success?((i.r+=r.r)>255&&(i.r=255),(i.g+=r.g)>255&&(i.g=255),(i.b+=r.b)>255&&(i.b=255),i):null},this.subtractive=function(e,t){var i=new n(e),r=new n(t);return i.success&r.success?((i.r+=r.r-255)<0&&(i.r=0),(i.g+=r.g-255)<0&&(i.g=0),(i.b+=r.b-255)<0&&(i.b=0),i):null},this.subtract=function(e,t){var i=new n(e),r=new n(t);return i.success&r.success?((i.r-=r.r)<0&&(i.r=0),(i.g-=r.g)<0&&(i.g=0),(i.b-=r.b)<0&&(i.b=0),i):null},this.multiply=function(e,t){var i=new n(e),r=new n(t);return i.success&r.success?(i.r=0|i.r/255*r.r,i.g=0|i.g/255*r.g,i.b=0|i.b/255*r.b,i):null},this.average=function(e,t){var i=new n(e),r=new n(t);return i.success&r.success?(i.r=i.r+r.r>>1,i.g=i.g+r.g>>1,i.b=i.b+r.b>>1,i):null},this.triad=function(e){var t=new n(e);return t.success?[t,new n([t.b,t.r,t.g]),new n([t.g,t.b,t.r])]:null},this.tetrad=function(e){var t=new n(e);return t.success?[t,new n([t.b,t.r,t.b]),new n([t.b,t.g,t.r]),new n([t.r,t.b,t.r])]:null},this.gradientlevel=function(e,i,r,o){if(t===o&&(o=1),r>o)return null;var s=new n(e),a=new n(i);return s.success&a.success?(s.r=0|s.r+(a.r-s.r)/o*r,s.g=0|s.g+(a.g-s.g)/o*r,s.b=0|s.b+(a.b-s.b)/o*r,s):null},this.gradientarray=function(t,i,r){if(i>r||!t.length)return null;if(1==t.length)return new n(t[0]);var o=0|i*(t.length-1)/(r+1),s=r/(t.length-1);return e.xcolor.gradientlevel(t[o],t[o+1],i-o*s,s)},this.nearestname=function(e){return e=new n(e),e.success?e.getName():null},this.darken=function(e,i,r){if(t===i)i=1;else if(0>i)return this.lighten(e,-i,r);t===r&&(r=32);var o=new n(e);return o.success?((o.r-=r*i)<0&&(o.r=0),(o.g-=r*i)<0&&(o.g=0),(o.b-=r*i)<0&&(o.b=0),o):null},this.lighten=function(e,i,r){if(t===i)i=1;else if(0>i)return this.darken(e,-i,r);t===r&&(r=32);var o=new n(e);return o.success?((o.r+=r*i)>255&&(o.r=255),(o.g+=r*i)>255&&(o.g=255),(o.b+=r*i)>255&&(o.b=255),o):null},this.analogous=function(e,i,r){t===i&&(i=8),t===r&&(r=30);var o=new n(e);if(o.success){var s=o.getHSV(),a=360/r,l=[o];for(s.h=(s.h-(a*i>>1)+720)%360;--i;)s.h+=a,s.h%=360,l.push(new n(s));return l}return null},this.complementary=function(e){var t=new n(e);if(t.success){var i=t.getHSL();return i.h=(i.h+180)%360,new n(i)}return null},this.splitcomplement=function(e){var t=new n(e);if(t.success){var i=t.getHSV(),r=[t];return i.h+=72,i.h%=360,r.push(new n(i)),i.h+=144,i.h%=360,r.push(new n(i)),r}return null},this.monochromatic=function(e,i){t===i&&(i=6);var r=new n(e);if(r.success){for(var o=r.getHSV(),s=[r];--i;)o.v+=20,o.v%=100,s.push(new n(o));return s}return null}}var o,s={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};e.each(["color","backgroundColor","borderColor","borderTopColor","borderBottomColor","borderLeftColor","borderRightColor","outlineColor"],function(r,s){e.cssHooks[s]={set:function(e,t){e.style[s]=new n(t).getCSS()}},e.fx.step[s]=function(e){if(t===e.xinit){if("string"==typeof e.end&&-1!==e.end.indexOf(";")){var r,a=e.end.split(";");if(a.length>2){for(r in a)a[r]=-1===a[r].indexOf("native")?new n(a[r]):i(e.elem,s);e.start=null,e.end=a}else e.start=new n(a[0]),e.end=new n(a[1])}else e.start=i(e.elem,s),e.end=new n(e.end);e.xinit=1}var l=e.start,c=e.end,u=e.pos;if(null===l){var d=u*(c.length-1),h=1>u?0|d:c.length-2;l=c[h],c=c[h+1],u=d-h}e.elem.style[s]=o(0|l.r+u*(c.r-l.r),0|l.g+u*(c.g-l.g),0|l.b+u*(c.b-l.b),l.a+u*(c.a-l.a))}}),e(function(){var t=document.createElement("div"),n=t.style;o=function(e,t,n,i){return"rgba("+e+","+t+","+n+","+i+")"},n.cssText="background-color:rgba(1,1,1,.5)",(e.support.rgba=n.backgroundColor.indexOf("rgba")>-1)||(o=function(e,t,n){return"rgb("+e+","+t+","+n+")"})}),e.xcolor=new r,e.fn.readable=function(){var t=this[0],n="",i="";do if(""!==n||"transparent"!==(n=e.curCSS(t,"color"))&&"rgba(0, 0, 0, 0)"!==n||(n=""),""!==i||"transparent"!==(i=e.curCSS(t,"backgroundColor"))&&"rgba(0, 0, 0, 0)"!==i||(i=""),""!==n&&""!==i||e.nodeName(t,"body"))break;while(t=t.parentNode);return""===n&&(n="black"),""===i&&(i="white"),e.xcolor.readable(i,n)},e.fn.colorize=function(e,t,i){var r={gradient:function(e,t){return e/t},flip:function(e,t,n,i){return" "===i?n:!n},pillow:function(e,t){return e*=2,t>=e?e/t:2-e/t}};if("function"==typeof i);else{if(void 0===r[i])return;i=r[i]}e=new n(e),t=new n(t),this.each(function(){var n=this.childNodes,r=0,s=0;if(e.success&t.success){for(var a=n.length;a--;r+=n[a].textContent.length);!function l(n){var a,c=0;if(3===n.nodeType){var u,d,h,f=e,p=t,m=r,g=0,v=i;for(a=n.nodeValue.length,d=document.createElement("span"),c=0;a>c;++c)u=document.createElement("span"),h=n.nodeValue.charAt(c),g=v(s,m,g,h),u.style.color=o(0|f.r+g*(p.r-f.r),0|f.g+g*(p.g-f.g),0|f.b+g*(p.b-f.b),f.a+g*(p.a-f.a)),u.appendChild(document.createTextNode(h)),d.appendChild(u),++s;n.parentNode.replaceChild(d,n)}else for(a=n.childNodes.length;a>c;++c)l(n.childNodes[c])}(this)}})}}(jQuery),$(function(){var e=[],t=$(window),n=[{name:"phone",max:768},{name:"tablet",min:768,max:980},{name:"mobile",max:980},{name:"desktop",min:980}],i=function(){var e=t.width(),i=$.grep(n,function(t){return r(t,e)});return i.length?i:void 0},r=function(e,t){return(!e.max||e.max>t)&&(!e.min||e.min<=t)},o=function(t){var n=$.map(t,function(e){return e.name}),i=$.grep(e,function(e){return-1==$.inArray(e,n)}),r=$.grep(n,function(t){return-1==$.inArray(t,e)});0!==i.length+r.length&&($.each(i,function(e,t){s("exit",t),s("change",t,"exit")}),$.each(r,function(e,t){s("enter",t),s("change",t,"enter")}),i.length&&s("exit","stateList",i),r.length&&s("enter","stateList",r),e=n)},s=function(e,t,n){$(document).trigger("mediachange."+e+"."+t,n)},a=function(){o(i())};$(window).on("resize",a),$(a)}),function(){var e={inline_styles:!0,language:"en",mode:"textareas",plugins:"preview,inlinepopups",theme:"advanced",theme_advanced_buttons1:"bold,italic,separator,formatselect,separator,bullist,numlist,blockquote,separator,link,separator,undo,redo,preview,separator,code",theme_advanced_buttons2:"",theme_advanced_buttons3:"",theme_advanced_toolbar_location:"top",width:"80%",valid_elements:"@[dir],h1,h2,h3,h4,h5,h6,p,em/i,strong/b,ul,ul,li,pre,code,address,a[href|target=_self],blockquote,bdo",relative_urls:!1};$(function(){$("textarea.mceEditor").tinymce(e)})}(),function(e,t,n){function i(e,n){var i,r=t.createElement(e||"div");for(i in n)r[i]=n[i];return r}function r(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function o(e,t,n,i){var r=["opacity",t,~~(100*e),n,i].join("-"),o=.01+100*(n/i),s=Math.max(1-(1-e)/t*(100-o),e),a=u.substring(0,u.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return h[r]||(f.insertRule("@"+l+"keyframes "+r+"{"+"0%{opacity:"+s+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+s+"}"+"}",0),h[r]=1),r}function s(e,t){var i,r,o=e.style;if(o[t]!==n)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<d.length;r++)if(i=d[r]+t,o[i]!==n)return i}function a(e,t){for(var n in t)e.style[s(e,n)||n]=t[n];return e}function l(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)e[r]===n&&(e[r]=i[r])}return e}function c(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}/**
 * Copyright (c) 2011 Felix Gnass [fgnass at neteye dot de]
 * Licensed under the MIT license
 */
var u,d=["webkit","Moz","ms","O"],h={},f=function(){var e=i("style");return r(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"},m=function g(e){return this.spin?(this.opts=l(e||{},g.defaults,p),void 0):new g(e)};m.defaults={},l(m.prototype,{spin:function(e){this.stop();var t,n,r=this,o=r.opts,s=r.el=a(i(0,{className:o.className}),{position:"relative",zIndex:o.zIndex}),l=o.radius+o.length+o.width;if(e&&(e.insertBefore(s,e.firstChild||null),n=c(e),t=c(s),a(s,{left:("auto"==o.left?n.x-t.x+(e.offsetWidth>>1):o.left+l)+"px",top:("auto"==o.top?n.y-t.y+(e.offsetHeight>>1):o.top+l)+"px"})),s.setAttribute("aria-role","progressbar"),r.lines(s,r.opts),!u){var d=0,h=o.fps,f=h/o.speed,p=(1-o.opacity)/(f*o.trail/100),m=f/o.lines;!function g(){d++;for(var e=o.lines;e;e--){var t=Math.max(1-(d+e*m)%f*p,o.opacity);r.opacity(s,o.lines-e,t,o)}r.timeout=r.el&&setTimeout(g,~~(1e3/h))}()}return r},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=n),this},lines:function(e,t){function n(e,n){return a(i(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*l+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.width>>1)+"px"})}for(var s,l=0;l<t.lines;l++)s=a(i(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:u&&o(t.opacity,t.trail,l,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&r(s,a(n("#000","0 0 4px #000"),{top:"2px"})),r(e,r(s,n(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),!function(){function e(e,t){return i("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=a(i("group"),{behavior:"url(#default#VML)"});!s(t,"transform")&&t.adj?(f.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(t,n){function i(){return a(e("group",{coordsize:c+" "+c,coordorigin:-l+" "+-l}),{width:c,height:c})}function o(t,o,s){r(d,r(a(i(),{rotation:360/n.lines*t+"deg",left:~~o}),r(a(e("roundrect",{arcsize:1}),{width:l,height:n.width,left:n.radius,top:-n.width>>1,filter:s}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var s,l=n.length+n.width,c=2*l,u=2*-(n.width+n.length)+"px",d=a(i(),{position:"absolute",top:u,left:u});if(n.shadow)for(s=1;s<=n.lines;s++)o(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=n.lines;s++)o(s);return r(t,d)},m.prototype.opacity=function(e,t,n,i){var r=e.firstChild;i=i.shadow&&i.lines||0,r&&t+i<r.childNodes.length&&(r=r.childNodes[t+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=n))}):u=s(t,"animation")}(),e.Spinner=m}(window,document),function(){var e;e=function(){function e(){}var t,n,i,r,o,s,a,l,c,u,d;return c=i=u=a=s=o=l=n=t=r=null,d=function(){var e;return e=$.parseJSON($.cookie("domain-info")),c=$.parseJSON($.cookie("user-info")),null!=e&&null!=c?(i=decodeURI(e.root),u=decodeURI(c.username),a=decodeURI(c.name).replace(/\+/g," "),s=decodeURI(c.first_name),o=decodeURI(c.email),l=c.is_author,n=void 0,t=void 0,r=void 0):void 0},d(),e.prototype.checkForUser=function(){return d()},e.prototype.isAuthorInCurrentContext=function(){return null!=n&&$.inArray(u,n)>=0},e.prototype.isEditorInCurrentContext=function(){return"undefined"!=typeof editorUsernames&&null!==editorUsernames&&$.inArray(u,editorUsernames)>=0},e.prototype.isYourAuthorPage=function(){return null!=t&&u===t},e.prototype.isLoggedIn=function(){return!!u},e.prototype.getUserEmail=function(){return c?decodeURI(c.email):void 0},e.prototype.getFullName=function(){return a},e.prototype.getFirstName=function(){return s},e.prototype.getEmail=function(){return o},e.prototype.getUsername=function(){return u},e.prototype.getIsAuthor=function(){return l},e.prototype.setAuthorUsernames=function(e){return n=e},e.prototype.setEditorUsernames=function(e){var t;return t=e},e.prototype.setAuthorPageUsername=function(e){return t=e},e.prototype.setBookSlug=function(e){return r=e},e}(),window.Leanpub=new e}.call(this),function(){function e(t,n,i){var r=e.resolve(t);if(null==r){i=i||t,n=n||"root";var o=new Error('Failed to require "'+i+'" from "'+n+'"');throw o.path=i,o.parent=n,o.require=!0,o}var s=e.modules[r];if(!s._resolving&&!s.exports){var a={};a.exports={},a.client=a.component=!0,s._resolving=!0,s.call(this,a.exports,e.relative(r),a),delete s._resolving,s.exports=a.exports}return s.exports}e.modules={},e.aliases={},e.resolve=function(t){"/"===t.charAt(0)&&(t=t.slice(1));for(var n=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],i=0;i<n.length;i++){var t=n[i];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}},e.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var i=0;i<t.length;++i)".."==t[i]?e.pop():"."!=t[i]&&""!=t[i]&&n.push(t[i]);return e.concat(n).join("/")},e.register=function(t,n){e.modules[t]=n},e.alias=function(t,n){if(!e.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');e.aliases[n]=t},e.relative=function(t){function n(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function i(n){var r=i.resolve(n);return e(r,t,n)}var r=e.normalize(t,"..");return i.resolve=function(i){var o=i.charAt(0);if("/"==o)return i.slice(1);if("."==o)return e.normalize(r,i);var s=t.split("/"),a=n(s,"deps")+1;return a||(a=0),i=s.slice(0,a+1).join("/")+"/deps/"+i},i.exists=function(t){return e.modules.hasOwnProperty(i.resolve(t))},i},e.register("component-emitter/index.js",function(e,t,n){function i(e){return e?r(e):void 0}function r(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}n.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){i.off(e,n),t.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i,r=0;r<n.length;r++)if(i=n[r],i===t||i.fn===t){n.splice(r,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var i=0,r=n.length;r>i;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}}),e.register("dropzone/index.js",function(e,t,n){n.exports=t("./lib/dropzone.js")}),e.register("dropzone/lib/dropzone.js",function(e,t,n){/*
#
# More info at [www.dropzonejs.com](http://www.dropzonejs.com)
#
# Copyright (c) 2012, Matias Meno
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
# THE SOFTWARE.
#
*/
(function(){var e,i,r,o,s,a,l,c,u={}.hasOwnProperty,d=function(e,t){function n(){this.constructor=e}for(var i in t)u.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},h=[].slice;i="undefined"!=typeof Emitter&&null!==Emitter?Emitter:t("emitter"),l=function(){},e=function(e){function t(e,i){var r,o,s;if(this.element=e,this.version=t.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(t.instances.push(this),this.element.dropzone=this,r=null!=(s=t.optionsForElement(this.element))?s:{},this.options=n({},this.defaultOptions,r,null!=i?i:{}),this.options.forceFallback||!t.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),this.previewsContainer=this.options.previewsContainer?t.getElement(this.options.previewsContainer,"previewsContainer"):this.element,this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:t.getElements(this.options.clickable,"clickable")),this.init()}var n;return d(t,e),t.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"],t.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return l},forceFallback:!1,fallback:function(){var e,n,i,r,o,s;for(this.element.className=""+this.element.className+" dz-browser-not-supported",s=this.element.getElementsByTagName("div"),r=0,o=s.length;o>r;r++)e=s[r],/(^| )dz-message($| )/.test(e.className)&&(n=e,e.className="dz-message");return n||(n=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(n)),i=n.getElementsByTagName("span")[0],i&&(i.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,n,i;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},n=e.width/e.height,i=this.options.thumbnailWidth/this.options.thumbnailHeight,e.height<this.options.thumbnailHeight||e.width<this.options.thumbnailWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n>i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*i):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/i),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var n,i,r,o,s,a,l,c,u,d,h,f,p,m=this;for(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),d=e.previewElement.querySelectorAll("[data-dz-name]"),o=0,l=d.length;l>o;o++)n=d[o],n.textContent=e.name;for(h=e.previewElement.querySelectorAll("[data-dz-size]"),s=0,c=h.length;c>s;s++)n=h[s],n.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),i=function(n){return n.preventDefault(),n.stopPropagation(),e.status===t.UPLOADING?t.confirm(m.options.dictCancelUploadConfirmation,function(){return m.removeFile(e)}):m.options.dictRemoveFileConfirmation?t.confirm(m.options.dictRemoveFileConfirmation,function(){return m.removeFile(e)}):m.removeFile(e)},f=e.previewElement.querySelectorAll("[data-dz-remove]"),p=[],a=0,u=f.length;u>a;a++)r=f[a],p.push(r.addEventListener("click",i));return p},removedfile:function(e){var t;return null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var n,i,r,o,s;for(e.previewElement.classList.remove("dz-file-preview"),e.previewElement.classList.add("dz-image-preview"),o=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),s=[],i=0,r=o.length;r>i;i++)n=o[i],n.alt=e.name,s.push(n.src=t);return s},error:function(e,t){var n,i,r,o,s;for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),o=e.previewElement.querySelectorAll("[data-dz-errormessage]"),s=[],i=0,r=o.length;r>i;i++)n=o[i],s.push(n.textContent=t);return s},errormultiple:l,processing:function(e){return e.previewElement.classList.add("dz-processing"),e._removeLink?e._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:l,uploadprogress:function(e,t){var n,i,r,o,s;for(o=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),s=[],i=0,r=o.length;r>i;i++)n=o[i],s.push(n.style.width=""+t+"%");return s},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(e){return e.previewElement.classList.add("dz-success")},successmultiple:l,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:l,complete:function(e){return e._removeLink?e._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>✔</span></div>\n  <div class="dz-error-mark"><span>✘</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},n=function(){var e,t,n,i,r,o,s;for(i=arguments[0],n=2<=arguments.length?h.call(arguments,1):[],o=0,s=n.length;s>o;o++){t=n[o];for(e in t)r=t[e],i[e]=r}return i},t.prototype.getAcceptedFiles=function(){var e,t,n,i,r;for(i=this.files,r=[],t=0,n=i.length;n>t;t++)e=i[t],e.accepted&&r.push(e);return r},t.prototype.getRejectedFiles=function(){var e,t,n,i,r;for(i=this.files,r=[],t=0,n=i.length;n>t;t++)e=i[t],e.accepted||r.push(e);return r},t.prototype.getQueuedFiles=function(){var e,n,i,r,o;for(r=this.files,o=[],n=0,i=r.length;i>n;n++)e=r[n],e.status===t.QUEUED&&o.push(e);return o},t.prototype.getUploadingFiles=function(){var e,n,i,r,o;for(r=this.files,o=[],n=0,i=r.length;i>n;n++)e=r[n],e.status===t.UPLOADING&&o.push(e);return o},t.prototype.init=function(){var e,n,i,r,o,s,a,l=this;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(i=function(){return l.hiddenFileInput&&document.body.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),(null==l.options.maxFiles||l.options.maxFiles>1)&&l.hiddenFileInput.setAttribute("multiple","multiple"),null!=l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",document.body.appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",function(){var e,t,n,r;if(t=l.hiddenFileInput.files,t.length)for(n=0,r=t.length;r>n;n++)e=t[n],l.addFile(e);return i()})},i()),this.URL=null!=(s=window.URL)?s:window.webkitURL,a=this.events,r=0,o=a.length;o>r;r++)e=a[r],this.on(e,this.options[e]);return this.on("uploadprogress",function(){return l.updateTotalUploadProgress()}),this.on("removedfile",function(){return l.updateTotalUploadProgress()}),this.on("canceled",function(e){return l.emit("complete",e)}),this.on("complete",function(){return 0===l.getUploadingFiles().length&&0===l.getQueuedFiles().length?setTimeout(function(){return l.emit("queuecomplete")},0):void 0}),n=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return l.emit("dragstart",e)},dragenter:function(e){return n(e),l.emit("dragenter",e)},dragover:function(e){var t;return t=e.dataTransfer.effectAllowed,e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",n(e),l.emit("dragover",e)},dragleave:function(e){return l.emit("dragleave",e)},drop:function(e){return n(e),l.drop(e)},dragend:function(e){return l.emit("dragend",e)},paste:function(e){return n(e),l.paste(e)}}}],this.clickableElements.forEach(function(e){return l.listeners.push({element:e,events:{click:function(n){return e!==l.element||n.target===l.element||t.elementInside(n.target,l.element.querySelector(".dz-message"))?l.hiddenFileInput.click():void 0}}})}),this.enable(),this.options.init.call(this)},t.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)},t.prototype.updateTotalUploadProgress=function(){var e,t,n,i,r,o,s,a;if(i=0,n=0,e=this.getAcceptedFiles(),e.length){for(a=this.getAcceptedFiles(),o=0,s=a.length;s>o;o++)t=a[o],i+=t.upload.bytesSent,n+=t.upload.total;r=100*i/n}else r=100;return this.emit("totaluploadprogress",r,n,i)},t.prototype.getFallbackForm=function(){var e,n,i,r;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',n=t.createElement(i),"FORM"!==this.element.tagName?(r=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),r.appendChild(n)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:n)},t.prototype.getExistingFallback=function(){var e,t,n,i,r,o;for(t=function(e){var t,n,i;for(n=0,i=e.length;i>n;n++)if(t=e[n],/(^| )fallback($| )/.test(t.className))return t},o=["div","form"],i=0,r=o.length;r>i;i++)if(n=o[i],e=t(this.element.getElementsByTagName(n)))return e},t.prototype.setupEventListeners=function(){var e,t,n,i,r,o,s;for(o=this.listeners,s=[],i=0,r=o.length;r>i;i++)e=o[i],s.push(function(){var i,r;i=e.events,r=[];for(t in i)n=i[t],r.push(e.element.addEventListener(t,n,!1));return r}());return s},t.prototype.removeEventListeners=function(){var e,t,n,i,r,o,s;for(o=this.listeners,s=[],i=0,r=o.length;r>i;i++)e=o[i],s.push(function(){var i,r;i=e.events,r=[];for(t in i)n=i[t],r.push(e.element.removeEventListener(t,n,!1));return r}());return s},t.prototype.disable=function(){var e,t,n,i,r;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),i=this.files,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(this.cancelUpload(e));return r},t.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},t.prototype.filesize=function(e){var t;return e>=109951162777.6?(e/=109951162777.6,t="TiB"):e>=107374182.4?(e/=107374182.4,t="GiB"):e>=104857.6?(e/=104857.6,t="MiB"):e>=102.4?(e/=102.4,t="KiB"):(e=10*e,t="b"),"<strong>"+Math.round(e)/10+"</strong> "+t},t.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},t.prototype.drop=function(e){var t,n;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,t.length&&(n=e.dataTransfer.items,n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)))},t.prototype.paste=function(e){},t.prototype.handleFiles=function(e){var t,n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(this.addFile(t));return r},t.prototype._addFilesFromItems=function(e){var t,n,i,r,o;for(o=[],i=0,r=e.length;r>i;i++)n=e[i],null!=n.webkitGetAsEntry&&(t=n.webkitGetAsEntry())?t.isFile?o.push(this.addFile(n.getAsFile())):t.isDirectory?o.push(this._addFilesFromDirectory(t,t.name)):o.push(void 0):null!=n.getAsFile?null==n.kind||"file"===n.kind?o.push(this.addFile(n.getAsFile())):o.push(void 0):o.push(void 0);return o},t.prototype._addFilesFromDirectory=function(e,t){var n,i,r=this;return n=e.createReader(),i=function(e){var n,i,o;for(i=0,o=e.length;o>i;i++)n=e[i],n.isFile?n.file(function(e){return r.options.ignoreHiddenFiles&&"."===e.name.substring(0,1)?void 0:(e.fullPath=""+t+"/"+e.name,r.addFile(e))}):n.isDirectory&&r._addFilesFromDirectory(n,""+t+"/"+n.name)},n.readEntries(i,function(e){return"undefined"!=typeof console&&null!==console?"function"==typeof console.log?console.log(e):void 0:void 0})},t.prototype.accept=function(e,n){return e.size>1024*1024*this.options.maxFilesize?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,n):n(this.options.dictInvalidFileType)},t.prototype.addFile=function(e){var n=this;return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return t?(e.accepted=!1,n._errorProcessing([e],t)):n.enqueueFile(e),n._updateMaxFilesReachedClass()})},t.prototype.enqueueFiles=function(e){var t,n,i;for(n=0,i=e.length;i>n;n++)t=e[n],this.enqueueFile(t);return null},t.prototype.enqueueFile=function(e){var n=this;if(e.accepted=!0,e.status!==t.ADDED)throw new Error("This file can't be queued because it has already been processed or was rejected.");return e.status=t.QUEUED,this.options.autoProcessQueue?setTimeout(function(){return n.processQueue()},0):void 0},t.prototype._thumbnailQueue=[],t.prototype._processingThumbnail=!1,t.prototype._enqueueThumbnail=function(e){var t=this;return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*1024*this.options.maxThumbnailFilesize?(this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)):void 0},t.prototype._processThumbnailQueue=function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(){return e._processingThumbnail=!1,e._processThumbnailQueue()})},t.prototype.removeFile=function(e){return e.status===t.UPLOADING&&this.cancelUpload(e),this.files=c(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},t.prototype.removeAllFiles=function(e){var n,i,r,o;for(null==e&&(e=!1),o=this.files.slice(),i=0,r=o.length;r>i;i++)n=o[i],(n.status!==t.UPLOADING||e)&&this.removeFile(n);return null},t.prototype.createThumbnail=function(e,t){var n,i=this;return n=new FileReader,n.onload=function(){var r;return r=document.createElement("img"),r.onload=function(){var n,o,s,l,c,u,d,h;return e.width=r.width,e.height=r.height,s=i.options.resize.call(i,e),null==s.trgWidth&&(s.trgWidth=i.options.thumbnailWidth),null==s.trgHeight&&(s.trgHeight=i.options.thumbnailHeight),n=document.createElement("canvas"),o=n.getContext("2d"),n.width=s.trgWidth,n.height=s.trgHeight,a(o,r,null!=(c=s.srcX)?c:0,null!=(u=s.srcY)?u:0,s.srcWidth,s.srcHeight,null!=(d=s.trgX)?d:0,null!=(h=s.trgY)?h:0,s.trgWidth,s.trgHeight),l=n.toDataURL("image/png"),i.emit("thumbnail",e,l),null!=t?t():void 0},r.src=n.result},n.readAsDataURL(e)},t.prototype.processQueue=function(){var e,t,n,i;if(t=this.options.parallelUploads,n=this.getUploadingFiles().length,e=n,!(n>=t)&&(i=this.getQueuedFiles(),i.length>0)){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-n));for(;t>e;){if(!i.length)return;this.processFile(i.shift()),e++}}},t.prototype.processFile=function(e){return this.processFiles([e])},t.prototype.processFiles=function(e){var n,i,r;for(i=0,r=e.length;r>i;i++)n=e[i],n.processing=!0,n.status=t.UPLOADING,this.emit("processing",n);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},t.prototype._getFilesWithXhr=function(e){var t,n;return n=function(){var n,i,r,o;for(r=this.files,o=[],n=0,i=r.length;i>n;n++)t=r[n],t.xhr===e&&o.push(t);return o}.call(this)},t.prototype.cancelUpload=function(e){var n,i,r,o,s,a,l;if(e.status===t.UPLOADING){for(i=this._getFilesWithXhr(e.xhr),r=0,s=i.length;s>r;r++)n=i[r],n.status=t.CANCELED;for(e.xhr.abort(),o=0,a=i.length;a>o;o++)n=i[o],this.emit("canceled",n);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else((l=e.status)===t.ADDED||l===t.QUEUED)&&(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));return this.options.autoProcessQueue?this.processQueue():void 0},t.prototype.uploadFile=function(e){return this.uploadFiles([e])},t.prototype.uploadFiles=function(e){var i,r,o,s,a,l,c,u,d,h,f,p,m,g,v,y,b,_,w,x,C,k,S,E,T,N,A,M,D,L,I,F=this;for(y=new XMLHttpRequest,b=0,C=e.length;C>b;b++)i=e[b],i.xhr=y;y.open(this.options.method,this.options.url,!0),y.withCredentials=!!this.options.withCredentials,m=null,o=function(){var t,n,r;for(r=[],t=0,n=e.length;n>t;t++)i=e[t],r.push(F._errorProcessing(e,m||F.options.dictResponseError.replace("{{statusCode}}",y.status),y));return r},g=function(t){var n,r,o,s,a,l,c,u,d;if(null!=t)for(r=100*t.loaded/t.total,o=0,l=e.length;l>o;o++)i=e[o],i.upload={progress:r,total:t.total,bytesSent:t.loaded};else{for(n=!0,r=100,s=0,c=e.length;c>s;s++)i=e[s],(100!==i.upload.progress||i.upload.bytesSent!==i.upload.total)&&(n=!1),i.upload.progress=r,i.upload.bytesSent=i.upload.total;if(n)return}for(d=[],a=0,u=e.length;u>a;a++)i=e[a],d.push(F.emit("uploadprogress",i,r,i.upload.bytesSent));return d},y.onload=function(n){var i;if(e[0].status!==t.CANCELED&&4===y.readyState){if(m=y.responseText,y.getResponseHeader("content-type")&&~y.getResponseHeader("content-type").indexOf("application/json"))try{m=JSON.parse(m)}catch(r){n=r,m="Invalid JSON response from server."}return g(),200<=(i=y.status)&&300>i?F._finished(e,m,n):o()}},y.onerror=function(){return e[0].status!==t.CANCELED?o():void 0},p=null!=(A=y.upload)?A:y,p.onprogress=g,l={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(l,this.options.headers);for(s in l)a=l[s],y.setRequestHeader(s,a);if(r=new FormData,this.options.params){M=this.options.params;for(h in M)v=M[h],r.append(h,v)}for(_=0,k=e.length;k>_;_++)i=e[_],this.emit("sending",i,y,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,y,r),"FORM"===this.element.tagName)for(D=this.element.querySelectorAll("input, textarea, select, button"),w=0,S=D.length;S>w;w++)if(c=D[w],u=c.getAttribute("name"),d=c.getAttribute("type"),"SELECT"===c.tagName&&c.hasAttribute("multiple"))for(L=c.options,x=0,E=L.length;E>x;x++)f=L[x],f.selected&&r.append(u,f.value);else(!d||"checkbox"!==(I=d.toLowerCase())&&"radio"!==I||c.checked)&&r.append(u,c.value);for(N=0,T=e.length;T>N;N++)i=e[N],r.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),i,i.name);return y.send(r)},t.prototype._finished=function(e,n,i){var r,o,s;for(o=0,s=e.length;s>o;o++)r=e[o],r.status=t.SUCCESS,this.emit("success",r,n,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("successmultiple",e,n,i),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},t.prototype._errorProcessing=function(e,n,i){var r,o,s;for(o=0,s=e.length;s>o;o++)r=e[o],r.status=t.ERROR,this.emit("error",r,n,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("errormultiple",e,n,i),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},t}(i),e.version="3.8.2",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[r(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,n,i,r,o,s;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],t=function(e){var t,n,r,o;for(o=[],n=0,r=e.length;r>n;n++)t=e[n],/(^| )dropzone($| )/.test(t.className)?o.push(i.push(t)):o.push(void 0);return o},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),s=[],r=0,o=i.length;o>r;r++)n=i[r],e.optionsForElement(n)!==!1?s.push(new e(n)):s.push(void 0);return s},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,n,i,r,o;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=e.blacklistedBrowsers,i=0,r=o.length;r>i;i++)n=o[i],n.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},c=function(e,t){var n,i,r,o;for(o=[],i=0,r=e.length;r>i;i++)n=e[i],n!==t&&o.push(n);return o},r=function(e){return e.replace(/[\-_](\w)/g,function(e){return e[1].toUpperCase()})},e.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},e.getElements=function(e,t){var n,i,r,o,s,a,l,c;if(e instanceof Array){r=[];try{for(o=0,a=e.length;a>o;o++)i=e[o],r.push(this.getElement(i,t))}catch(u){n=u,r=null}}else if("string"==typeof e)for(r=[],c=document.querySelectorAll(e),s=0,l=c.length;l>s;s++)i=c[s],r.push(i);else null!=e.nodeType&&(r=[e]);if(null==r||!r.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return r},e.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},e.isValidFile=function(e,t){var n,i,r,o,s;if(!t)return!0;for(t=t.split(","),i=e.type,n=i.replace(/\/.*$/,""),o=0,s=t.length;s>o;o++)if(r=t[o],r=r.trim(),"."===r.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(r.toLowerCase(),e.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(n===r.replace(/\/.*$/,""))return!0}else if(i===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof n&&null!==n?n.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",s=function(e){var t,n,i,r,o,s,a,l,c,u;for(a=e.naturalWidth,s=e.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=s,i=n.getContext("2d"),i.drawImage(e,0,0),r=i.getImageData(0,0,1,s).data,u=0,o=s,l=s;l>u;)t=r[4*(l-1)+3],0===t?o=l:u=l,l=o+u>>1;return c=l/s,0===c?1:c},a=function(e,t,n,i,r,o,a,l,c,u){var d;return d=s(t),e.drawImage(t,n,i,r,o,a,l,c,u/d)},o=function(e,t){var n,i,r,o,s,a,l,c,u;if(r=!1,u=!0,i=e.document,c=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",a=i.addEventListener?"":"on",o=function(n){return"readystatechange"!==n.type||"complete"===i.readyState?(("load"===n.type?e:i)[l](a+n.type,o,!1),!r&&(r=!0)?t.call(e,n.type||n):void 0):void 0},s=function(){var e;try{c.doScroll("left")}catch(t){return e=t,setTimeout(s,50),void 0}return o("poll")},"complete"!==i.readyState){if(i.createEventObject&&c.doScroll){try{u=!e.frameElement}catch(d){}u&&s()}return i[n](a+"DOMContentLoaded",o,!1),i[n](a+"readystatechange",o,!1),e[n](a+"load",o,!1)}},e._autoDiscoverFunction=function(){return e.autoDiscover?e.discover():void 0},o(window,e._autoDiscoverFunction)}).call(this)}),e.alias("component-emitter/index.js","dropzone/deps/emitter/index.js"),e.alias("component-emitter/index.js","emitter/index.js"),"object"==typeof exports?module.exports=e("dropzone"):"function"==typeof define&&define.amd?define(function(){return e("dropzone")}):this.Dropzone=e("dropzone")}(),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};Dropzone.autoDiscover=!1,Leanpub.AssetsController=function(){function t(t){var i,r,o,s,a,l,c=this;if(this.$element=t,this.enableForm=e(this.enableForm,this),this.updateSubmitControl=e(this.updateSubmitControl,this),this.$form=this.$element.closest("form"),this.$form.on("submit",function(){return!$(this).find(":submit").attr("disabled")}),this.disableAllowed=null!=this.$element.data("disable-allowed"),this.$element.dropzone({addRemoveLinks:!0,uploadMultiple:!1,method:"put",headers:n,error:function(e,t){var n,i,r,o,s;for(e.previewElement.classList.add("dz-error"),o=e.previewElement.querySelectorAll("[data-dz-errormessage]"),s=[],i=0,r=o.length;r>i;i++)n=o[i],s.push(n.textContent=this.options.dictResponseError.replace("{{message}}",t.message));return s},dictResponseError:"We could not accept your file. {{message}}.",dictDefaultMessage:"Drag one or more files here (or click to browse)"}),(this.dropzone=Dropzone.forElement(this.$element.get(0))).on("removedfile",function(e){return $.ajax({type:"delete",url:c.dropzone.options.url,headers:n,data:{file:[e.name]}}),c.updateSubmitControl()}).on("processing",function(){return c.enableForm(!1)}).on("complete",function(){return c.updateSubmitControl()}),r=this.$element.data("files")){for(o=0,a=r.length;a>o;o++)i=r[o],i.status="success";for(this.dropzone.files=r,s=0,l=r.length;l>s;s++)i=r[s],this.dropzone.emit("addedfile",i)}this.updateSubmitControl()}var n;return n={"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},t.prototype.updateSubmitControl=function(){var e,t,n,i,r;for(t=!1,r=this.dropzone.files,n=0,i=r.length;i>n;n++)if(e=r[n],"success"===e.status){t=!0;break}return this.enableForm(t)},t.prototype.enableForm=function(e){return this.$form.find(":submit").attr("disabled",this.disableAllowed?!e:!1)},t}(),$(function(){return $(".upload_assets").each(function(){return new Leanpub.AssetsController($(this))})})}.call(this),$(function(){(Leanpub.isAuthorInCurrentContext()||Leanpub.isEditorInCurrentContext())&&($("#author_bar").show(),$("#books-show header").hide())}),function(){var e,t,n,i,r,o,s;o=function(){var e;switch(e=150,$("#copyright-radio-buttons input:checked").val()){case"default":return $("#custom-copyright-options, #creative-commons-options").hide(e),s("default");case"custom":return $("#custom-copyright-options").show(e),$("#creative-commons-options").hide(e),s("custom");case"creativecommons":return $("#custom-copyright-options").hide(e),$("#creative-commons-options").show(e),s("creativecommons")}},s=function(){var o,s;return s=$("#copyright-radio-buttons input:checked").val(),o=function(){switch(s){case"default":return"© "+r()+" "+i();case"custom":return"© "+n()+" "+t();case"creativecommons":return e()}}(),$("#copyright-example").html(o)},i=function(){return Leanpub.defaultCopyrightAuthor},t=function(){var e;return e=$("#book_copyright").val(),0===e.length?i():e},r=function(){return Leanpub.defaultCopyrightDateRange},n=function(){var e;return e=$("#book_custom_copyright_date_range").val(),0===e.length?r():e},e=function(){var e,t,n,i;return n=$("#creative-commons-options .radio_buttons input:checked").val(),e=null!=$("#creative-commons-options .boolean input:checked").val(),i=["by"],t="Creative Commons Attribution",e||(i=i.concat("nc"),t+="-NonCommercial"),"no"===n&&(i=i.concat("nd"),t+="-NoDerivs"),"sharealike"===n&&(i=i.concat("sa"),t+="-ShareAlike"),i=i.join("-"),t+=" 3.0 Unported License",'<span id="cc-text">\n<a rel="license" href="https://web.archive.org/web/20140621124411/http://creativecommons.org/licenses/'+i+'/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="/cc_images/cc-'+i+'.png" /></a><br />This work is licensed under a <a rel="license" href="https://web.archive.org/web/20140621124411/http://creativecommons.org/licenses/'+i+'/3.0/deed.en_US">'+t+"</a>.\n</span>"},$(function(){return Leanpub.defaultCopyrightAuthor=$("#book_copyright").data("default"),Leanpub.defaultCopyrightDateRange=$("#book_custom_copyright_date_range").data("default"),$("#copyright-radio-buttons input:radio").change(o),$("#book_copyright").keyup(s),$("#book_custom_copyright_date_range").keyup(s),$("#creative-commons-options input").change(s),o()})}.call(this),$(function(){var e=function(e){var t=$("#book_authors"),n=e.namespace.split(".")[0],i=e.namespace.split(".")[1];if("phone"==i)switch(n){case"enter":t.insertAfter("#book_main > div.row > :first-child").removeClass("span4").addClass("span8");break;case"exit":t.prependTo("#book_sidebar > div.row").removeClass("span8").addClass("span4")}};$(document).on("mediachange.enter.phone",e).on("mediachange.exit.phone",e)}),Leanpub.CheckoutController=function(){var e,t,n,i,r,o,s,a,l,c,u,d,h,f={price_per_copy_input:"#purchase_price_before_coupon",royalty_per_unit_input:"#purchase_royalty_per_unit",cause_royalty_per_unit_input:"#purchase_cause_royalty_per_unit",price_slider_element:"#purchase_price_before_coupon_slider",value_element:".ui-slider-value",value_input:".ui-slider-value input",handle_element:".ui-slider-handle",range_element:".ui-slider-range",purchase_form:".purchase_form",total_before_coupon:"tr.total_before_coupon td, tr.total td",savings:"tr.savings td",total:"tr.total td",all_totals:"fieldset.total td",paypal_button:"#do_express_checkout_button",charge_credit_card_button:"#charge_credit_card_button",coupon_validity_element:".coupon-validity",coupon_validity_indicator:".coupon-validity .add-on",coupon_code_input:"#purchase_coupon_code",copies_input:"#purchase_quantity",confirm_table:"fieldset.checkout table",free_field_group:"#freeDownload",checkout_fieldset:"fieldset.checkout",free_button:"#purchase_submit",purchase_element:"#purchase"},p=200,m={},g=.99,v=1,y=function(e,t){return(t?"":"$ ")+parseFloat(e).toFixed(2)
},b=function(e){return y(e,!0)},_=function(e){var t=parseInt(e);return jQuery.isNumeric(t)&&t>0&&1e3>t?t:1},w=function(e,t){var n=b(e);return jQuery.isNumeric(n)?n:b("function"==jQuery.type(t)?t(a):a)},x=function(e){var t=!1,n=500;return e<m.min?(e=m.min,t=!0):0!=e&&g>e?(e=g,t=!0):0>e?(e=0,t=!0):e>n&&(e=n,t=!0),t?e:!1},C=function(e){var t=x(e);return t?t:e},k=function(e){e=parseFloat(e);var t=0===e?0:(e*o-s/v)*l;return Math.floor(100*t)/100},S=function(e){e=parseFloat(e);var t=0===e?0:(e*o-s/v)*c;return Math.floor(100*t)/100},E=function(e){e=parseFloat(e);var t=0===e?0:(e/l+s/v)/o;return Math.ceil(100*t)/100},T=function(e){e=parseFloat(e);var t=0===e?0:C((e/c+s/v)/o);return Math.ceil(100*t)/100},N=function(e){$(f.paypal_button).add(f.charge_credit_card_button)[(e?"remove":"add")+"Class"]("unclickable").attr("disabled",!e)},A=function(){N(!1)},M=function(){N(!0)},D=function(e){return e!=i?!0:void 0},L=function(t){e[(t?"remove":"add")+"Class"]("no_coupon");var n="",i="➔";t?(n="valid",i="✔"):t||""===$(f.coupon_code_input).val()||(n="invalid",i="✘"),$(f.coupon_validity_element).removeClass("valid").removeClass("invalid").addClass(n),$(f.coupon_validity_indicator).text(i)},I=function(e){e.metaKey||(clearTimeout(n),D($(e.target).val())&&(n=setTimeout(F,p)))},F=function(e){clearTimeout(n),(!e||D($(e.target).val()))&&($(f.coupon_validity_indicator).removeClass("valid").removeClass("invalid").empty().spin("tiny"),K())},P=function(){v=_($(this).val()),$(this).val(v),U(w($(f.price_per_copy_input).val()))},R=function(e){var t=w($(this).val()),n=x(t);jQuery.isNumeric(n)&&(t=n,e.preventDefault()),$(this).val(t),U(t)},O=function(e){var t=w($(this).val(),E),n=x(E(t));jQuery.isNumeric(n)&&(t=k(n),e.preventDefault()),$(this).val(t),q(t)},B=function(e){var t=w($(this).val(),T),n=x(T(t));jQuery.isNumeric(n)&&(t=S(n),e.preventDefault()),$(this).val(t),W(t)},H=function(e,t){var n=t.value,i=x(n);jQuery.isNumeric(i)&&(n=i,e.preventDefault()),U(n)},j=function(e,t){var n=t.value,i=x(E(n));jQuery.isNumeric(i)&&(n=k(i),e.preventDefault()),q(n)},z=function(e,t){var n=t.value,i=x(T(n));jQuery.isNumeric(i)&&(n=S(i),e.preventDefault()),W(n)},U=function(t){var n=(t-m.min)/(m.max-m.min);u.data("value",t),royaltySliderShown&&h.data("value",k(t)),causeSliderShown&&d.data("value",S(t)),u.add(h).add(d).each(function(){var e=$(this).data("value"),t={},i=100,r=$(this).data("range_color"),o=$.xcolor.gradientlevel(r.min,r.max,Math.min(1,n)*i,i);$(f.range_element,this).css("background-color",o),$(this).slider("value",e),$(f.value_input,this).val(b(e));var s=$(f.value_element,this),a=$(f.handle_element,this).width(),l=s.outerWidth(!0),c=$(this).width(),u=e/m.max,d=l>u*c-a/2;t=d?jQuery.extend(t,{left:u*c+a/2+parseInt(s.css("margin-right"),10)}):jQuery.extend(t,{left:0}),!d&&n>.65?s.closest(".ui-slider-value").addClass("inverse"):s.closest(".ui-slider-value").removeClass("inverse"),s.css(t)}),e.hasClass("no_coupon")&&(e[(0==t?"add":"remove")+"Class"]("free"),$(f.free_field_group).find(":input").attr("disabled",0!=t)),G()},q=function(e){U(E(e))},W=function(e){U(T(e))},V=function(){var e=$(f.purchase_form).attr("action")+"/check_double_purchase.js";$.post(e,{username:Leanpub.getUsername},X,"json")},X=function(e){e.owned&&$("#double-purchase-warning").show()},K=function(){t&&t.abort(),A(),$(f.all_totals).html("&nbsp;").spin("tiny"),$(f.free_button).parent().spin("tiny");var e=$(f.purchase_form).attr("action")+"/check_coupon.js",n=$(f.coupon_code_input).val();t=jQuery.post(e,{code:n},Q,"json")},Q=function(e){e&&($(f.all_totals).spin(!1),$(f.free_button).parent().spin(!1),L(e.valid),e.valid?(i=e.code,r=e.discounted_price):(i=null,r=null),M(),$("#hidden-coupon-code").val(e.code),G())},G=function(){var t,n;i?(t=m.min,n=r):(t=parseFloat($(f.price_per_copy_input).val()),n=t);var o=t-n,s=0===n;$(f.total_before_coupon).text(y(t*v)),$(f.savings).text(y(o*v)),$(f.total).text(y(n*v)),e[(s?"add":"remove")+"Class"]("free"),$(f.free_field_group).find(":input").attr("disabled",!s)},Y=function(e,t){$(f.purchase_form)[("exit"==t?"add":"remove")+"Class"]("form-horizontal")},Z=function(){$(f.royalty_per_unit_input).tooltip("hide")},J=function(){$("#all-gift-fields").removeClass("hide"),royaltySliderShown&&$(".author-earnings").removeClass("hide"),Leanpub.showCoupon&&$("#coupon-input").removeClass("hide"),u=$(f.price_per_copy_input).rangeinput({min:0,unit:"$ ",formatter:b,input_events:{change:R}}),royaltySliderShown&&(h=$(f.royalty_per_unit_input).rangeinput({min:0,unit:"$ ",formatter:b,input_events:{change:O}})),causeSliderShown&&(d=$(f.cause_royalty_per_unit_input).rangeinput({min:0,unit:"$ ",formatter:b,input_events:{change:B}}),$(".cause-earnings").removeClass("hide")),$(f.price_slider_value).find("input").val(b($(f.price_per_copy_input).val())),u.add(h).add(d).each(function(){var e=$('<div class="ui-slider-range"></div><div class="ui-slider-range happy-price"></div>');$(this).append(e).data("range_color",{min:e.filter(".ui-slider-range:not(.happy-price)").css("background-color"),max:e.filter(".ui-slider-range.happy-price").css("background-color")}),e.remove()}),U($(f.price_per_copy_input).val()),setTimeout(function(){$(f.royalty_per_unit_input).tooltip({placement:"bottom",trigger:"manual"}).tooltip("show"),setTimeout(function(){Z()},4e3)},1500),u.on({slide:H}),royaltySliderShown&&h.on({slide:j}),causeSliderShown&&d.on({slide:z});var e=$(f.price_per_copy_input).add(f.royalty_per_unit_input);e.focus(function(){$(this).select()}).one("mouseup",!1).blur(function(){e.one("mouseup",!1)})},et=function(t){e=$(t),$(f.price_per_copy_input).add(f.royalty_per_unit_input).css("visibility","visible"),m.min=parseFloat($(f.price_per_copy_input).attr("min")),m.max=parseFloat($(f.price_per_copy_input).attr("max")),o=$(f.purchase_form).data("royaltiesToRevenueRatio"),l=$(f.purchase_form).data("ratioOfRevenueToAuthors"),c=$(f.purchase_form).data("ratioOfRevenueToCauses"),a=$(f.purchase_form).data("suggestedPrice"),s=$(f.purchase_form).data("flatFee"),"undefined"!=typeof _kmq&&($(f.purchase_form).submit(function(){_kmq.push(["record","Proceeded to Payment"])}),$(f.paypal_button).click(function(){_kmq.push(["record","Proceeded to Payment"])})),Leanpub.couponData?(i=Leanpub.couponData.code,$(f.coupon_code_input).val(i)):i=$(f.coupon_code_input).val(),J(),$(document).on("mediachange.change.mobile",Y),$(f.purchase_form).mousedown(function(){Z()}),$(f.purchase_form).keypress(function(e){return $(e.originalEvent.target).is($(f.price_per_copy_input).add(f.royalty_per_unit_input))?13!=e.which:void 0}),$(f.price_per_copy_input).add(f.royalty_per_unit_input).keypress(function(e){13==e.which&&$(this).blur()}),$(f.coupon_code_input).keydown(I).change(F),$(f.copies_input).change(P),$("html.touch").length&&$(f.price_per_copy_input).add(f.royalty_per_unit_input).on("touchstart",function(e){e.stopPropagation()}).prop("type","number"),"undefined"!=typeof $(f.coupon_code_input).val()&&K(),V()};return{init:et}}();var hideInputs=function(){Leanpub.checkForUser(),logged_in=Leanpub.isLoggedIn(),$(".show_if_logged_"+(logged_in?"in":"out")).show(),$(".show_if_logged_"+(logged_in?"out":"in")).hide(),$(".hide_if_logged_"+(logged_in?"out":"in")).show(),$(".hide_if_logged_"+(logged_in?"in":"out")).hide(),logged_in&&$(".hide-if-logged-in").hide().find("input").attr("disabled",!0)};$(document).ready(function(){var e="#purchase";$(e).length>0&&Leanpub.CheckoutController.init(e),$("#purchase_share_email_with_author").change(function(){var e=$("#purchase_share_email_with_author").prop("checked")?"1":"0";$("#free_purchase_share_email_with_author").val(e)}),$("#purchase_is_gift").change(function(){var e=$("#purchase_is_gift").prop("checked")?"1":"0";$("#free_purchase_is_gift").val(e)}),$("#purchase_giftee_email").change(function(){$("#free_purchase_giftee_email").val($("#purchase_giftee_email").val())}),$("#purchase_gift_note").change(function(){$("#free_purchase_gift_note").val($("#purchase_gift_note").val())}),$("#purchase_is_gift").prop("checked")&&$("#gift-fields").show(100),$("#purchase_is_gift").change(function(){$("#purchase_is_gift").prop("checked")?$("#gift-fields").show(100):$("#gift-fields").hide(100)}),t_0=new Date,hideInputs();for(var t=300;2500>t;t+=300)setTimeout(hideInputs,t)}),function(){$(function(){return $(".chzn-select").chosen()})}.call(this),function(){$(".clipboardy").click(function(e){var t,n,i;return n=$(e.target),(t=n.attr("data-clipboard-text"))?(i=n.attr("title"),window.prompt(i,decodeURI(t)),e.preventDefault()):void 0})}.call(this),function(){var e,t,n;("undefined"==typeof e||null===e)&&(e={}),n=function(){return $("#user-has-api-key").hide(),$("#user-no-api-key").show().removeClass("hidden")},t=function(e,t){return $("#user-has-api-key").show().removeClass("hidden"),$("#user-no-api-key").hide(),$("#your-api-key").text(t.key)},$(function(){return $("#revoke-api-link").bind("ajax:success",n),$("#enable-api-link, #change-api-key-link").bind("ajax:success",t)})}.call(this),function(){var e;e=function(e,t){return $(e.currentTarget).replaceWith("<span class='send-to-kindle-link'>Sent to Kindle</span>"),Leanpub.setFlashNotice("alert-info","We have sent "+t.title+" to your Kindle via "+t.kindle_email+". Once it is sent by Amazon (which can take up to 5 minutes), it will arrive on your Kindle the next time you connect to wi-fi.")},$(function(){return $(".send-to-kindle-link").bind("ajax:success",e)})}.call(this),function(){window.Leanpub||(window.Leanpub=new Leanpub),Leanpub.flashContainer=$("#flash_prototype"),Leanpub.setFlashNotice=function(e,t){return $("#flash_"+e).length||Leanpub.flashContainer.clone().addClass(e).attr("id","flash_"+e).insertAfter(Leanpub.flashContainer),$("#flash_"+e).find("p").text(t)},$(function(){var e,t;return t={notice:"alert-info",alert:"alert-warning",error:"alert-error",success:"alert-success"},Leanpub.flashContainer.length&&(e=$.parseJSON($.cookie("cookied-flash")),null!=e)?(jQuery.each(t,function(t,n){var i,r;if(e[t])return r=function(){try{return decodeURI(e[t]).replace(/\+/g," ")}catch(n){return i=n,e[t]}}(),Leanpub.setFlashNotice(n,r)}),$.cookie("cookied-flash",null,{expire:-1,path:"/"})):void 0})}.call(this),function(){$(function(){return $(".initialFocus").focus()})}.call(this),function(){$(function(){var e,t,n,i;return Leanpub.isLoggedIn()&&(t=Leanpub.getFullName(),i=Leanpub.getUsername(),n=Leanpub.getIsAuthor(),""!==i&&$("#user_menu .profile_link").attr({href:"/u/"+i}),n&&($("#user_menu .edit_profile_link").show(),$("#user_menu .profile_link").show())),e=Leanpub.isLoggedIn(),$(".show_if_logged_"+(e?"in":"out")).show(),$(".hide_if_logged_"+(e?"out":"in")).show()})}.call(this),function(){var e,t;t=function(){return $("#homepage-essay").siblings().not("header.navbar").hide(100),$("#homepage-essay").show(100)},e=function(){return $("#homepage-essay").siblings().show(100),$("#homepage-essay").hide(100)},$(function(){var n,i,r,o,s;return n=$("#featured"),i=n.find("#featured_book"),r=i.find(".cms-content"),s=$("#top_books"),o=function(){var e,t,o,a,l;if(i.height("auto"),r.css("overflow","visible").height("auto"),$(this).width()>=768){if(l=s.height(),e=n.height(),t=e-l,0===t)return;return o=0>t?i.height("auto"):r.css("overflow","auto"),a=o.height()-t,o.height(a)}},i&&s&&(o(),$(window).on("resize",o)),$("#homepage-essay")?(t(),$(".show-home-page").click(e)):void 0})}.call(this),function(){$(function(){return $("#mailchimp-subscribe").bind("ajax:success",function(e,t){return $("#mailchimp-subscribe-button").attr("disabled","disabled").val("You're Subscribed!"),Leanpub.setFlashNotice("alert-info","We have successfully subscribed "+t.email+" to our mailing list.")}),$("#mailchimp-unsubscribe").bind("ajax:success",function(e,t){return $("#mailchimp-unsubscribe-button").attr("disabled","disabled").val("You are no longer subscribed"),Leanpub.setFlashNotice("alert-info","We have successfully unsubscribed "+t.email+" from our mailing list.")})})}.call(this),function(){$(function(){return $(".modal [data-dismiss]").click(function(){return $(this).parents(".modal").hide()})})}.call(this),function(){$(function(){return $("#giftee-email").bind("ajax:success",function(){return $("#giftee-email-button").attr("disabled","disabled").val("Email Sent!"),Leanpub.setFlashNotice("alert-info","We have successfully re-sent the giftee email!")})})}.call(this),function(){var e,t,n,i;$(function(){return Leanpub.isEditorInCurrentContext()&&$("#publisher-edit-link").show(),$("input[name=use_existing_author]:radio").change(n),$("#publisher_author_is_editor").click(e),$('input[name="publisher[use_leanpub_verso]"]').change(t),e(),n(),t(),$("#publisher-books-new input[name='user[book][publisher_mode]'], #publisher-books-create input[name='user[book][publisher_mode]']").click(i)}),n=function(){var e;return e="true"===$("input[name=use_existing_author]:radio:checked").val(),$("#existing-author-user input, #existing-author-user select").prop("disabled",!e),$("#new-author-user input").prop("disabled",e)},e=function(){var e;return e=$("#publisher_author_is_editor").prop("checked"),$("#author-fields input").prop("disabled",e)},t=function(){var e;return e="true"===$("input[name='publisher[use_leanpub_verso]']:radio:checked").val(),e?$(".verso_page_blurb").attr("disabled","disabled"):$(".verso_page_blurb").removeAttr("disabled")},i=function(){return console.log("I have been clicked"),"leanpub"===$("input[name='user[book][publisher_mode]']:checked").val()?$("#do_express_checkout_button,#user_submit").removeClass("use-workflow"):$("#do_express_checkout_button,#user_submit").addClass("use-workflow")}}.call(this),function(){var e;e=function(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,"\n")},$(function(){return $("[data-slug-from]").each(function(){var t,n,i;return t=$(this),i=t.data("slugFrom"),n=$("[data-slug-for='"+i+"']"),n.focusout(function(){var i;return i=n.val(),n.val(e(i)),t.val(i.toLowerCase().replace(/[^a-z0-9\-_]/g,""))}),t.focusout(function(){var e;return e=t.val().replace(/[^a-zA-Z0-9\-_]/g,""),t.val(e)})})})}.call(this),function(){var e,t;$(function(){return $("input[name='book[sync_mode]'], input[name='user[book][sync_mode]']").click(e),e(),$("input[name='user[email]']").blur(t)}),e=function(){var e;switch(e=$("input[name='book[sync_mode]']:checked, input[name='user[book][sync_mode]']:checked").val()){case"none":return $("#dropbox-email").hide(100),$("#github-repo").hide(100);case"dropbox":return $("#dropbox-email").show(100),$("#github-repo").hide(100);case"github":return $("#dropbox-email").hide(100),$("#github-repo").show(100)}},t=function(){var e;return e=$("input[name='user[email]']").val(),$("input[name='user[book][dropbox_email]']").val(e)}}.call(this),function(){}.call(this),function(){$(function(){return $("#receipt-button").click(function(){return setTimeout($("#receipt-button").val("Sending..."),1)}),$("#receipt-form").bind("ajax:success",function(e,t){return $("#receipt-button").attr("disabled","disabled").val("Receipt sent"),Leanpub.setFlashNotice("alert-info","We have sent a receipt to "+t.email+". It should arrive in the next 10 minutes or so.")}),$("#share_email_with_author").bind("ajax:success",function(){return $("#share_email_with_author-button").attr("disabled","disabled").val("Email Shared!"),Leanpub.setFlashNotice("alert-info","We have successfully shared your email with the author.")}),$("#custom-info-link").click(function(e){return $("#custom-receipt-info-input").show(250),$("#custom-info-link").hide(),e.preventDefault()}),$("#gift-email-link").click(function(e){return $("#gift-email-form").show(250),$("#gift-email-link").hide(),e.preventDefault()}),$("#gift-email").bind("ajax:success",function(){return $("#gift-email-button").attr("disabled","disabled").val("Email Sent!"),Leanpub.setFlashNotice("alert-info","We have successfully re-sent the giftee email!")}),$("#receipt-form").bind("ajax:error",function(e,t){var n;return n=$.parseJSON(t.responseText),$("#receipt-button").removeAttr("disabled").html("Send me a receipt"),Leanpub.setFlashNotice("alert-error","There was an error while sending a receipt to "+n.email+".")})})}.call(this);
/*
     FILE ARCHIVED ON 12:44:11 Jun 21, 2014 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 04:13:40 Feb 06, 2018.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/